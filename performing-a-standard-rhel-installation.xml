<?xml version="1.0" encoding="UTF-8"?>
<?asciidoc-toc?>
<?asciidoc-numbered?>
<article xmlns="http://docbook.org/ns/docbook" xmlns:xl="http://www.w3.org/1999/xlink" version="5.0" xml:lang="en" xml:id="installing-RHEL">
<info>
<title>Performing a standard RHEL 9 installation</title>
<date>2024-09-10</date>
<orgname>Red Hat</orgname>
</info>
<preface xml:id="making-open-source-more-inclusive">
<title>Making open source more inclusive</title>
<simpara role="_abstract">Red Hat is committed to replacing problematic language in our code, documentation, and web properties. We are beginning with these four terms: master, slave, blacklist, and whitelist. Because of the enormity of this endeavor, these changes will be implemented gradually over several upcoming releases. For more details, see <link xl:href="https://www.redhat.com/en/blog/making-open-source-more-inclusive-eradicating-problematic-language">our CTO Chris Wright&#8217;s message</link>.</simpara>
</preface>
<preface xml:id="proc_providing-feedback-on-red-hat-documentation_installing-RHEL">
<title>Providing feedback on Red Hat documentation</title>
<simpara role="_abstract">We appreciate your feedback on our documentation. Let us know how we can improve it.</simpara>
<orderedlist numeration="arabic">
<title>Submitting feedback through Jira (account required)</title>
<listitem>
<simpara>Log in to the <link xl:href="https://issues.redhat.com/projects/RHELDOCS/issues">Jira</link> website.</simpara>
</listitem>
<listitem>
<simpara>Click <emphasis role="strong">Create</emphasis> in the top navigation bar</simpara>
</listitem>
<listitem>
<simpara>Enter a descriptive title in the <emphasis role="strong">Summary</emphasis> field.</simpara>
</listitem>
<listitem>
<simpara>Enter your suggestion for improvement in the <emphasis role="strong">Description</emphasis> field. Include links to the relevant parts of the documentation.</simpara>
</listitem>
<listitem>
<simpara>Click <emphasis role="strong">Create</emphasis> at the bottom of the dialogue.</simpara>
</listitem>
</orderedlist>
</preface>
<section xml:id="installation-methods-advanced_installing-RHEL">
<title>Installation methods</title>
<simpara>Depending on your requirements, you can install Red Hat Enterprise Linux using several methods. Review the following sections to determine the best installation method for your requirements.</simpara>
<section xml:id="installation-methods_advanced_installation-methods">
<title>Available installation methods</title>
<simpara>This is a codeblock:</simpara>
<programlisting language="yaml" linenumbering="unnumbered">apiVersion: logging.openshift.io/v1
kind: ClusterLogging <co xml:id="CO1-1"/>
metadata:
  name: instance
  namespace: openshift-logging <co xml:id="CO1-2"/>
spec:
  collection:
    logs:
      type: vector <co xml:id="CO1-3"/>
      vector: {}
# ...</programlisting>
<calloutlist>
<callout arearefs="CO1-1">
<para>Blah</para>
</callout>
<callout arearefs="CO1-2">
<para>Blah Blah</para>
</callout>
<callout arearefs="CO1-3">
<para>Blah Blah Blah</para>
</callout>
</calloutlist>
<simpara role="_abstract">You can install Red Hat Enterprise Linux using any of the following methods:</simpara>
<itemizedlist>
<listitem>
<simpara>GUI-based installations</simpara>
</listitem>
<listitem>
<simpara>System or cloud image-based installations</simpara>
</listitem>
<listitem>
<simpara>Advanced installations</simpara>
</listitem>
</itemizedlist>
<formalpara>
<title>GUI-based installations</title>
<para>You can choose from the following GUI-based installation methods:</para>
</formalpara>
<itemizedlist>
<listitem>
<simpara><emphasis role="strong">Install RHEL using an ISO image from the Customer Portal:</emphasis>
Install Red Hat Enterprise Linux by downloading the <emphasis role="strong">DVD ISO</emphasis> image file from the Customer Portal. Registration is performed after the installation completes. This installation method is supported by the GUI and Kickstart.</simpara>
</listitem>
<listitem>
<simpara><emphasis role="strong">Register and install RHEL from the Content Delivery Network:</emphasis>
Register your system, attach subscriptions, and install Red Hat Enterprise Linux from the Content Delivery Network (CDN). This installation method supports <emphasis role="strong">Boot ISO</emphasis> and <emphasis role="strong">DVD ISO</emphasis> image files; however, the <emphasis role="strong">Boot ISO</emphasis> image file is recommended as the installation source defaults to CDN for the Boot ISO image file.
After registering the system, the installer downloads and installs packages from the CDN.
This installation method is also supported by Kickstart.</simpara>
</listitem>
<listitem>
<simpara><emphasis role="strong">Perform a remote RHEL installation using VNC:</emphasis>
The RHEL installation program offers two Virtual Network Computing (VNC) installation modes: Direct and Connect.
After a connection is established, the two modes do not differ. The mode you select depends on your environment.</simpara>
</listitem>
<listitem>
<simpara><emphasis role="strong">Install RHEL from the network using PXE :</emphasis>
With a network installation using preboot execution environment (PXE), you can install Red Hat Enterprise Linux to a system that has access to an installation server.
At a minimum, two systems are required for a network installation.</simpara>
</listitem>
</itemizedlist>
<formalpara>
<title>System or cloud image-based installations</title>
<para>You can use system or cloud image-based installation methods only in virtual and cloud environments.
To perform a system or cloud image-based installation, use Red Hat Image Builder.
Image builder creates customized system images of Red Hat Enterprise Linux, including the system images for cloud deployment.</para>
</formalpara>
<simpara>For more information about installing RHEL using Image builder, see <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_a_customized_rhel_system_image/index/">Composing a customized RHEL system image</link>.</simpara>
<formalpara>
<title>Advanced installations</title>
<para>You can choose from the following advanced installation methods:</para>
</formalpara>
<itemizedlist>
<listitem>
<simpara><emphasis role="strong">Perform an automated RHEL installation using Kickstart:</emphasis>
Kickstart is an automated process that helps you install the operating system by specifying all your requirements and configurations in a file.
The Kickstart file contains RHEL installation options, for example, the time zone, drive partitions, or packages to be installed.
Providing a prepared Kickstart file completes installation without the need for any user intervention.
This is useful when deploying Red Hat Enterprise Linux on a large number of systems at once.</simpara>
</listitem>
<listitem>
<simpara><emphasis role="strong">Register and install RHEL from the Content Delivery Network:</emphasis>
Register and install Red Hat Enterprise Linux on all architectures from the Content Delivery Network (CDN).
Registration is performed before the installation packages are downloaded and installed from CDN.
This installation method is supported by the graphical user interface and Kickstart.</simpara>
</listitem>
</itemizedlist>
</section>
</section>
<section xml:id="assembly_preparing-for-your-installation_installing-RHEL">
<title>Preparing for your RHEL installation</title>
<simpara>This section describes how to prepare for your Red Hat Enterprise Linux installation.</simpara>
<section xml:id="installation-introduction_assembly_preparing-for-your-installation">
<title>Supported RHEL architectures and system requirements</title>
<simpara role="_abstract">Red Hat Enterprise Linux 9 delivers a stable, secure, consistent foundation across hybrid cloud deployments with the tools needed to deliver workloads faster with less effort.
You can deploy RHEL as a guest on supported hypervisors and Cloud provider environments as well as on physical infrastructure, so your applications can take advantage of innovations in the leading hardware architecture platforms.</simpara>
<section xml:id="installation-options_installation-introduction">
<title>Supported architectures</title>
<simpara role="_abstract">Red Hat Enterprise Linux supports the following architectures:</simpara>
<itemizedlist>
<listitem>
<simpara>AMD and Intel 64-bit architectures</simpara>
</listitem>
<listitem>
<simpara>The 64-bit ARM architecture</simpara>
</listitem>
<listitem>
<simpara>IBM Power Systems, Little Endian</simpara>
</listitem>
<listitem>
<simpara>64-bit IBM Z architectures</simpara>
</listitem>
</itemizedlist>
<note>
<simpara>For installation instructions on IBM Power Servers, see <link xl:href="https://www.ibm.com/docs/en/linux-on-systems?topic=servers-quick-start-guides-installing-linux"><emphasis>IBM installation documentation</emphasis></link>. To ensure that your system is supported for installing RHEL, see <link xl:href="https://catalog.redhat.com">https://catalog.redhat.com</link> and <link xl:href="https://access.redhat.com/articles/rhel-limits">https://access.redhat.com/articles/rhel-limits</link>.</simpara>
</note>
</section>
<section xml:id="check-system-requirements_installation-introduction">
<title>System requirements</title>
<simpara role="_abstract">If this is a first-time install of Red Hat Enterprise Linux it is recommended that you review the guidelines provided for system, hardware, security, memory, and RAID before installing.
See <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_a_standard_rhel_9_installation/index#system-requirements-reference_installing-RHEL">System requirements reference</link> for more information.</simpara>
<simpara>If you want to use your system as a virtualization host, review the <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/configuring_and_managing_virtualization/assembly_enabling-virtualization-in-rhel-9_configuring-and-managing-virtualization">necessary hardware requirements for virtualization</link>.</simpara>
<itemizedlist role="_additional-resources">
<title>Additional resources</title>
<listitem>
<simpara><link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/security_hardening/index/">Security hardening</link></simpara>
</listitem>
<listitem>
<simpara><link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_a_customized_rhel_system_image/index">Composing a customized RHEL system image</link></simpara>
</listitem>
</itemizedlist>
</section>
</section>
<section xml:id="downloading-beta-installation-images_assembly_preparing-for-your-installation">
<title>Downloading a RHEL installation ISO image</title>
<simpara role="_abstract">You can download Red Hat Enterprise Linux by visiting the Red Hat <link xl:href="https://access.redhat.com/front">customer portal</link> or you can choose to download it using the <literal>curl</literal> command.</simpara>
<section xml:id="types-of-installation-media_downloading-beta-installation-images">
<title>Types of installation ISO images</title>
<simpara role="_abstract">Two types of Red Hat Enterprise Linux 9 installation ISO images are available from the Red Hat Customer Portal.</simpara>
<variablelist>
<varlistentry>
<term>DVD ISO image file</term>
<listitem>
<simpara>It is a full installation program that contains the BaseOS and AppStream repositories. With a DVD ISO file, you can complete the installation without access to additional repositories.</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>Boot ISO image file</term>
<listitem>
<simpara>The Boot ISO image is a minimal installation that can be used to install RHEL in two different ways:</simpara>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>When registering and installing RHEL from the Content Delivery Network (CDN).</simpara>
</listitem>
<listitem>
<simpara>As a minimal image that requires access to the BaseOS and AppStream repositories to install software packages. The repositories are part of the DVD ISO image that is available for download from the <link xl:href="https://access.redhat.com/home">Red Hat Customer Portal</link>. Download and unpack the DVD ISO image to access the repositories.</simpara>
</listitem>
</orderedlist>
</listitem>
</varlistentry>
</variablelist>
<simpara>The following table contains information about the images that are available for the supported architectures.</simpara>
<table frame="all" rowsep="1" colsep="1">
<title>Boot and installation images</title>
<tgroup cols="3">
<colspec colname="col_1" colwidth="33.3333*"/>
<colspec colname="col_2" colwidth="33.3333*"/>
<colspec colname="col_3" colwidth="33.3334*"/>
<thead>
<row>
<entry align="left" valign="top">Architecture</entry>
<entry align="left" valign="top">Installation DVD</entry>
<entry align="left" valign="top">Boot DVD</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left" valign="top"><simpara>AMD64 and Intel 64</simpara></entry>
<entry align="left" valign="top"><simpara>x86_64 DVD ISO image file</simpara></entry>
<entry align="left" valign="top"><simpara>x86_64 Boot ISO image file</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>ARM 64</simpara></entry>
<entry align="left" valign="top"><simpara>AArch64 DVD ISO image file</simpara></entry>
<entry align="left" valign="top"><simpara>AArch64 Boot ISO image file</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>IBM POWER</simpara></entry>
<entry align="left" valign="top"><simpara>ppc64le DVD ISO image file</simpara></entry>
<entry align="left" valign="top"><simpara>ppc64le Boot ISO image file</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>64-bit IBM Z</simpara></entry>
<entry align="left" valign="top"><simpara>s390x DVD ISO image file</simpara></entry>
<entry align="left" valign="top"><simpara>s390x Boot ISO image file</simpara></entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section xml:id="downloading-a-specific-beta-iso-image_downloading-beta-installation-images">
<title>Downloading an ISO image from the Customer Portal</title>
<simpara>The Boot ISO image is a minimal image file that supports registering your system, attaching subscriptions, and installing RHEL from the Content Delivery Network (CDN).
The DVD ISO image file contains all repositories and software packages and does not require any additional configuration.</simpara>
<itemizedlist>
<title>Prerequisites</title>
<listitem>
<simpara>You have an active Red Hat subscription.</simpara>
</listitem>
<listitem>
<simpara>You are logged in to the <emphasis role="strong">Product Downloads</emphasis> section of the Red Hat Customer Portal at <link xl:href="https://access.redhat.com/downloads">Product Downloads</link>.</simpara>
</listitem>
</itemizedlist>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>Open the browser and access <link xl:href="https://access.redhat.com/downloads/content/rhel">https://access.redhat.com/downloads/content/rhel</link>.</simpara>
<simpara>This page lists popular downloads for Red Hat Enterprise Linux.</simpara>
</listitem>
<listitem>
<simpara>Click <guibutton>Download Now</guibutton> beside the ISO image that you require.</simpara>
</listitem>
<listitem>
<simpara>If the desired version of RHEL is not listed, click <literal>All Red Hat Enterprise Linux Downloads</literal>.</simpara>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>From the <emphasis role="strong">Product Variant</emphasis> drop-down menu, select the variant and architecture that you require.</simpara>
<itemizedlist>
<listitem>
<simpara>Optional: Select the <emphasis role="strong">Packages</emphasis> tab to view the packages contained in the selected variant. For information about the packages available in Red Hat Enterprise Linux 9, see the <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/package_manifest/index">Package Manifest</link> document.</simpara>
</listitem>
</itemizedlist>
</listitem>
<listitem>
<simpara>From the <emphasis role="strong">Version</emphasis> drop-down menu, select the RHEL version you want to download. By default, the latest version for the selected variant and architecture is selected.</simpara>
<simpara>The <emphasis role="strong">Product Software</emphasis> tab displays the image files, which include:</simpara>
<itemizedlist>
<listitem>
<simpara><emphasis role="strong">Red Hat Enterprise Linux Binary DVD</emphasis> image.</simpara>
</listitem>
<listitem>
<simpara><emphasis role="strong">Red Hat Enterprise Linux Boot ISO</emphasis> image.</simpara>
<simpara>Additional images may be available, for example, preconfigured virtual machine images.</simpara>
</listitem>
</itemizedlist>
</listitem>
<listitem>
<simpara>Click <guibutton>Download Now</guibutton> beside the ISO image that you require.</simpara>
</listitem>
</orderedlist>
</listitem>
</orderedlist>
</section>
<section xml:id="downloading-an-iso-image-with-curl_downloading-beta-installation-images">
<title>Downloading an ISO image using curl</title>
<simpara>With the <literal>curl</literal> tool, you can fetch the required file from the web using the command line to save locally or pipe it into another program as required.
This section explains how to download installation images using the <literal>curl</literal> command.</simpara>
<itemizedlist>
<title>Prerequisites</title>
<listitem>
<simpara>The <literal>curl</literal> and <literal>jq</literal> packages are installed.</simpara>
<simpara>If your Linux distribution does not use <literal>dnf</literal> or <literal>apt</literal>, or if you do not use Linux, download the most appropriate software package from the <link xl:href="https://curl.haxx.se/download.html">curl website</link>.</simpara>
</listitem>
<listitem>
<simpara>You have an offline token generated from <link xl:href="https://access.redhat.com/management/api">Red Hat API Tokens</link>.</simpara>
</listitem>
<listitem>
<simpara>You have a checksum of the file you want to download from <link xl:href="https://access.redhat.com/downloads/">Product Downloads</link>.</simpara>
</listitem>
</itemizedlist>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>Create a bash file with the following content:</simpara>
<literallayout role="white-space-pre" class="monospaced">#!/bin/bash
# set the offline token and checksum parameters
offline_token="<emphasis>&lt;offline_token&gt;</emphasis>"
checksum=<emphasis>&lt;checksum&gt;</emphasis>

# get an access token
access_token=$(curl https://sso.redhat.com/auth/realms/redhat-external/protocol/openid-connect/token -d grant_type=refresh_token -d client_id=rhsm-api -d refresh_token=$offline_token | jq -r '.access_token')

# get the filename and download url
image=$(curl -H "Authorization: Bearer $access_token" "https://api.access.redhat.com/management/v1/images/$checksum/download")
filename=$(echo $image | jq -r .body.filename)
url=$(echo $image | jq -r .body.href)

# download the file
curl $url -o $filename</literallayout>
<simpara>In the text above, replace <emphasis>&lt;offline_token&gt;</emphasis> with the token collected from the Red Hat API portal and <emphasis>&lt;checksum&gt;</emphasis> with the checksum value taken from the <emphasis>Product Downloads</emphasis> page.</simpara>
</listitem>
<listitem>
<simpara>Make this file executable.</simpara>
<literallayout role="white-space-pre" class="monospaced">$ chmod u+x FILEPATH/FILENAME.sh</literallayout>
</listitem>
<listitem>
<simpara>Open a terminal window and execute the bash file.</simpara>
<literallayout role="white-space-pre" class="monospaced">$ ./FILEPATH/FILENAME.sh <co xml:id="CO2-1"/></literallayout>
<calloutlist>
<callout arearefs="CO2-1">
<para>Test comment</para>
</callout>
</calloutlist>
</listitem>
</orderedlist>
<warning>
<simpara>Use password management that is consistent with networking best practices.</simpara>
<itemizedlist>
<listitem>
<simpara>Do not store passwords or credentials in a plain text.</simpara>
</listitem>
<listitem>
<simpara>Keep the token safe against unauthorized use.</simpara>
</listitem>
</itemizedlist>
</warning>
<itemizedlist role="_additional-resources">
<title>Additional resources</title>
<listitem>
<simpara><link xl:href="https://access.redhat.com/articles/3626371">Getting started with Red Hat APIs</link></simpara>
</listitem>
</itemizedlist>
</section>
</section>
<section xml:id="assembly_creating-a-bootable-installation-medium_assembly_preparing-for-your-installation">
<title>Creating a bootable installation medium for RHEL</title>
<simpara role="_abstract">This section contains information about using the ISO image file that you have downloaded to create a bootable physical installation medium, such as a USB, DVD, or CD.
For more information about downloading the ISO images, see <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_a_standard_rhel_9_installation/index#downloading-beta-installation-images_preparing-for-your-installation">Downloading the installation ISO image</link></simpara>
<section xml:id="choose-an-installation-boot-method_assembly_creating-a-bootable-installation-medium">
<title>Installation boot media options</title>
<simpara role="_abstract">There are several options available to boot the Red Hat Enterprise Linux installation program.</simpara>
<variablelist>
<varlistentry>
<term>Full installation DVD or USB flash drive</term>
<listitem>
<simpara>Create a full installation DVD or USB flash drive using the <emphasis role="strong">DVD ISO</emphasis> image. The DVD or USB flash drive can be used as a boot device and as an installation source for installing software packages.</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>Minimal installation DVD, CD, or USB flash drive</term>
<listitem>
<simpara>Create a minimal installation CD, DVD, or USB flash drive using the <emphasis role="strong">Boot ISO</emphasis> image, which contains only the minimum files necessary to boot the system and start the installation program.</simpara>
</listitem>
</varlistentry>
</variablelist>
<important>
<simpara>If you are not using the Content Delivery Network (CDN) to download the required software packages, the <emphasis role="strong">Boot ISO</emphasis> image requires an installation source that contains the required software packages.</simpara>
</important>
<itemizedlist role="_additional-resources">
<title>Additional resources</title>
<listitem>
<simpara><link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_an_advanced_rhel_9_installation/index/">Performing an advanced RHEL 9 installation</link></simpara>
</listitem>
<listitem>
<simpara><link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/composing_a_customized_rhel_system_image/index">Composing a customized RHEL system image</link></simpara>
</listitem>
</itemizedlist>
</section>
<section xml:id="making-an-installation-cd-or-dvd_assembly_creating-a-bootable-installation-medium">
<title>Creating a bootable DVD or CD</title>
<simpara role="_abstract">You can create a bootable installation DVD or CD using burning software and a CD/DVD burner. The exact steps to produce a DVD or CD from an ISO image file vary greatly, depending on the operating system and disc burning software installed. Consult your system&#8217;s burning software documentation for the exact steps to burn a CD or DVD from an ISO image file.</simpara>
<warning>
<simpara>You can create a bootable DVD or CD using either the DVD ISO image (full install) or the Boot ISO image (minimal install). However, the DVD ISO image is larger than 4.7 GB, and as a result, it might not fit on a single or dual-layer DVD. Check the size of the DVD ISO image file before you proceed. A USB flash drive is recommended when using the DVD ISO image to create bootable installation media.</simpara>
</warning>
</section>
<section xml:id="create-bootable-usb-linux_assembly_creating-a-bootable-installation-medium">
<title>Creating a bootable USB device on Linux</title>
<simpara role="_abstract">You can create a bootable USB device which you can then use to install Red Hat Enterprise Linux on other machines.</simpara>
<important>
<simpara>Following this procedure overwrites any data previously stored on the USB drive without any warning.
Back up any data or use an empty flash drive.
A bootable USB drive cannot be used for storing data.</simpara>
</important>
<itemizedlist>
<title>Prerequisites</title>
<listitem>
<simpara>You have downloaded an installation ISO image as described in <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_a_standard_rhel_9_installation/index#downloading-beta-installation-images_preparing-for-your-installation">Downloading the installation ISO image</link>.</simpara>
</listitem>
<listitem>
<simpara>You have a USB flash drive with enough capacity for the ISO image. The required size varies, but the recommended USB size is 8 GB.</simpara>
</listitem>
</itemizedlist>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>Connect the USB flash drive to the system.</simpara>
</listitem>
<listitem>
<simpara>Open a terminal window and display a log of recent events.</simpara>
<screen>$ dmesg|tail</screen>
<simpara>Messages resulting from the attached USB flash drive are displayed at the bottom of the log. Record the name of the connected device.</simpara>
</listitem>
<listitem>
<simpara>Log in as a root user:</simpara>
<screen>$ su -</screen>
<simpara>Enter your root password when prompted.</simpara>
</listitem>
<listitem>
<simpara>Find the device node assigned to the drive. In this example, the drive name is <literal>sdd</literal>.</simpara>
<screen># <phrase role="command">dmesg|tail</phrase>
[288954.686557] usb 2-1.8: New USB device strings: Mfr=0, Product=1, SerialNumber=2
[288954.686559] usb 2-1.8: Product: USB Storage
[288954.686562] usb 2-1.8: SerialNumber: 000000009225
[288954.712590] usb-storage 2-1.8:1.0: USB Mass Storage device detected
[288954.712687] scsi host6: usb-storage 2-1.8:1.0
[288954.712809] usbcore: registered new interface driver usb-storage
[288954.716682] usbcore: registered new interface driver uas
[288955.717140] scsi 6:0:0:0: Direct-Access     Generic  STORAGE DEVICE   9228 PQ: 0 ANSI: 0
[288955.717745] sd 6:0:0:0: Attached scsi generic sg4 type 0
[288961.876382] sd 6:0:0:0: <emphasis role="strong">sdd</emphasis> Attached SCSI removable disk</screen>
</listitem>
<listitem>
<simpara>If the inserted USB device mounts automatically, unmount it before continuing with the next steps. For unmounting, use the <literal>umount</literal> command. For more information, see <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/managing_file_systems/index#unmounting-a-file-system-with-umount_mounting-file-systems">Unmounting a file system with umount</link>.</simpara>
</listitem>
<listitem>
<simpara>Write the ISO image directly to the USB device:</simpara>
<screen># dd if=/image_directory/image.iso of=/dev/device</screen>
<itemizedlist>
<listitem>
<simpara>Replace <emphasis>/image_directory/image.iso</emphasis> with the full path to the ISO image file that you downloaded,</simpara>
</listitem>
<listitem>
<simpara>Replace <emphasis>device</emphasis> with the device name that you retrieved with the <literal>dmesg</literal> command.</simpara>
<simpara>In this example, the full path to the ISO image is <literal>/home/testuser/Downloads/rhel-9-x86_64-boot.iso</literal>, and the device name is <literal>sdd</literal>:</simpara>
<screen># <phrase role="command">dd</phrase> if=/home/testuser/Downloads/rhel-9-x86_64-boot.iso of=/dev/sdd</screen>
<note>
<simpara>Ensure that you use the correct device name, and not the name of a partition on the device. Partition names are usually device names with a numerical suffix. For example, <literal>sdd</literal> is a device name, and <literal>sdd1</literal> is the name of a partition on the device <literal>sdd</literal>.</simpara>
</note>
</listitem>
</itemizedlist>
</listitem>
<listitem>
<simpara>Wait for the <literal>dd</literal> command to finish writing the image to the device. Run the <literal>sync</literal> command to synchronize cached writes to the device. The data transfer is complete when the <emphasis role="strong">#</emphasis> prompt appears. When you see the prompt, log out of the root account and unplug the USB drive. The USB drive is now ready to use as a boot device.</simpara>
</listitem>
</orderedlist>
</section>
<section xml:id="creating-a-bootable-usb-windows_assembly_creating-a-bootable-installation-medium">
<title>Creating a bootable USB device on Windows</title>
<simpara role="_abstract">You can create a bootable USB device on a Windows system with various tools.
Red Hat recommends using Fedora Media Writer, available for download at <link xl:href="https://github.com/FedoraQt/MediaWriter/releases">https://github.com/FedoraQt/MediaWriter/releases</link>.
Note that Fedora Media Writer is a community product and is not supported by Red Hat.
You can report any issues with the tool at <link xl:href="https://github.com/FedoraQt/MediaWriter/issues">https://github.com/FedoraQt/MediaWriter/issues</link>.</simpara>
<important>
<simpara>Following this procedure overwrites any data previously stored on the USB drive without any warning.
Back up any data or use an empty flash drive.
A bootable USB drive cannot be used for storing data.</simpara>
</important>
<itemizedlist>
<title>Prerequisites</title>
<listitem>
<simpara>You have downloaded an installation ISO image as described in <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_a_standard_rhel_9_installation/index#downloading-beta-installation-images_preparing-for-your-installation">Downloading the installation ISO image</link>.</simpara>
</listitem>
<listitem>
<simpara>You have a USB flash drive with enough capacity for the ISO image. The required size varies, but the recommended USB size is 8 GB.</simpara>
</listitem>
</itemizedlist>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>Download and install Fedora Media Writer from <link xl:href="https://github.com/FedoraQt/MediaWriter/releases">https://github.com/FedoraQt/MediaWriter/releases</link>.</simpara>
</listitem>
<listitem>
<simpara>Connect the USB flash drive to the system.</simpara>
</listitem>
<listitem>
<simpara>Open Fedora Media Writer.</simpara>
</listitem>
<listitem>
<simpara>From the main window, click <guibutton>Custom Image</guibutton> and select the previously downloaded Red Hat Enterprise Linux ISO image.</simpara>
</listitem>
<listitem>
<simpara>From the <emphasis role="strong">Write Custom Image</emphasis> window, select the drive that you want to use.</simpara>
</listitem>
<listitem>
<simpara>Click <guibutton>Write to disk</guibutton>. The boot media creation process starts. Do not unplug the drive until the operation completes. The operation may take several minutes, depending on the size of the ISO image, and the write speed of the USB drive.</simpara>
</listitem>
<listitem>
<simpara>When the operation completes, unmount the USB drive. The USB drive is now ready to be used as a boot device.</simpara>
</listitem>
</orderedlist>
</section>
<section xml:id="creating-a-bootable-usb-mac_assembly_creating-a-bootable-installation-medium">
<title>Creating a bootable USB device on Mac OS X</title>
<simpara>You can create a bootable USB device which you can then use to install Red Hat Enterprise Linux on other machines.</simpara>
<important>
<simpara>Following this procedure overwrites any data previously stored on the USB drive without any warning.
Back up any data or use an empty flash drive.
A bootable USB drive cannot be used for storing data.</simpara>
</important>
<itemizedlist>
<title>Prerequisites</title>
<listitem>
<simpara>You have downloaded an installation ISO image as described in <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_a_standard_rhel_9_installation/index#downloading-a-specific-beta-iso-image_downloading-beta-installation-images">Downloading the installation ISO image</link>.</simpara>
</listitem>
<listitem>
<simpara>You have a USB flash drive with enough capacity for the ISO image. The required size varies, but the recommended USB size is 8 GB.</simpara>
</listitem>
</itemizedlist>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>Connect the USB flash drive to the system.</simpara>
</listitem>
<listitem>
<simpara>Identify the device path with the <literal role="command">diskutil list</literal> command. The device path has the format of <literal><emphasis>/dev/disknumber</emphasis></literal>, where <literal>number</literal> is the number of the disk. The disks are numbered starting at zero (0). Typically, <literal>disk0</literal> is the OS X recovery disk, and <literal>disk1</literal> is the main OS X installation. In the following example, the USB device is <literal>disk2</literal>:</simpara>
<screen>$ diskutil list
/dev/disk0
#:                       TYPE NAME                    SIZE       IDENTIFIER
0:      GUID_partition_scheme                        *500.3 GB   disk0
1:                        EFI EFI                     209.7 MB   disk0s1
2:          Apple_CoreStorage                         400.0 GB   disk0s2
3:                 Apple_Boot Recovery HD             650.0 MB   disk0s3
4:          Apple_CoreStorage                         98.8 GB    disk0s4
5:                 Apple_Boot Recovery HD             650.0 MB   disk0s5
/dev/disk1
#:                       TYPE NAME                    SIZE       IDENTIFIER
0:                  Apple_HFS YosemiteHD             *399.6 GB   disk1
Logical Volume on disk0s1
8A142795-8036-48DF-9FC5-84506DFBB7B2
Unlocked Encrypted
/dev/disk2
#:                       TYPE NAME                    SIZE       IDENTIFIER
0:     FDisk_partition_scheme                        *8.1 GB     disk2
1:               Windows_NTFS SanDisk USB             8.1 GB     disk2s1</screen>
</listitem>
<listitem>
<simpara>Identify your USB flash drive by comparing the NAME, TYPE and SIZE columns to your flash drive. For example, the NAME should be the title of the flash drive icon in the <emphasis role="strong">Finder</emphasis> tool. You can also compare these values to those in the information panel of the flash drive.</simpara>
</listitem>
<listitem>
<simpara>Unmount the flash drive&#8217;s filesystem volumes:</simpara>
<screen>$ diskutil unmountDisk /dev/disknumber
					Unmount of all volumes on disknumber was successful</screen>
<simpara>When the command completes, the icon for the flash drive disappears from your desktop. If the icon does not disappear, you may have selected the wrong disk. Attempting to unmount the system disk accidentally returns a <emphasis role="strong">failed to unmount</emphasis> error.</simpara>
</listitem>
<listitem>
<simpara>Write the ISO image to the flash drive:</simpara>
<screen># sudo dd if=/path/to/image.iso of=/dev/rdisknumber</screen>
<note>
<simpara>Mac OS X provides both a block (<literal>/dev/disk*</literal>) and character device (<literal>/dev/rdisk*</literal>) file for each storage device. Writing an image to the <literal>/dev/rdisknumber</literal> character device is faster than writing to the <literal>/dev/disknumber</literal> block device.</simpara>
</note>
<simpara>For example, to write the <literal><emphasis>/Users/user_name/Downloads/rhel-9-x86_64-boot.iso</emphasis></literal> file to the <literal><emphasis>/dev/rdisk2</emphasis></literal> device, enter the following command:</simpara>
<screen># sudo dd if=/Users/user_name/Downloads/rhel-9-x86_64-boot.iso of=/dev/rdisk2</screen>
</listitem>
<listitem>
<simpara>Wait for the <literal role="command">dd</literal> command to finish writing the image to the device. The data transfer is complete when the <emphasis role="strong">#</emphasis> prompt appears. When the prompt is displayed, log out of the root account and unplug the USB drive. The USB drive is now ready to be used as a boot device.</simpara>
</listitem>
</orderedlist>
</section>
</section>
<section xml:id="prepare-installation-source_{context}">
<title>Preparing an installation source</title>
<simpara role="_abstract">The Boot ISO image file does not include any repositories or software packages; it contains only the installation program and the tools required to boot the system and start the installation. This section contains information about creating an installation source for the Boot ISO image using the DVD ISO image that contains the required repositories and software packages.</simpara>
<important>
<simpara>An installation source is required for the Boot ISO image file only if you decide not to register and install RHEL from the Content Delivery Network (CDN).</simpara>
</important>
<section xml:id="types-of-installation-source_prepare-installation-source">
<title>Types of installation source</title>
<simpara role="_abstract">You can use one of the following installation sources for minimal boot images:</simpara>
<itemizedlist>
<listitem>
<simpara><emphasis role="strong">DVD:</emphasis> Burn the DVD ISO image to a DVD. The DVD will be automatically used as the installation source (software package source).</simpara>
</listitem>
<listitem>
<simpara><emphasis role="strong">Hard drive or USB drive:</emphasis> Copy the DVD ISO image to the drive and configure the installation program to install the software packages from the drive. If you use a USB drive, verify that it is connected to the system before the installation begins. The installation program cannot detect media after the installation begins.</simpara>
<informalexample>
<itemizedlist>
<listitem>
<simpara><emphasis role="strong">Hard drive limitation</emphasis>: The DVD ISO image on the hard drive must be on a partition with a file system that the installation program can mount. The supported file systems are <literal>xfs</literal>, <literal>ext2</literal>, <literal>ext3</literal>, <literal>ext4</literal>, and <literal>vfat (FAT32)</literal>.</simpara>
</listitem>
</itemizedlist>
<warning>
<simpara>On Microsoft Windows systems, the default file system used when formatting hard drives is NTFS. The exFAT file system is also available. However, neither of these file systems can be mounted during the installation. If you are creating a hard drive or a USB drive as an installation source on Microsoft Windows, verify that you formatted the drive as FAT32. Note that the FAT32 file system cannot store files larger than 4 GiB.</simpara>
<simpara>In Red Hat Enterprise Linux 9, you can enable installation from a directory on a local hard drive. To do so, you need to copy the contents of the DVD ISO image to a directory on a hard drive and then specify the directory as the installation source instead of the ISO image. For example:
<literal>inst.repo=hd:&lt;device&gt;:&lt;path to the directory&gt;</literal></simpara>
</warning>
</informalexample>
</listitem>
<listitem>
<simpara><emphasis role="strong">Network location:</emphasis> Copy the DVD ISO image or the installation tree (extracted contents of the DVD ISO image) to a network location and perform the installation over the network using the following protocols:</simpara>
<itemizedlist>
<listitem>
<simpara><emphasis role="strong">NFS:</emphasis> The DVD ISO image is in a Network File System (NFS) share.</simpara>
</listitem>
<listitem>
<simpara><emphasis role="strong">HTTPS, HTTP or FTP:</emphasis> The installation tree is on a network location that is accessible over HTTP, HTTPS or FTP.</simpara>
</listitem>
</itemizedlist>
</listitem>
</itemizedlist>
</section>
<section xml:id="specify-an-installation-source_prepare-installation-source">
<title>Specify the installation source</title>
<simpara role="_abstract">You can specify the installation source using any of the following methods:</simpara>
<itemizedlist>
<listitem>
<simpara><emphasis role="strong">User interface:</emphasis> Select the installation source in the <emphasis role="strong">Installation Source</emphasis> window of the graphical install. For more information, see <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_a_standard_rhel_9_installation/index#configuring-installation-source_configuring-software-settings">Configuring installation source</link></simpara>
</listitem>
<listitem>
<simpara><emphasis role="strong">Boot option:</emphasis> Configure a custom boot option to specify the installation source. For more information, see <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/boot_options_for_rhel_installer/index">Boot options preference</link></simpara>
</listitem>
<listitem>
<simpara><emphasis role="strong">Kickstart file:</emphasis> Use the install command in a Kickstart file to specify the installation source. See the <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_an_advanced_rhel_9_installation/index/">Performing an advanced RHEL 9 installation</link> document for more information.</simpara>
</listitem>
</itemizedlist>
</section>
<section xml:id="ports-for-network-based-installation_prepare-installation-source">
<title>Ports for network-based installation</title>
<simpara role="_abstract">The following table lists the ports that must be open on the server for providing the files for each type of network-based installation.</simpara>
<table frame="all" rowsep="1" colsep="1">
<title>Ports for network-based installation</title>
<tgroup cols="2">
<colspec colname="col_1" colwidth="30*"/>
<colspec colname="col_2" colwidth="70*"/>
<thead>
<row>
<entry align="left" valign="top">Protocol used</entry>
<entry align="left" valign="top">Ports to open</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left" valign="top"><simpara>HTTP</simpara></entry>
<entry align="left" valign="top"><simpara>80</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>HTTPS</simpara></entry>
<entry align="left" valign="top"><simpara>443</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>FTP</simpara></entry>
<entry align="left" valign="top"><simpara>21</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>NFS</simpara></entry>
<entry align="left" valign="top"><simpara>2049, 111, 20048</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>TFTP</simpara></entry>
<entry align="left" valign="top"><simpara>69</simpara></entry>
</row>
</tbody>
</tgroup>
</table>
<itemizedlist role="_additional-resources">
<title>Additional resources</title>
<listitem>
<simpara><link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/securing_networks/index/">Securing networks</link></simpara>
</listitem>
</itemizedlist>
</section>
<section xml:id="creating-an-installation-source_prepare-installation-source">
<title>Creating an installation source on an NFS server</title>
<simpara role="_abstract">Use this installation method to install multiple systems from a single source, without having to connect to physical media.</simpara>
<itemizedlist>
<title>Prerequisites</title>
<listitem>
<simpara>You have an administrator-level access to a server with Red Hat Enterprise Linux 9, and this server is on the same network as the system to be installed.</simpara>
</listitem>
<listitem>
<simpara>You have downloaded a Binary DVD image. For more information, see <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_a_standard_rhel_9_installation/index#downloading-a-specific-beta-iso-image_downloading-beta-installation-images">Downloading the installation ISO image</link>.</simpara>
</listitem>
<listitem>
<simpara>You have created a bootable CD, DVD, or USB device from the image file. For more information, see <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_a_standard_rhel_9_installation/index#assembly_creating-a-bootable-installation-medium_installing-RHEL">Creating installation media</link>.</simpara>
</listitem>
<listitem>
<simpara>You have verified that your firewall allows the system you are installing to access the remote installation source. For more information, see <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_a_standard_rhel_9_installation/index#ports-for-network-based-installation_prepare-installation-source">Ports for network-based installation</link>.</simpara>
</listitem>
</itemizedlist>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>Install the <literal role="package">nfs-utils</literal> package:</simpara>
<screen># dnf install nfs-utils</screen>
</listitem>
<listitem>
<simpara>Copy the DVD ISO image to a directory on the NFS server.</simpara>
</listitem>
<listitem>
<simpara>Open the <literal role="filename">/etc/exports</literal> file using a text editor and add a line with the following syntax:</simpara>
<screen>/<emphasis>exported_directory</emphasis>/ <emphasis>clients</emphasis></screen>
<itemizedlist>
<listitem>
<simpara>Replace <emphasis>/exported_directory/</emphasis> with the full path to the directory with the ISO image.</simpara>
</listitem>
<listitem>
<simpara>Replace <emphasis>clients</emphasis> with one of the following:</simpara>
<itemizedlist>
<listitem>
<simpara>The host name or IP address of the target system</simpara>
</listitem>
<listitem>
<simpara>The subnetwork that all target systems can use to access the ISO image</simpara>
</listitem>
<listitem>
<simpara>To allow any system with network access to the NFS server to use the ISO image, the asterisk sign (<literal>*</literal>)</simpara>
</listitem>
</itemizedlist>
<simpara>See the <literal>exports(5)</literal> man page for detailed information about the format of this field.</simpara>
<simpara>For example, a basic configuration that makes the <literal>/rhel9-install/</literal> directory available as read-only to all clients is:</simpara>
<screen>/rhel9-install *</screen>
</listitem>
</itemizedlist>
</listitem>
<listitem>
<simpara>Save the <literal role="filename">/etc/exports</literal> file and exit the text editor.</simpara>
</listitem>
<listitem>
<simpara>Start the nfs service:</simpara>
<screen># systemctl start nfs-server.service</screen>
<simpara>If the service was running before you changed the <literal role="filename">/etc/exports</literal> file, reload the NFS server configuration:</simpara>
<screen># systemctl reload nfs-server.service</screen>
<simpara>The ISO image is now accessible over NFS and ready to be used as an installation source.</simpara>
</listitem>
</orderedlist>
<note>
<simpara>When configuring the installation source, use <literal>nfs:</literal> as the protocol, the server host name or IP address, the colon sign <literal>(:)</literal>, and the directory holding the ISO image. For example, if the server host name is <literal>myserver.example.com</literal> and you have saved the ISO image in <literal>/rhel9-install/</literal>, specify <literal>nfs:myserver.example.com:/rhel9-install/</literal> as the installation source.</simpara>
</note>
</section>
<section xml:id="creating-an-installation-source-on-http_prepare-installation-source">
<title>Creating an installation source using HTTP or HTTPS</title>
<simpara role="_abstract">You can create an installation source for a network-based installation using an installation tree, which is a directory containing extracted contents of the DVD ISO image and a valid <literal role="filename">.treeinfo</literal> file. The installation source is accessed over HTTP or HTTPS.</simpara>
<itemizedlist>
<title>Prerequisites</title>
<listitem>
<simpara>You have an administrator-level access to a server with Red Hat Enterprise Linux 9, and this server is on the same network as the system to be installed.</simpara>
</listitem>
<listitem>
<simpara>You have downloaded a Binary DVD image. For more information, see <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_a_standard_rhel_9_installation/index#downloading-a-specific-beta-iso-image_downloading-beta-installation-images">Downloading the installation ISO image</link>.</simpara>
</listitem>
<listitem>
<simpara>You have created a bootable CD, DVD, or USB device from the image file. For more information, see <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_a_standard_rhel_9_installation/index#assembly_creating-a-bootable-installation-medium_installing-RHEL">Creating installation media</link>.</simpara>
</listitem>
<listitem>
<simpara>You have verified that your firewall allows the system you are installing to access the remote installation source. For more information, see <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_a_standard_rhel_9_installation/index#ports-for-network-based-installation_prepare-installation-source">Ports for network-based installation</link>.</simpara>
</listitem>
<listitem>
<simpara>The <literal>httpd</literal> package is installed.</simpara>
</listitem>
<listitem>
<simpara>The <literal>mod_ssl</literal> package is installed, if you use the <literal>https</literal> installation source.</simpara>
</listitem>
</itemizedlist>
<warning>
<simpara>If your Apache web server configuration enables SSL security, prefer to enable the TLSv1.3 protocol.
By default, TLSv1.2 (LEGACY) is enabled.</simpara>
</warning>
<important>
<simpara>If you use an HTTPS server with a self-signed certificate,
you must boot the installation program with the <literal role="option">noverifyssl</literal> option.</simpara>
</important>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>Copy the DVD ISO image to the HTTP(S) server.</simpara>
</listitem>
<listitem>
<simpara>Create a suitable directory for mounting the DVD ISO image, for example:</simpara>
<screen># mkdir /mnt/rhel9-install/</screen>
</listitem>
<listitem>
<simpara>Mount the DVD ISO image to the directory:</simpara>
<screen># mount -o loop,ro -t iso9660 <emphasis>/image_directory/image.iso</emphasis> /mnt/rhel9-install/</screen>
<simpara>Replace <emphasis>/image_directory/image.iso</emphasis> with the path to the DVD ISO image.</simpara>
</listitem>
<listitem>
<simpara>Copy the files from the mounted image to the HTTP(S) server root.</simpara>
<screen># cp -r /mnt/rhel9-install/ /var/www/html/</screen>
<simpara>This command creates the <literal role="literal">/var/www/html/rhel9-install/</literal> directory with the content of the image. Note that some other copying methods might skip the <literal>.treeinfo</literal> file which is required for a valid installation source. Entering the <literal>cp</literal> command for entire directories as shown in this procedure copies <literal>.treeinfo</literal> correctly.</simpara>
</listitem>
<listitem>
<simpara>Start the <literal>httpd</literal> service:</simpara>
<screen># systemctl start httpd.service</screen>
<simpara>The installation tree is now accessible and ready to be used as the installation source.</simpara>
<note>
<simpara>When configuring the installation source, use <literal>http://</literal> or <literal>https://</literal> as the protocol, the server host name or IP address, and the directory that contains the files from the ISO image, relative to the HTTP server root. For example, if you use HTTP, the server host name is <literal>myserver.example.com</literal>, and you have copied the files from the image to <literal>/var/www/html/rhel9-install/</literal>, specify <literal>http://myserver.example.com/rhel9-install/</literal> as the installation source.</simpara>
</note>
</listitem>
</orderedlist>
<itemizedlist role="_additional-resources">
<title>Additional resources</title>
<listitem>
<simpara><link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/deploying_different_types_of_servers/index/">Deploying different types of servers</link></simpara>
</listitem>
</itemizedlist>
</section>
<section xml:id="creating-an-installation-source-on-ftp_prepare-installation-source">
<title>Creating an installation source using FTP</title>
<simpara role="_abstract">You can create an installation source for a network-based installation using an installation tree, which is a directory containing extracted contents of the DVD ISO image and a valid <literal role="filename">.treeinfo</literal> file. The installation source is accessed over FTP.</simpara>
<itemizedlist>
<title>Prerequisites</title>
<listitem>
<simpara>You have an administrator-level access to a server with Red Hat Enterprise Linux 9, and this server is on the same network as the system to be installed.</simpara>
</listitem>
<listitem>
<simpara>You have downloaded a Binary DVD image. For more information, see <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_a_standard_rhel_9_installation/index#downloading-a-specific-beta-iso-image_downloading-beta-installation-images">Downloading the installation ISO image</link>.</simpara>
</listitem>
<listitem>
<simpara>You have created a bootable CD, DVD, or USB device from the image file. For more information, see <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_a_standard_rhel_9_installation/index#assembly_creating-a-bootable-installation-medium_installing-RHEL">Creating installation media</link>.</simpara>
</listitem>
<listitem>
<simpara>You have verified that your firewall allows the system you are installing to access the remote installation source. For more information, see <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_a_standard_rhel_9_installation/index#ports-for-network-based-installation_prepare-installation-source">Ports for network-based installation</link>.</simpara>
</listitem>
<listitem>
<simpara>The <literal>vsftpd</literal> package is installed.</simpara>
</listitem>
</itemizedlist>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>Open and edit the <literal role="filename">/etc/vsftpd/vsftpd.conf</literal> configuration file in a text editor.</simpara>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>Change the line <literal>anonymous_enable=NO</literal> to <literal>anonymous_enable=YES</literal></simpara>
</listitem>
<listitem>
<simpara>Change the line <literal>write_enable=YES</literal> to <literal>write_enable=NO</literal>.</simpara>
</listitem>
<listitem>
<simpara>Add lines <literal>pasv_min_port=&lt;<emphasis>min_port</emphasis>&gt;</literal> and <literal>pasv_max_port=&lt;<emphasis>max_port</emphasis>&gt;</literal>. Replace &lt;<emphasis>min_port</emphasis>&gt; and &lt;<emphasis>max_port</emphasis>&gt; with the port number range used by FTP server in passive mode, for example, <literal>10021</literal> and <literal>10031</literal>.</simpara>
<simpara>This step might be necessary in network environments featuring various firewall/NAT setups.</simpara>
</listitem>
<listitem>
<simpara>Optional: Add custom changes to your configuration. For available options, see the <emphasis role="strong">vsftpd.conf(5)</emphasis> man page. This procedure assumes that default options are used.</simpara>
<warning>
<simpara>If you configured SSL/TLS security in your <literal role="filename">vsftpd.conf</literal> file, ensure that you enable only the TLSv1 protocol, and disable SSLv2 and SSLv3. This is due to the POODLE SSL vulnerability (CVE-2014-3566). See <link xl:href="https://access.redhat.com/solutions/1234773">https://access.redhat.com/solutions/1234773</link> for details.</simpara>
</warning>
</listitem>
</orderedlist>
</listitem>
<listitem>
<simpara>Configure the server firewall.</simpara>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>Enable the firewall:</simpara>
<screen># systemctl enable firewalld</screen>
</listitem>
<listitem>
<simpara>Start the firewall:</simpara>
<screen># systemctl start firewalld</screen>
</listitem>
<listitem>
<simpara>Configure the firewall to allow the FTP port and port range from the previous step:</simpara>
<screen># firewall-cmd --add-port <emphasis>min_port</emphasis>-<emphasis>max_port</emphasis>/tcp --permanent
# firewall-cmd --add-service ftp --permanent</screen>
<simpara>Replace &lt;<emphasis>min_port</emphasis>&gt; and &lt;<emphasis>max_port</emphasis>&gt; with the port numbers you entered into the <literal role="filename">/etc/vsftpd/vsftpd.conf</literal> configuration file.</simpara>
</listitem>
<listitem>
<simpara>Reload the firewall to apply the new rules:</simpara>
<screen># firewall-cmd --reload</screen>
</listitem>
</orderedlist>
</listitem>
<listitem>
<simpara>Copy the DVD ISO image to the FTP server.</simpara>
</listitem>
<listitem>
<simpara>Create a suitable directory for mounting the DVD ISO image, for example:</simpara>
<screen># mkdir /mnt/rhel9-install</screen>
</listitem>
<listitem>
<simpara>Mount the DVD ISO image to the directory:</simpara>
<screen># mount -o loop,ro -t iso9660 <emphasis>/image-directory/image.iso</emphasis> /mnt/rhel9-install</screen>
<simpara>Replace <literal><emphasis>/image-directory/image.iso</emphasis></literal> with the path to the DVD ISO image.</simpara>
</listitem>
<listitem>
<simpara>Copy the files from the mounted image to the FTP server root:</simpara>
<screen># mkdir /var/ftp/rhel9-install
# cp -r /mnt/rhel9-install/ /var/ftp/</screen>
<simpara>This command creates the <literal role="literal">/var/ftp/rhel9-install/</literal> directory with the content of the image. Note that some copying methods can skip the <literal>.treeinfo</literal> file which is required for a valid installation source. Entering the <literal>cp</literal> command for whole directories as shown in this procedure will copy <literal>.treeinfo</literal> correctly.</simpara>
</listitem>
<listitem>
<simpara>Make sure that the correct SELinux context and access mode is set on the copied content:</simpara>
<screen># restorecon -r /var/ftp/rhel9-install
# find /var/ftp/rhel9-install -type f -exec chmod 444 {} \;
# find /var/ftp/rhel9-install -type d -exec chmod 755 {} \;</screen>
</listitem>
<listitem>
<simpara>Start the <literal>vsftpd</literal> service:</simpara>
<screen># systemctl start vsftpd.service</screen>
<simpara>If the service was running before you changed the <literal role="filename">/etc/vsftpd/vsftpd.conf</literal> file, restart the service to load the edited file:</simpara>
<screen># systemctl restart vsftpd.service</screen>
<simpara>Enable the <literal>vsftpd</literal> service to start during the boot process:</simpara>
<screen># systemctl enable vsftpd</screen>
<simpara>The installation tree is now accessible and ready to be used as the installation source.</simpara>
<note>
<simpara>When configuring the installation source, use <literal>ftp://</literal> as the protocol, the server host name or IP address, and the directory in which you have stored the files from the ISO image, relative to the FTP server root. For example, if the server host name is <literal>myserver.example.com</literal> and you have copied the files from the image to <literal>/var/ftp/rhel9-install/</literal>, specify <literal>ftp://myserver.example.com/rhel9-install/</literal> as the installation source.</simpara>
</note>
</listitem>
</orderedlist>
</section>
<section xml:id="proc_preparing-a-hard-drive-as-an-installation-source_prepare-installation-source">
<title>Preparing a hard drive as an installation source</title>
<simpara role="_abstract">This module describes how to install RHEL using a hard drive as an installation source with <literal role="systemitem">ext2</literal>, <literal role="systemitem">ext3</literal>, <literal role="systemitem">ext4</literal>, or <literal role="systemitem">XFS</literal> file systems. You can use this method for the systems without network access and the optical drive. Hard drive installations use an ISO image of the installation DVD. An ISO image is a file that contains an exact copy of the content of a DVD. With this file present on a hard drive, you can choose Hard drive as the installation source when you boot the installation program.</simpara>
<itemizedlist>
<listitem>
<simpara>To check the file system of a hard drive partition on a Windows operating system, use the <literal role="systemitem">Disk Management</literal> tool.</simpara>
</listitem>
<listitem>
<simpara>To check the file system of a hard drive partition on a Linux operating system, use the <literal>parted</literal> tool.</simpara>
</listitem>
</itemizedlist>
<note>
<simpara>You cannot use ISO files on LVM (Logical Volume Management) partitions.</simpara>
</note>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>Download an ISO image of the Red Hat Enterprise Linux installation DVD. Alternatively, if you have the DVD on physical media, you can create an image of an ISO with the following command on a Linux system:</simpara>
<screen>dd if=/dev/dvd of=/path_to_image/name_of_image.iso</screen>
<simpara>where dvd is your DVD drive device name, <emphasis>name_of_image</emphasis> is the name you give to the resulting ISO image file, and <emphasis>path_to_image</emphasis> is the path to the location on your system where you want to store the image.</simpara>
</listitem>
<listitem>
<simpara>Copy and paste the ISO image onto the system hard drive or a USB drive.</simpara>
</listitem>
<listitem>
<simpara>Use a <literal>SHA256</literal> checksum program to verify that the ISO image that you copied is intact. Many SHA256 checksum programs are available for various operating systems. On a Linux system, run:</simpara>
<screen>$ sha256sum /path_to_image/name_of_image.iso</screen>
<simpara>where <emphasis>name_of_image</emphasis> is the name of the ISO image file. The <literal role="systemitem">SHA256</literal> checksum program displays a string of 64 characters called a <emphasis>hash</emphasis>. Compare this hash to the hash displayed for this particular image on the <emphasis role="strong">Downloads</emphasis> page in the Red Hat Customer Portal. The two hashes should be identical.</simpara>
</listitem>
<listitem>
<simpara>Specify the HDD installation source on the kernel command line before starting the installation:</simpara>
<screen>inst.repo=hd:&lt;device&gt;:/path_to_image/name_of_image.iso</screen>
</listitem>
</orderedlist>
<itemizedlist role="_additional-resources">
<title>Additional resources</title>
<listitem>
<simpara><link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_a_standard_rhel_9_installation/index#specify-an-installation-source_prepare-installation-source">Specify the installation source</link></simpara>
</listitem>
<listitem>
<simpara><link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/boot_options_for_rhel_installer#installation-source-boot-options_kickstart-and-advanced-boot-options">Installation source boot options</link></simpara>
</listitem>
</itemizedlist>
</section>
</section>
<section xml:id="preparing-to-install-from-the-network-using-http_{context}">
<title>Preparing to install from the network using HTTP</title>
<simpara>As an administrator of a server on a local network, you can configure an HTTP server to enable HTTP boot and network installation for other systems on your network.</simpara>
<section xml:id="network-install-overview_preparing-to-install-from-the-network-using-http">
<title>Network install overview</title>
<simpara role="_abstract">A network installation allows you to install Red Hat Enterprise Linux to a system that has access to an installation server. At a minimum, two systems are required for a network installation:</simpara>
<variablelist>
<varlistentry>
<term>Server</term>
<listitem>
<simpara>A system running a DHCP server, an HTTP, HTTPS, FTP, or NFS server, and in the PXE boot case, a TFTP server. Although each server can run on a different physical system, the procedures in this section assume a single system is running all servers.</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>Client</term>
<listitem>
<simpara>The system to which you are installing Red Hat Enterprise Linux. Once installation starts, the client queries the DHCP server, receives the boot files from the HTTP or TFTP server, and downloads the installation image from the HTTP, HTTPS, FTP or NFS server. Unlike other installation methods, the client does not require any physical boot media for the installation to start.</simpara>
</listitem>
</varlistentry>
</variablelist>
<note>
<simpara>To boot a client from the network, enable network boot in the firmware or in a quick boot menu on the client. On some hardware, the option to boot from a network might be disabled, or not available.</simpara>
</note>
<simpara>The workflow steps to prepare to install Red Hat Enterprise Linux from a network using HTTP or PXE are as follows:</simpara>
<orderedlist numeration="arabic">
<title>Steps</title>
<listitem>
<simpara>Export the installation ISO image or the installation tree to an NFS, HTTPS, HTTP, or FTP server.</simpara>
</listitem>
<listitem>
<simpara>Configure the HTTP or TFTP server and DHCP server, and start the HTTP or TFTP service on the server.</simpara>
</listitem>
<listitem>
<simpara>Boot the client and start the installation.</simpara>
</listitem>
</orderedlist>
<simpara>You can choose between the following network boot protocols:</simpara>
<variablelist>
<varlistentry>
<term>HTTP</term>
<listitem>
<simpara>Red Hat recommends using HTTP boot if your client UEFI supports it. HTTP boot is usually more reliable.</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>PXE (TFTP)</term>
<listitem>
<simpara>PXE boot is more widely supported by client systems, but sending the boot files over this protocol might be slow and result in timeout failures.</simpara>
</listitem>
</varlistentry>
</variablelist>
<itemizedlist role="_additional-resources">
<title>Additional resources</title>
<listitem>
<simpara><link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_an_advanced_rhel_9_installation/index#creating-installation-sources-for-kickstart-installations_installing-rhel-as-an-experienced-user">Creating installation sources for Kickstart installations</link></simpara>
</listitem>
<listitem>
<simpara><link xl:href="https://access.redhat.com/documentation/en-us/red_hat_satellite/6.12">Red Hat Satellite product documentation</link></simpara>
</listitem>
</itemizedlist>
</section>
<section xml:id="configuring-the-dhcpv4-server-for-http-and-pxe-boot_preparing-to-install-from-the-network-using-http">
<title>Configuring the DHCPv4 server for HTTP and PXE boot</title>
<simpara role="_abstract">Enable the DHCP version 4 (DHCPv4) service on your server, so that it can provide network boot functionality.</simpara>
<itemizedlist>
<title>Prerequisites</title>
<listitem>
<simpara>You are preparing network installation over the IPv4 protocol.</simpara>
<simpara>For IPv6, see <link linkend="configuring-the-dhcpv6-server-for-http-and-pxe-boot_preparing-to-install-from-the-network-using-http">Configuring the DHCPv6 server for HTTP and PXE boot</link> instead.</simpara>
</listitem>
<listitem>
<simpara>Find the network addresses of the server.</simpara>
<simpara>In the following examples, the server has a network card with this configuration:</simpara>
<variablelist>
<varlistentry>
<term>IPv4 address</term>
<listitem>
<simpara>192.168.124.2/24</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>IPv4 gateway</term>
<listitem>
<simpara>192.168.124.1</simpara>
</listitem>
</varlistentry>
</variablelist>
</listitem>
</itemizedlist>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>Install the DHCP server:</simpara>
<screen>dnf install dhcp-server</screen>
</listitem>
<listitem>
<simpara>Set up a DHCPv4 server. Enter the following configuration in the <literal>/etc/dhcp/dhcpd.conf</literal> file. Replace the addresses to match your network card.</simpara>
<screen>option architecture-type code 93 = unsigned integer 16;

subnet <emphasis>192.168.124.0</emphasis> netmask <emphasis>255.255.255.0</emphasis> {
  option routers <emphasis>192.168.124.1</emphasis>;
  option domain-name-servers <emphasis>192.168.124.1</emphasis>;
  range <emphasis>192.168.124.100</emphasis> <emphasis>192.168.124.200</emphasis>;
  class "pxeclients" {
    match if substring (option vendor-class-identifier, 0, 9) = "PXEClient";
    next-server <emphasis>192.168.124.2</emphasis>;
          if option architecture-type = 00:07 {
            filename "redhat/EFI/BOOT/BOOTX64.EFI";
          }
          else {
            filename "pxelinux/pxelinux.0";
          }
  }
  class "httpclients" {
    match if substring (option vendor-class-identifier, 0, 10) = "HTTPClient";
    option vendor-class-identifier "HTTPClient";
    filename "http://<emphasis>192.168.124.2</emphasis>/redhat/EFI/BOOT/BOOTX64.EFI";
  }
}</screen>
</listitem>
<listitem>
<simpara>Start the DHCPv4 service:</simpara>
<screen># systemctl enable --now dhcpd</screen>
</listitem>
</orderedlist>
</section>
<section xml:id="configuring-the-dhcpv6-server-for-http-and-pxe-boot_preparing-to-install-from-the-network-using-http">
<title>Configuring the DHCPv6 server for HTTP and PXE boot</title>
<simpara role="_abstract">Enable the DHCP version 6 (DHCPv4) service on your server, so that it can provide network boot functionality.</simpara>
<itemizedlist>
<title>Prerequisites</title>
<listitem>
<simpara>You are preparing network installation over the IPv6 protocol.</simpara>
<simpara>For IPv4, see <link linkend="configuring-the-dhcpv4-server-for-http-and-pxe-boot_preparing-to-install-from-the-network-using-http">Configuring the DHCPv4 server for HTTP and PXE boot</link> instead.</simpara>
</listitem>
<listitem>
<simpara>Find the network addresses of the server.</simpara>
<simpara>In the following examples, the server has a network card with this configuration:</simpara>
<variablelist>
<varlistentry>
<term>IPv6 address</term>
<listitem>
<simpara>fd33:eb1b:9b36::2/64</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>IPv6 gateway</term>
<listitem>
<simpara>fd33:eb1b:9b36::1</simpara>
</listitem>
</varlistentry>
</variablelist>
</listitem>
</itemizedlist>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>Install the DHCP server:</simpara>
<screen>dnf install dhcp-server</screen>
</listitem>
<listitem>
<simpara>Set up a DHCPv6 server. Enter the following configuration in the <literal>/etc/dhcp/dhcpd6.conf</literal> file. Replace the addresses to match your network card.</simpara>
<screen>option dhcp6.bootfile-url code 59 = string;
option dhcp6.vendor-class code 16 = {integer 32, integer 16, string};

subnet6 <emphasis>fd33:eb1b:9b36::/64</emphasis> {
        range6 <emphasis>fd33:eb1b:9b36::64</emphasis> <emphasis>fd33:eb1b:9b36::c8</emphasis>;

        class "PXEClient" {
                match substring (option dhcp6.vendor-class, 6, 9);
        }

        subclass "PXEClient" "PXEClient" {
                option dhcp6.bootfile-url "tftp://<emphasis>[fd33:eb1b:9b36::2]</emphasis>/redhat/EFI/BOOT/BOOTX64.EFI";
        }

        class "HTTPClient" {
                match substring (option dhcp6.vendor-class, 6, 10);
        }

        subclass "HTTPClient" "HTTPClient" {
                option dhcp6.bootfile-url "http://<emphasis>[fd33:eb1b:9b36::2]</emphasis>/redhat/EFI/BOOT/BOOTX64.EFI";
                option dhcp6.vendor-class 0 10 "HTTPClient";
        }
}</screen>
</listitem>
<listitem>
<simpara>Start the DHCPv6 service:</simpara>
<screen># systemctl enable --now dhcpd6</screen>
</listitem>
<listitem>
<simpara>If DHCPv6 packets are dropped by the RP filter in the firewall, check its log. If the log contains the <literal>rpfilter_DROP</literal> entry, disable the filter using the following configuration in the <literal>/etc/firewalld/firewalld.conf</literal> file:</simpara>
<screen>IPv6_rpfilter=no</screen>
</listitem>
</orderedlist>
</section>
<section xml:id="configuring-the-http-server-for-http-boot_preparing-to-install-from-the-network-using-http">
<title>Configuring the HTTP server for HTTP boot</title>
<simpara role="_abstract">You must install and enable the <literal>httpd</literal> service on your server so that the server can provide HTTP boot resources on your network.</simpara>
<itemizedlist>
<title>Prerequisites</title>
<listitem>
<simpara>Find the network addresses of the server.</simpara>
<simpara>In the following examples, the server has a network card with the <literal>192.168.124.2</literal> IPv4 address.</simpara>
</listitem>
</itemizedlist>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>Install the HTTP server:</simpara>
<screen># dnf install httpd</screen>
</listitem>
<listitem>
<simpara>Create the <literal>/var/www/html/redhat/</literal> directory:</simpara>
<screen># mkdir -p /var/www/html/redhat/</screen>
</listitem>
<listitem>
<simpara>Download the RHEL DVD ISO file. See <link xl:href="https://access.redhat.com/downloads/content/479">All Red Hat Enterprise Linux Downloads</link>.</simpara>
</listitem>
<listitem>
<simpara>Create a mount point for the ISO file:</simpara>
<screen># mkdir -p /var/www/html/redhat/iso/</screen>
</listitem>
<listitem>
<simpara>Mount the ISO file:</simpara>
<screen># mount -o loop,ro -t iso9660 <emphasis>path-to-RHEL-DVD.iso</emphasis> /var/www/html/redhat/iso</screen>
</listitem>
<listitem>
<simpara>Copy the boot loader, kernel, and <literal>initramfs</literal> from the mounted ISO file into your HTML directory:</simpara>
<screen># cp -r /var/www/html/redhat/iso/images /var/www/html/redhat/
# cp -r /var/www/html/redhat/iso/EFI /var/www/html/redhat/</screen>
</listitem>
<listitem>
<simpara>Make the boot loader configuration editable:</simpara>
<screen># chmod 644 /var/www/html/redhat/EFI/BOOT/grub.cfg</screen>
</listitem>
<listitem>
<simpara>Edit the <literal>/var/www/html/redhat/EFI/BOOT/grub.cfg</literal> file and replace its content with the following:</simpara>
<screen>set default="1"

function load_video {
  insmod efi_gop
  insmod efi_uga
  insmod video_bochs
  insmod video_cirrus
  insmod all_video
}

load_video
set gfxpayload=keep
insmod gzio
insmod part_gpt
insmod ext2

set timeout=60
<emphasis role="marked"># END /etc/grub.d/00_header </emphasis>#

search --no-floppy --set=root -l '<emphasis>RHEL-9-3-0-BaseOS-x86_64</emphasis>'

<emphasis role="marked"># BEGIN /etc/grub.d/10_linux </emphasis>#
menuentry 'Install <emphasis>Red Hat Enterprise Linux 9.3</emphasis>' --class fedora --class gnu-linux --class gnu --class os {
    linuxefi ../../images/pxeboot/vmlinuz inst.repo=http://<emphasis>192.168.124.2</emphasis>/redhat/iso quiet
    initrdefi ../../images/pxeboot/initrd.img
}
menuentry 'Test this media &amp; install <emphasis>Red Hat Enterprise Linux 9.3</emphasis>' --class fedora --class gnu-linux --class gnu --class os {
    linuxefi ../../images/pxeboot/vmlinuz inst.repo=http://<emphasis>192.168.124.2</emphasis>/redhat/iso quiet
    initrdefi ../../images/pxeboot/initrd.img
}
submenu 'Troubleshooting --&gt;' {
    menuentry 'Install <emphasis>Red Hat Enterprise Linux 9.3</emphasis> in text mode' --class fedora --class gnu-linux --class gnu --class os {
   	 linuxefi ../../images/pxeboot/vmlinuz inst.repo=http://<emphasis>192.168.124.2</emphasis>/redhat/iso inst.text quiet
   	 initrdefi ../../images/pxeboot/initrd.img
    }
    menuentry 'Rescue a Red Hat Enterprise Linux system' --class fedora --class gnu-linux --class gnu --class os {
   	 linuxefi ../../images/pxeboot/vmlinuz inst.repo=http://<emphasis>192.168.124.2</emphasis>/redhat/iso inst.rescue quiet
   	 initrdefi ../../images/pxeboot/initrd.img
    }
}</screen>
<simpara>In this file, replace the following strings:</simpara>
<variablelist>
<varlistentry>
<term><emphasis>RHEL-9-3-0-BaseOS-x86_64</emphasis> and <emphasis>Red Hat Enterprise Linux 9.3</emphasis></term>
<listitem>
<simpara>Edit the version number to match the version of RHEL that you downloaded.</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term><emphasis>192.168.124.2</emphasis></term>
<listitem>
<simpara>Replace with the IP address to your server.</simpara>
</listitem>
</varlistentry>
</variablelist>
</listitem>
<listitem>
<simpara>Make the EFI boot file executable:</simpara>
<screen># chmod 755 /var/www/html/redhat/EFI/BOOT/BOOTX64.EFI</screen>
</listitem>
<listitem>
<simpara>Open ports in the firewall to allow HTTP (80), DHCP (67, 68) and DHCPv6 (546, 547) traffic:</simpara>
<screen># firewall-cmd --zone public \
               --add-port={80/tcp,67/udp,68/udp,546/udp,547/udp}</screen>
<note>
<simpara>This command enables temporary access until the next server reboot. To enable permanent access, add the <literal>--permanent</literal> option to the command.</simpara>
</note>
</listitem>
<listitem>
<simpara>Reload firewall rules:</simpara>
<screen># firewall-cmd --reload</screen>
</listitem>
<listitem>
<simpara>Start the HTTP server:</simpara>
<screen># systemctl enable --now httpd</screen>
</listitem>
<listitem>
<simpara>Make the <literal>html</literal> directory and its content readable and executable:</simpara>
<screen># chmod -cR u=rwX,g=rX,o=rX /var/www/html</screen>
</listitem>
<listitem>
<simpara>Restore the SELinux context of the <literal>html</literal> directory:</simpara>
<screen># restorecon -FvvR /var/www/html</screen>
</listitem>
</orderedlist>
</section>
</section>
<section xml:id="preparing-for-a-network-install_{context}">
<title>Preparing to install from the network using PXE</title>
<simpara role="_abstract">This section describes how to configure TFTP and DHCP on a PXE server to enable PXE boot and network installation.</simpara>
<section xml:id="network-install-overview_preparing-for-a-network-install">
<title>Network install overview</title>
<simpara role="_abstract">A network installation allows you to install Red Hat Enterprise Linux to a system that has access to an installation server. At a minimum, two systems are required for a network installation:</simpara>
<variablelist>
<varlistentry>
<term>Server</term>
<listitem>
<simpara>A system running a DHCP server, an HTTP, HTTPS, FTP, or NFS server, and in the PXE boot case, a TFTP server. Although each server can run on a different physical system, the procedures in this section assume a single system is running all servers.</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>Client</term>
<listitem>
<simpara>The system to which you are installing Red Hat Enterprise Linux. Once installation starts, the client queries the DHCP server, receives the boot files from the HTTP or TFTP server, and downloads the installation image from the HTTP, HTTPS, FTP or NFS server. Unlike other installation methods, the client does not require any physical boot media for the installation to start.</simpara>
</listitem>
</varlistentry>
</variablelist>
<note>
<simpara>To boot a client from the network, enable network boot in the firmware or in a quick boot menu on the client. On some hardware, the option to boot from a network might be disabled, or not available.</simpara>
</note>
<simpara>The workflow steps to prepare to install Red Hat Enterprise Linux from a network using HTTP or PXE are as follows:</simpara>
<orderedlist numeration="arabic">
<title>Steps</title>
<listitem>
<simpara>Export the installation ISO image or the installation tree to an NFS, HTTPS, HTTP, or FTP server.</simpara>
</listitem>
<listitem>
<simpara>Configure the HTTP or TFTP server and DHCP server, and start the HTTP or TFTP service on the server.</simpara>
</listitem>
<listitem>
<simpara>Boot the client and start the installation.</simpara>
</listitem>
</orderedlist>
<simpara>You can choose between the following network boot protocols:</simpara>
<variablelist>
<varlistentry>
<term>HTTP</term>
<listitem>
<simpara>Red Hat recommends using HTTP boot if your client UEFI supports it. HTTP boot is usually more reliable.</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>PXE (TFTP)</term>
<listitem>
<simpara>PXE boot is more widely supported by client systems, but sending the boot files over this protocol might be slow and result in timeout failures.</simpara>
</listitem>
</varlistentry>
</variablelist>
<itemizedlist role="_additional-resources">
<title>Additional resources</title>
<listitem>
<simpara><link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_an_advanced_rhel_9_installation/index#creating-installation-sources-for-kickstart-installations_installing-rhel-as-an-experienced-user">Creating installation sources for Kickstart installations</link></simpara>
</listitem>
<listitem>
<simpara><link xl:href="https://access.redhat.com/documentation/en-us/red_hat_satellite/6.12">Red Hat Satellite product documentation</link></simpara>
</listitem>
</itemizedlist>
</section>
<section xml:id="configuring-the-dhcpv4-server-for-http-and-pxe-boot_preparing-for-a-network-install">
<title>Configuring the DHCPv4 server for HTTP and PXE boot</title>
<simpara role="_abstract">Enable the DHCP version 4 (DHCPv4) service on your server, so that it can provide network boot functionality.</simpara>
<itemizedlist>
<title>Prerequisites</title>
<listitem>
<simpara>You are preparing network installation over the IPv4 protocol.</simpara>
<simpara>For IPv6, see <link linkend="configuring-the-dhcpv6-server-for-http-and-pxe-boot_preparing-for-a-network-install">Configuring the DHCPv6 server for HTTP and PXE boot</link> instead.</simpara>
</listitem>
<listitem>
<simpara>Find the network addresses of the server.</simpara>
<simpara>In the following examples, the server has a network card with this configuration:</simpara>
<variablelist>
<varlistentry>
<term>IPv4 address</term>
<listitem>
<simpara>192.168.124.2/24</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>IPv4 gateway</term>
<listitem>
<simpara>192.168.124.1</simpara>
</listitem>
</varlistentry>
</variablelist>
</listitem>
</itemizedlist>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>Install the DHCP server:</simpara>
<screen>dnf install dhcp-server</screen>
</listitem>
<listitem>
<simpara>Set up a DHCPv4 server. Enter the following configuration in the <literal>/etc/dhcp/dhcpd.conf</literal> file. Replace the addresses to match your network card.</simpara>
<screen>option architecture-type code 93 = unsigned integer 16;

subnet <emphasis>192.168.124.0</emphasis> netmask <emphasis>255.255.255.0</emphasis> {
  option routers <emphasis>192.168.124.1</emphasis>;
  option domain-name-servers <emphasis>192.168.124.1</emphasis>;
  range <emphasis>192.168.124.100</emphasis> <emphasis>192.168.124.200</emphasis>;
  class "pxeclients" {
    match if substring (option vendor-class-identifier, 0, 9) = "PXEClient";
    next-server <emphasis>192.168.124.2</emphasis>;
          if option architecture-type = 00:07 {
            filename "redhat/EFI/BOOT/BOOTX64.EFI";
          }
          else {
            filename "pxelinux/pxelinux.0";
          }
  }
  class "httpclients" {
    match if substring (option vendor-class-identifier, 0, 10) = "HTTPClient";
    option vendor-class-identifier "HTTPClient";
    filename "http://<emphasis>192.168.124.2</emphasis>/redhat/EFI/BOOT/BOOTX64.EFI";
  }
}</screen>
</listitem>
<listitem>
<simpara>Start the DHCPv4 service:</simpara>
<screen># systemctl enable --now dhcpd</screen>
</listitem>
</orderedlist>
</section>
<section xml:id="configuring-the-dhcpv6-server-for-http-and-pxe-boot_preparing-for-a-network-install">
<title>Configuring the DHCPv6 server for HTTP and PXE boot</title>
<simpara role="_abstract">Enable the DHCP version 6 (DHCPv4) service on your server, so that it can provide network boot functionality.</simpara>
<itemizedlist>
<title>Prerequisites</title>
<listitem>
<simpara>You are preparing network installation over the IPv6 protocol.</simpara>
<simpara>For IPv4, see <link linkend="configuring-the-dhcpv4-server-for-http-and-pxe-boot_preparing-for-a-network-install">Configuring the DHCPv4 server for HTTP and PXE boot</link> instead.</simpara>
</listitem>
<listitem>
<simpara>Find the network addresses of the server.</simpara>
<simpara>In the following examples, the server has a network card with this configuration:</simpara>
<variablelist>
<varlistentry>
<term>IPv6 address</term>
<listitem>
<simpara>fd33:eb1b:9b36::2/64</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>IPv6 gateway</term>
<listitem>
<simpara>fd33:eb1b:9b36::1</simpara>
</listitem>
</varlistentry>
</variablelist>
</listitem>
</itemizedlist>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>Install the DHCP server:</simpara>
<screen>dnf install dhcp-server</screen>
</listitem>
<listitem>
<simpara>Set up a DHCPv6 server. Enter the following configuration in the <literal>/etc/dhcp/dhcpd6.conf</literal> file. Replace the addresses to match your network card.</simpara>
<screen>option dhcp6.bootfile-url code 59 = string;
option dhcp6.vendor-class code 16 = {integer 32, integer 16, string};

subnet6 <emphasis>fd33:eb1b:9b36::/64</emphasis> {
        range6 <emphasis>fd33:eb1b:9b36::64</emphasis> <emphasis>fd33:eb1b:9b36::c8</emphasis>;

        class "PXEClient" {
                match substring (option dhcp6.vendor-class, 6, 9);
        }

        subclass "PXEClient" "PXEClient" {
                option dhcp6.bootfile-url "tftp://<emphasis>[fd33:eb1b:9b36::2]</emphasis>/redhat/EFI/BOOT/BOOTX64.EFI";
        }

        class "HTTPClient" {
                match substring (option dhcp6.vendor-class, 6, 10);
        }

        subclass "HTTPClient" "HTTPClient" {
                option dhcp6.bootfile-url "http://<emphasis>[fd33:eb1b:9b36::2]</emphasis>/redhat/EFI/BOOT/BOOTX64.EFI";
                option dhcp6.vendor-class 0 10 "HTTPClient";
        }
}</screen>
</listitem>
<listitem>
<simpara>Start the DHCPv6 service:</simpara>
<screen># systemctl enable --now dhcpd6</screen>
</listitem>
<listitem>
<simpara>If DHCPv6 packets are dropped by the RP filter in the firewall, check its log. If the log contains the <literal>rpfilter_DROP</literal> entry, disable the filter using the following configuration in the <literal>/etc/firewalld/firewalld.conf</literal> file:</simpara>
<screen>IPv6_rpfilter=no</screen>
</listitem>
</orderedlist>
</section>
<section xml:id="configuring-a-tftp-server-for-bios-based-clients_preparing-for-a-network-install">
<title>Configuring a TFTP server for BIOS-based clients</title>
<simpara role="_abstract">Use this procedure to configure a TFTP server and DHCP server and start the TFTP service on the PXE server for BIOS-based AMD and Intel 64-bit systems.</simpara>
<important>
<simpara>All configuration files in this section are examples. Configuration details vary and are dependent on the architecture and specific requirements.</simpara>
</important>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>As root, install the following package.</simpara>
<screen># dnf install tftp-server</screen>
</listitem>
<listitem>
<simpara>Allow incoming connections to the <literal>tftp service</literal> in the firewall:</simpara>
<screen># firewall-cmd --add-service=tftp</screen>
<note>
<itemizedlist>
<listitem>
<simpara>This command enables temporary access until the next server reboot. To enable permanent access, add the <literal>--permanent</literal> option to the command.</simpara>
</listitem>
<listitem>
<simpara>Depending on the location of the installation ISO file, you might have to allow incoming connections for HTTP or other services.</simpara>
</listitem>
</itemizedlist>
</note>
</listitem>
<listitem>
<simpara>Access the <literal>pxelinux.0</literal> file from the <literal>SYSLINUX</literal> package in the DVD ISO image file, where <emphasis>my_local_directory</emphasis> is the name of the directory that you create:</simpara>
<screen># mount -t iso9660 /path_to_image/name_of_image.iso /mount_point -o loop,ro</screen>
<screen># cp -pr /mount_point/AppStream/Packages/syslinux-tftpboot-version-architecture.rpm /my_local_directory</screen>
<screen># umount /mount_point</screen>
</listitem>
<listitem>
<simpara>Extract the package:</simpara>
<screen># rpm2cpio syslinux-tftpboot-version-architecture.rpm | cpio -dimv</screen>
</listitem>
<listitem>
<simpara>Create a <literal>pxelinux/</literal> directory in <literal>tftpboot/</literal> and copy all the files from the directory into the <literal>pxelinux/</literal> directory:</simpara>
<screen># mkdir /var/lib/tftpboot/pxelinux</screen>
<screen># cp my_local_directory/tftpboot/* /var/lib/tftpboot/pxelinux</screen>
</listitem>
<listitem>
<simpara>Create the directory <literal>pxelinux.cfg/</literal> in the <literal>pxelinux/</literal> directory:</simpara>
<screen># mkdir /var/lib/tftpboot/pxelinux/pxelinux.cfg</screen>
</listitem>
<listitem>
<simpara>Create a configuration file named <literal>default</literal> and add it to the <literal>pxelinux.cfg/</literal> directory as shown in the following example:</simpara>
<screen>default vesamenu.c32
prompt 1
timeout 600

display boot.msg

label linux
  menu label ^Install system
  menu default
  kernel images/RHEL-9/vmlinuz
  append initrd=images/RHEL-9/initrd.img ip=dhcp inst.repo=http:///<emphasis>192.168.124.0</emphasis>RHEL-9/x86_64/iso-contents-root/
label vesa
  menu label Install system with ^basic video driver
  kernel images/RHEL-9/vmlinuz
  append initrd=images/RHEL-9/initrd.img ip=dhcp inst.xdriver=vesa nomodeset inst.repo=http://<emphasis>192.168.124.0</emphasis>/RHEL-9/x86_64/iso-contents-root/
label rescue
  menu label ^Rescue installed system
  kernel images/RHEL-9/vmlinuz
  append initrd=images/RHEL-9/initrd.img rescue
label local
  menu label Boot from ^local drive
  localboot 0xffff</screen>
<note>
<itemizedlist>
<listitem>
<simpara>The installation program cannot boot without its runtime image. Use the <literal>inst.stage2</literal> boot option to specify location of the image. Alternatively, you can use the <literal>inst.repo=</literal> option to specify the image as well as the installation source.</simpara>
</listitem>
<listitem>
<simpara>The installation source location used with <literal>inst.repo</literal> must contain a valid <literal>.treeinfo</literal> file.</simpara>
</listitem>
<listitem>
<simpara>When you select the RHEL9 installation DVD as the installation source,  the <literal>.treeinfo</literal> file points to the BaseOS and the AppStream repositories. You can use a single <literal>inst.repo</literal> option to load both repositories.</simpara>
</listitem>
</itemizedlist>
</note>
</listitem>
<listitem>
<simpara>Create a subdirectory to store the boot image files in the <literal>/var/lib/tftpboot/</literal> directory, and copy the boot image files to the directory. In this example, the directory is <literal>/var/lib/tftpboot/pxelinux/images/RHEL-9/</literal>:</simpara>
<screen># mkdir -p /var/lib/tftpboot/pxelinux/images/RHEL-9/
# cp /path_to_x86_64_images/pxeboot/{vmlinuz,initrd.img} /var/lib/tftpboot/pxelinux/images/RHEL-9/</screen>
</listitem>
<listitem>
<simpara>Start and enable the <literal>tftp.socket</literal> service:</simpara>
<screen># systemctl enable --now tftp.socket</screen>
<simpara>The PXE boot server is now ready to serve PXE clients. You can start the client, which is the system to which you are installing Red Hat Enterprise Linux, select <emphasis role="strong">PXE Boot</emphasis> when prompted to specify a boot source, and start the network installation.</simpara>
</listitem>
</orderedlist>
</section>
<section xml:id="configuring-a-tftp-server-for-uefi-based-clients_preparing-for-a-network-install">
<title>Configuring a TFTP server for UEFI-based clients</title>
<simpara role="_abstract">Use this procedure to configure a TFTP server and DHCP server and start the TFTP service on the PXE server for UEFI-based AMD64, Intel 64, and 64-bit ARM systems.</simpara>
<important>
<itemizedlist>
<listitem>
<simpara>All configuration files in this section are examples. Configuration details vary and are dependent on the architecture and specific requirements.</simpara>
</listitem>
<listitem>
<simpara>Red Hat Enterprise Linux 9 UEFI PXE boot supports a lowercase file format for a MAC-based grub menu file. For example, the MAC address file format for grub2 is <literal>grub.cfg-01-aa-bb-cc-dd-ee-ff</literal></simpara>
</listitem>
</itemizedlist>
</important>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>As root, install the following package.</simpara>
<screen># dnf install tftp-server</screen>
</listitem>
<listitem>
<simpara>Allow incoming connections to the <literal>tftp service</literal> in the firewall:</simpara>
<screen># firewall-cmd --add-service=tftp</screen>
<note>
<itemizedlist>
<listitem>
<simpara>This command enables temporary access until the next server reboot. To enable permanent access, add the <literal>--permanent</literal> option to the command.</simpara>
</listitem>
<listitem>
<simpara>Depending on the location of the installation ISO file, you might have to allow incoming connections for HTTP or other services.</simpara>
</listitem>
</itemizedlist>
</note>
</listitem>
<listitem>
<simpara>Access the EFI boot image files from the <literal>shim</literal> and <literal>grub2-efi</literal> packages in the DVD ISO image file, where <emphasis>my_local_directory</emphasis> is the name of the directory that you create:</simpara>
<screen># mount -t iso9660 /path_to_image/name_of_image.iso /mount_point -o loop,ro</screen>
<screen># cp -pr /mount_point/BaseOS/Packages/shim-version-architecture.rpm /my_local_directory</screen>
<screen># cp -pr /mount_point/BaseOS/Packages/grub2-efi-version-architecture.rpm /my_local_directory</screen>
<screen># umount /mount_point</screen>
</listitem>
<listitem>
<simpara>Extract the packages:</simpara>
<screen># rpm2cpio shim-version-architecture.rpm | cpio -dimv</screen>
<screen># rpm2cpio grub2-efi-version-architecture.rpm | cpio -dimv</screen>
</listitem>
<listitem>
<simpara>Copy the EFI boot images from your boot directory:</simpara>
<screen role="white-space-pre"># mkdir /var/lib/tftpboot/uefi
# cp my_local_directory/boot/efi/EFI/redhat/<emphasis>EFI_IMAGE</emphasis>.efi /var/lib/tftpboot/uefi/</screen>
<simpara>Replace <emphasis>EFI_IMAGE</emphasis> with <literal>shim</literal> or <literal>grub</literal> followed by the architecture. For example, <literal>grubx64</literal> on the 64-bit x86 architecture or <literal>grubaa64.efi</literal> on the 64-bit ARM architecture.</simpara>
</listitem>
<listitem>
<simpara>Add a configuration file named <literal>grub.cfg</literal> to the <literal>tftpboot/uefi/</literal> directory as shown in the following example:</simpara>
<screen>set timeout=60
menuentry 'RHEL 9' {
  linuxefi images/RHEL-9.x/vmlinuz ip=dhcp inst.repo=http://<emphasis>192.168.124.0</emphasis>/RHEL-9.x/x86_64/iso-contents-root/
  initrdefi images/RHEL-9.x/initrd.img
}</screen>
<note>
<itemizedlist>
<listitem>
<simpara>The installation program cannot boot without its runtime image. Use the <literal>inst.stage2</literal> boot option to specify location of the image. Alternatively, you can use the <literal>inst.repo=</literal> option to specify the image as well as the installation source.</simpara>
</listitem>
<listitem>
<simpara>The installation source location used with <literal>inst.repo</literal> must contain a valid <literal>.treeinfo</literal> file.</simpara>
</listitem>
<listitem>
<simpara>When you select the RHEL9 installation DVD as the installation source,  the <literal>.treeinfo</literal> file points to the BaseOS and the AppStream repositories. You can use a single <literal>inst.repo</literal> option to load both repositories.</simpara>
</listitem>
</itemizedlist>
</note>
</listitem>
<listitem>
<simpara>Create a subdirectory to store the boot image files in the <literal>/var/lib/tftpboot/</literal> directory, and copy the boot image files to the directory. In this example, the directory is <literal>/var/lib/tftpboot/images/RHEL-9.x/</literal>:</simpara>
<screen># mkdir -p /var/lib/tftpboot/images/RHEL-9/
# cp /path_to_x86_64_images/pxeboot/{vmlinuz,initrd.img} /var/lib/tftpboot/images/RHEL-9/</screen>
</listitem>
<listitem>
<simpara>Start and enable the <literal>tftp.socket</literal> service:</simpara>
<screen># systemctl enable --now tftp.socket</screen>
<simpara>The PXE boot server is now ready to serve PXE clients. You can start the client, which is the system to which you are installing Red Hat Enterprise Linux, select <emphasis role="strong">PXE Boot</emphasis> when prompted to specify a boot source, and start the network installation.</simpara>
</listitem>
</orderedlist>
<itemizedlist role="_additional-resources">
<title>Additional resources</title>
<listitem>
<simpara><link xl:href="https://www.rodsbooks.com/efi-bootloaders/secureboot.html#shim">Using the Shim Program</link></simpara>
</listitem>
</itemizedlist>
</section>
<section xml:id="configuring-a-network-server-for-ibm-power_preparing-for-a-network-install">
<title>Configuring a network server for IBM Power systems</title>
<simpara role="_abstract">Use this procedure to configure a network boot server for IBM Power systems using GRUB2.</simpara>
<important>
<simpara>All configuration files in this section are examples. Configuration details vary and are dependent on the architecture and specific requirements.</simpara>
</important>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>As root, install the following packages:</simpara>
<screen># dnf install tftp-server dhcp-server</screen>
</listitem>
<listitem>
<simpara>Allow incoming connections to the <literal>tftp</literal> service in the firewall:</simpara>
<screen># firewall-cmd --add-service=tftp</screen>
<note>
<itemizedlist>
<listitem>
<simpara>This command enables temporary access until the next server reboot. To enable permanent access, add the <literal>--permanent</literal> option to the command.</simpara>
</listitem>
<listitem>
<simpara>Depending on the location of the installation ISO file, you might have to allow incoming connections for HTTP or other services.</simpara>
</listitem>
</itemizedlist>
</note>
</listitem>
<listitem>
<simpara>Create a GRUB2 network boot directory inside the TFTP root:</simpara>
<screen># grub2-mknetdir --net-directory=/var/lib/tftpboot
Netboot directory for powerpc-ieee1275 created. Configure your DHCP server to point to /boot/grub2/powerpc-ieee1275/core.elf</screen>
<note>
<simpara>The command output informs you of the file name that needs to be configured in your DHCP configuration, described in this procedure.</simpara>
</note>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>If the PXE server runs on an x86 machine, the <literal>grub2-ppc64-modules</literal> must be installed before creating a <literal>GRUB2</literal> network boot directory inside the tftp root:</simpara>
<screen># dnf install grub2-ppc64-modules</screen>
</listitem>
</orderedlist>
</listitem>
<listitem>
<simpara>Create a GRUB2 configuration file: <literal>/var/lib/tftpboot/boot/grub2/grub.cfg</literal> as shown in the following example:</simpara>
<screen>set default=0
set timeout=5

echo -e "\nWelcome to the Red Hat Enterprise Linux 9 installer!\n\n"

menuentry 'Red Hat Enterprise Linux 9' {
  linux grub2-ppc64/vmlinuz ro ip=dhcp inst.repo=http://<emphasis>192.168.124.0</emphasis>/RHEL-9/x86_64/iso-contents-root/
  initrd grub2-ppc64/initrd.img
}</screen>
<note>
<itemizedlist>
<listitem>
<simpara>The installation program cannot boot without its runtime image. Use the <literal>inst.stage2</literal> boot option to specify location of the image. Alternatively, you can use the <literal>inst.repo=</literal> option to specify the image as well as the installation source.</simpara>
</listitem>
<listitem>
<simpara>The installation source location used with <literal>inst.repo</literal> must contain a valid <literal>.treeinfo</literal> file.</simpara>
</listitem>
<listitem>
<simpara>When you select the RHEL8 installation DVD as the installation source,  the <literal>.treeinfo</literal> file points to the BaseOS and the AppStream repositories. You can use a single <literal>inst.repo</literal> option to load both repositories.</simpara>
</listitem>
</itemizedlist>
</note>
</listitem>
<listitem>
<simpara>Mount the DVD ISO image using the command:</simpara>
<screen># mount -t iso9660 /path_to_image/name_of_iso/ /mount_point -o loop,ro</screen>
</listitem>
<listitem>
<simpara>Create a directory and copy the <literal>initrd.img</literal> and <literal>vmlinuz</literal> files from DVD ISO image into it, for example:</simpara>
<screen># cp /mount_point/ppc/ppc64/{initrd.img,vmlinuz} /var/lib/tftpboot/grub2-ppc64/</screen>
</listitem>
<listitem>
<simpara>Configure your DHCP server to use the boot images packaged with <literal>GRUB2</literal> as shown in the following example. Note that if you already have a DHCP server configured, then perform this step on the DHCP server.</simpara>
<simpara><emphasis role="strong">TODO</emphasis>: This DHCP configuration must be different from the other, regular BIOS and UEFI entries, right?</simpara>
<screen>subnet 192.168.0.1 netmask 255.255.255.0 {
  allow bootp;
  option routers 192.168.0.5;
  group { #BOOTP POWER clients
    filename "boot/grub2/powerpc-ieee1275/core.elf";
    host client1 {
    hardware ethernet 01:23:45:67:89:ab;
    fixed-address 192.168.0.112;
    }
  }
}</screen>
</listitem>
<listitem>
<simpara>Adjust the sample parameters <literal>subnet</literal>, <literal>netmask</literal>, <literal>routers</literal>, <literal>fixed-address</literal> and <literal>hardware ethernet</literal> to fit your network configuration. Note the <literal>file name</literal> parameter; this is the file name that was outputted by the <literal>grub2-mknetdir</literal> command earlier in this procedure.</simpara>
</listitem>
<listitem>
<simpara>On the DHCP server, start and enable the <literal>dhcpd</literal> service. If you have configured a DHCP server on the localhost, then start and enable the <literal>dhcpd</literal> service on the localhost.</simpara>
<screen># systemctl enable --now dhcpd</screen>
</listitem>
<listitem>
<simpara>Start and enable the <literal>tftp.socket</literal> service:</simpara>
<screen># systemctl enable --now tftp.socket</screen>
<simpara>The PXE boot server is now ready to serve PXE clients. You can start the client, which is the system to which you are installing Red Hat Enterprise Linux, select <emphasis role="strong">PXE Boot</emphasis> when prompted to specify a boot source, and start the network installation.</simpara>
</listitem>
</orderedlist>
</section>
</section>
<section xml:id="creating-a-remote-repository_{context}">
<title>Creating a remote repository</title>
<simpara role="_abstract">Follow the steps in this procedure to create an installation source for a network-based installation using
a remote repository containing extracted contents of the DVD ISO image. The installation source is accessed over HTTP or HTTPS.</simpara>
<itemizedlist>
<title>Prerequisites</title>
<listitem>
<simpara>You have a Red Hat Enterprise Linux 9 installation DVD/ISO image.</simpara>
</listitem>
<listitem>
<simpara>You have several servers running Red Hat Enterprise Linux.</simpara>
</listitem>
</itemizedlist>
<section xml:id="installing-apache-on-rehl_creating-a-remote-repository">
<title>Installing Apache on RHEL</title>
<simpara role="_abstract">This procedure will help you install Apache on Red Hat Enterprise Linux 9.</simpara>
<itemizedlist>
<title>Prerequisites</title>
<listitem>
<simpara>You have access to a repo with Apache webserver.</simpara>
</listitem>
</itemizedlist>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>Install the httpd package</simpara>
<literallayout class="monospaced"># dnf install httpd</literallayout>
</listitem>
<listitem>
<simpara>Run, then enable the Apache webserver. These commands will also start the webserver after reboot.</simpara>
<literallayout class="monospaced"># systemctl enable httpd
# systemctl start httpd</literallayout>
</listitem>
<listitem>
<simpara>Insert any website files you may have.</simpara>
<literallayout class="monospaced"># echo Apache on RHEL {ProductNumber} &gt; /var/www/html/index.html</literallayout>
</listitem>
<listitem>
<simpara>Update the firewall.</simpara>
<literallayout class="monospaced"># firewall-cmd --add-service=http --permanent
# firewall-cmd --add-service=http</literallayout>
</listitem>
<listitem>
<simpara>Access the website.</simpara>
<literallayout class="monospaced">http://&lt;the-apache-ip-address&gt;

http://&lt;the-apache-hostname&gt;</literallayout>
</listitem>
</orderedlist>
</section>
<section xml:id="creating-a-remote-repository_creating-a-remote-repository">
<title>Creating a remote repository</title>
<simpara role="_abstract">Multiple Red Hat Enterprise Linux servers may access a single Red Hat Enterprise Linux repository on the network. This requires a running web server, most likely this will be Apache.</simpara>
<itemizedlist>
<title>Prerequisites</title>
<listitem>
<simpara>You have a Red Hat Enterprise Linux 9 installation DVD/ISO image.</simpara>
</listitem>
<listitem>
<simpara>You have several servers running Red Hat Enterprise Linux.</simpara>
</listitem>
</itemizedlist>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>Mount and copy the content of downloaded DVD.</simpara>
<literallayout class="monospaced">mkdir /mnt/rhel{ProductNumber}
mount -o loop,ro rhel-{ProductNumber}-x86_64-dvd.iso /mnt/rhel{ProductNumber}/
cp -r /mnt/rhel{ProductNumber}/ /var/www/html/
umount  /mnt/rhel{ProductNumber}</literallayout>
<simpara>The next step is performed on the client side, not on the server where Apache is installed.</simpara>
</listitem>
<listitem>
<simpara>Create a repo file for both BaseOS and AppStream repositories.</simpara>
<literallayout class="monospaced">vi /etc/yum.repos.d/rhel_http_repo.repo

[BaseOS_repo_http]
name=RHEL_9_x86_64_HTTP BaseOS
baseurl="http://myhost/rhel9/BaseOS"
gpgcheck=1
gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-redhat-release

[AppStream_repo_http]
name=RHEL_9_x86_64_HTTP AppStream
baseurl="http://myhost/rhel9/AppStream"
gpgcheck=1
gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-redhat-release

[root@localhost ~]# dnf repolist
Updating Subscription Management repositories.
Unable to read consumer identity
This system is not registered to Red Hat Subscription Management. You can use subscription-manager to register.
Last metadata expiration check: 0:08:33 ago on t 23. ervence 2019, 16:48:09 CEST.
repo id                                                              repo name                                                                        status
AppStream_repo_http                                                  RHEL_9_x86_64_HTTP AppStream                                                   4,672
BaseOS_repo_http                                                     RHEL_9_x86_64_HTTP BaseOS                                                      1,658
[root@localhost ~]#</literallayout>
</listitem>
</orderedlist>
</section>
</section>
</section>
<section xml:id="assembly_installing-on-amd64-intel-64-and-64-bit-arm_{context}">
<title>Installing Red Hat Enterprise Linux on AMD64, Intel 64, and 64-bit ARM</title>
<simpara>This section describes how to install Red Hat Enterprise Linux on AMD64, Intel 64, and 64-bit ARM systems, using the graphical user interface. The section also provides the following information:</simpara>
<itemizedlist>
<listitem>
<simpara>Instructions for customizing your installation settings</simpara>
</listitem>
<listitem>
<simpara>Instructions for completing your post-installation tasks</simpara>
</listitem>
</itemizedlist>
<section xml:id="preparing-for-your-installation-workflow_assembly_installing-on-amd64-intel-64-and-64-bit-arm">
<title>Recommended steps</title>
<simpara role="_abstract">Preparing for your RHEL installation consists of the following steps:</simpara>
<orderedlist numeration="arabic">
<title>Steps</title>
<listitem>
<simpara>Review and determine the installation method.</simpara>
</listitem>
<listitem>
<simpara>Check <link linkend="check-system-requirements_installation-introduction">system requirements</link>.</simpara>
</listitem>
<listitem>
<simpara>Review the installation boot media options.</simpara>
</listitem>
<listitem>
<simpara>Download the required installation ISO image.</simpara>
</listitem>
<listitem>
<simpara>Create a bootable installation medium.</simpara>
</listitem>
<listitem>
<simpara>Prepare the installation source.</simpara>
<simpara>This is only required for the Boot ISO (minimal install) image if you are not using the Content Delivery Network (CDN) to download the required software packages.</simpara>
</listitem>
</orderedlist>
</section>
<section xml:id="booting-the-installer_assembly_installing-on-amd64-intel-64-and-64-bit-arm">
<title>Booting the installation</title>
<simpara>After you have created bootable media you are ready to boot the Red Hat Enterprise Linux installation.</simpara>
<section xml:id="boot-menu_booting-the-installer">
<title>Boot menu</title>
<simpara role="_abstract">The Red Hat Enterprise Linux boot menu is displayed using <emphasis role="strong">GRand Unified Bootloader version 2</emphasis> (GRUB2) when your system has completed loading the boot media.</simpara>
<figure>
<title>Red Hat Enterprise Linux boot menu</title>
<mediaobject>
<imageobject>
<imagedata fileref="images/Boot_menu_9.0.png"/>
</imageobject>
<textobject><phrase>Boot menu window.</phrase></textobject>
</mediaobject>
</figure>
<simpara>The boot menu provides several options in addition to launching the installation program. If you do not make a selection within 60 seconds, the default boot option (highlighted in white) is run. To select a different option, use the arrow keys on your keyboard to make your selection and press the <keycap>Enter</keycap> key.</simpara>
<simpara>You can customize boot options for a particular menu entry:</simpara>
<itemizedlist>
<listitem>
<simpara><emphasis role="strong">On BIOS-based systems:</emphasis> Press the <keycap>Tab</keycap> key and add custom boot options to the command line. You can also access the <literal>boot:</literal> prompt by pressing the <keycap>Esc</keycap> key but no required boot options are preset. In this scenario, you must always specify the Linux option before using any other boot options.</simpara>
</listitem>
<listitem>
<simpara><emphasis role="strong">On UEFI-based systems:</emphasis> Press the <keycap>e</keycap> key and add custom boot options to the command line. When ready press <keycap>Ctrl</keycap>+<keycap>X</keycap> to boot the modified option.</simpara>
</listitem>
</itemizedlist>
<table frame="all" rowsep="1" colsep="1">
<title>Boot menu options</title>
<tgroup cols="2">
<colspec colname="col_1" colwidth="50*"/>
<colspec colname="col_2" colwidth="50*"/>
<thead>
<row>
<entry align="left" valign="top">Boot menu option</entry>
<entry align="left" valign="top">Description</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left" valign="top"><simpara><emphasis role="strong">Install Red Hat Enterprise Linux 9</emphasis></simpara></entry>
<entry align="left" valign="top"><simpara>Use this option to install Red Hat Enterprise Linux using the graphical installation program. For more information, <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_a_standard_rhel_9_installation/index#performing-a-quick-install-with-gui_installing-RHEL">Installing RHEL using an ISO image from the Customer Portal</link></simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><emphasis role="strong">Test this media &amp; install Red Hat Enterprise Linux 9</emphasis></simpara></entry>
<entry align="left" valign="top"><simpara>Use this option to check the integrity of the installation media. For more information, see <link linkend="verifying-boot-media_troubleshooting-at-the-start-of-the-installation">Verifying a boot media</link></simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><emphasis role="strong">Troubleshooting &gt;</emphasis></simpara></entry>
<entry align="left" valign="top"><simpara>Use this option to resolve various installation issues. Press <keycap>Enter</keycap> to display its contents.</simpara></entry>
</row>
</tbody>
</tgroup>
</table>
<table frame="all" rowsep="1" colsep="1">
<title>Troubleshooting options</title>
<tgroup cols="2">
<colspec colname="col_1" colwidth="50*"/>
<colspec colname="col_2" colwidth="50*"/>
<thead>
<row>
<entry align="left" valign="top">Troubleshooting option</entry>
<entry align="left" valign="top">Description</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left" valign="top"><simpara><emphasis role="strong">Troubleshooting &gt; Install Red Hat Enterprise Linux 9 in basic graphics mode</emphasis></simpara></entry>
<entry align="left" valign="top"><simpara>Use this option to install Red Hat Enterprise Linux in graphical mode even if the installation program is unable to load the correct driver for your video card. If your screen is distorted when using the Install Red Hat Enterprise Linux 9 option, restart your system and use this option. For more information, see <link linkend="cannot-boot-into-the-graphical-installation_troubleshooting-at-the-start-of-the-installation">Cannot boot into graphical installation</link></simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><emphasis role="strong">Troubleshooting &gt; Rescue a Red Hat Enterprise Linux system</emphasis></simpara></entry>
<entry align="left" valign="top"><simpara>Use this option to repair any issues that prevent you from booting. For more information, see <link linkend="using-rescue-mode_troubleshooting-after-installation">Using a rescue mode</link></simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><emphasis role="strong">Troubleshooting &gt; Run a memory test</emphasis></simpara></entry>
<entry align="left" valign="top"><simpara>Use this option to run a memory test on your system. Press <keycap>Enter</keycap> to display its contents. For more information, see <link linkend="memtest86_troubleshooting-at-the-start-of-the-installation">memtest86</link></simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><emphasis role="strong">Troubleshooting &gt; Boot from local drive</emphasis></simpara></entry>
<entry align="left" valign="top"><simpara>Use this option to boot the system from the first installed disk. If you booted this disk accidentally, use this option to boot from the hard disk immediately without starting the installation program.</simpara></entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section xml:id="types-of-boot-options_booting-the-installer">
<title>Types of boot options</title>
<simpara role="_abstract">The two types of boot options are those with an equals "=" sign, and those without an equals "=" sign. Boot options are appended to the boot command line and you can append multiple options separated by space. Boot options that are specific to the installation program always start with <literal>inst</literal>.</simpara>
<variablelist>
<varlistentry>
<term>Options with an equals "=" sign</term>
<listitem>
<simpara>You must specify a value for boot options that use the <literal>=</literal> symbol. For example, the <literal>inst.vncpassword=</literal> option must contain a value, in this example, a password. The correct syntax for this example is <literal>inst.vncpassword=password</literal>.</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>Options without an equals "=" sign</term>
<listitem>
<simpara>This boot option does not accept any values or parameters. For example, the <literal>rd.live.check</literal> option forces the installation program to verify the installation media before starting the installation. If this boot option is present, the installation program performs the verification and if the boot option is not present, the verification is skipped.</simpara>
</listitem>
</varlistentry>
</variablelist>
</section>
<section xml:id="proc_editing-the-boot-prompt-in-bios_booting-the-installer">
<title>Editing the boot: prompt in BIOS</title>
<simpara>When using the <literal>boot:</literal> prompt, the first option must always specify the installation program image file that you want to load. In most cases, you can specify the image using the keyword. You can specify additional options according to your requirements.</simpara>
<itemizedlist>
<title>Prerequisites</title>
<listitem>
<simpara>You have created bootable installation media (USB, CD or DVD).</simpara>
</listitem>
<listitem>
<simpara>You have booted the installation from the media, and the installation boot menu is open.</simpara>
</listitem>
</itemizedlist>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>With the boot menu open, press the <keycap>Esc</keycap> key on your keyboard.</simpara>
</listitem>
<listitem>
<simpara>The <literal>boot:</literal> prompt is now accessible.</simpara>
</listitem>
<listitem>
<simpara>Press the <keycap>Tab</keycap> key on your keyboard to display the help commands.</simpara>
</listitem>
<listitem>
<simpara>Press the <keycap>Enter</keycap> key on your keyboard to start the installation with your options. To return from the <literal>boot:</literal> prompt to the boot menu, restart the system and boot from the installation media again.</simpara>
</listitem>
</orderedlist>
<note>
<simpara>The <literal>boot:</literal> prompt also accepts <literal>dracut</literal> kernel options. A list of options is available in the <literal>dracut.cmdline(7)</literal> man page.</simpara>
</note>
</section>
<section xml:id="proc_editing-the-prompt_booting-the-installer">
<title>Editing predefined boot options using the &gt; prompt</title>
<simpara>In BIOS-based AMD64 and Intel 64 systems, you can use the <literal>&gt;</literal> prompt to edit predefined boot options. To display a full set of options, select <literal>Test this media and install RHEL 9</literal> from the boot menu.</simpara>
<itemizedlist>
<title>Prerequisites</title>
<listitem>
<simpara>You have created bootable installation media (USB, CD or DVD).</simpara>
</listitem>
<listitem>
<simpara>You have booted the installation from the media, and the installation boot menu is open.</simpara>
</listitem>
</itemizedlist>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>From the boot menu, select an option and press the <keycap>Tab</keycap> key on your keyboard. The <literal>&gt;</literal> prompt is accessible and displays the available options.</simpara>
</listitem>
<listitem>
<simpara>Append the options that you require to the <literal>&gt;</literal> prompt.</simpara>
</listitem>
<listitem>
<simpara>Press <keycap>Enter</keycap> to start the installation.</simpara>
</listitem>
<listitem>
<simpara>Press <keycap>Esc</keycap> to cancel editing and return to the boot menu.</simpara>
</listitem>
</orderedlist>
</section>
<section xml:id="proc_editing-the-grub2-menu_booting-the-installer">
<title>Editing the GRUB2 menu for the UEFI-based systems</title>
<simpara>The GRUB2 menu is available on UEFI-based AMD64, Intel 64, and 64-bit ARM systems.</simpara>
<itemizedlist>
<title>Prerequisites</title>
<listitem>
<simpara>You have created bootable installation media (USB, CD or DVD).</simpara>
</listitem>
<listitem>
<simpara>You have booted the installation from the media, and the installation boot menu is open.</simpara>
</listitem>
</itemizedlist>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>From the boot menu window, select the required option and press <keycap>e</keycap>.</simpara>
</listitem>
<listitem>
<simpara>On UEFI systems, the kernel command line starts with <literal>linuxefi</literal>. Move the cursor to the end of the <literal>linuxefi</literal> kernel command line.</simpara>
</listitem>
<listitem>
<simpara>Edit the parameters as required. For example, to configure one or more network interfaces, add the <literal>ip=</literal> parameter at the end of the <literal>linuxefi</literal> kernel command line, followed by the required value.</simpara>
</listitem>
<listitem>
<simpara>When you finish editing, press <keycap>Ctrl</keycap>+<keycap>X</keycap> to start the installation using the specified options.</simpara>
</listitem>
</orderedlist>
</section>
<section xml:id="booting-the-installer-from-local-media_booting-the-installer">
<title>Booting the installation from a USB, CD, or DVD</title>
<simpara role="_abstract">Follow the steps in this procedure to boot the Red Hat Enterprise Linux installation using a USB, CD, or DVD.
The following steps are generic. Consult your hardware manufacturer&#8217;s documentation for specific instructions.</simpara>
<formalpara>
<title>Prerequisite</title>
<para>You have created bootable installation media (USB, CD or DVD). See <link linkend="making-an-installation-cd-or-dvd_assembly_creating-a-bootable-installation-medium">Creating a bootable DVD or CD</link> for more information.</para>
</formalpara>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>Power off the system to which you are installing Red Hat Enterprise Linux.</simpara>
</listitem>
<listitem>
<simpara>Disconnect any drives from the system.</simpara>
</listitem>
<listitem>
<simpara>Power on the system.</simpara>
</listitem>
<listitem>
<simpara>Insert the bootable installation media (USB, DVD, or CD).</simpara>
</listitem>
<listitem>
<simpara>Power off the system but do not remove the boot media.</simpara>
</listitem>
<listitem>
<simpara>Power on the system.</simpara>
<note>
<simpara>You might need to press a specific key or combination of keys to boot from the media or configure the Basic Input/Output System (BIOS) of your system to boot from the media. For more information, see the documentation that came with your system.</simpara>
</note>
</listitem>
<listitem>
<simpara>The <emphasis role="strong">Red Hat Enterprise Linux boot</emphasis> window opens and displays information about a variety of available boot options.</simpara>
</listitem>
<listitem>
<simpara>Use the arrow keys on your keyboard to select the boot option that you require, and press <keycap>Enter</keycap> to select the boot option.
The <emphasis role="strong">Welcome to Red Hat Enterprise Linux</emphasis> window opens and you can install Red Hat Enterprise Linux using the graphical user interface.</simpara>
<note>
<simpara>The installation program automatically begins if no action is performed in the boot window within 60 seconds.</simpara>
</note>
</listitem>
<listitem>
<simpara>Optionally, edit the available boot options:</simpara>
<orderedlist numeration="loweralpha">
<listitem>
<simpara><emphasis role="strong">UEFI-based systems:</emphasis> Press <keycap>E</keycap> to enter edit mode. Change the predefined command line to add or remove boot options. Press <keycap>Enter</keycap> to confirm your choice.</simpara>
</listitem>
<listitem>
<simpara><emphasis role="strong">BIOS-based systems:</emphasis> Press the <keycap>Tab</keycap> key on your keyboard to enter edit mode. Change the predefined command line to add or remove boot options. Press <keycap>Enter</keycap> to confirm your choice.</simpara>
</listitem>
</orderedlist>
</listitem>
</orderedlist>
<itemizedlist role="_additional-resources">
<title>Additional Resources</title>
<listitem>
<simpara><link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_a_standard_rhel_9_installation/index#graphical-installation_graphical-installation">Graphical installation</link></simpara>
</listitem>
<listitem>
<simpara><link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/boot_options_for_rhel_installer/index">Boot options reference</link></simpara>
</listitem>
</itemizedlist>
</section>
<section xml:id="booting-the-installation-from-a-network-using-http_booting-the-installer">
<title>Booting the installation from a network using HTTP</title>
<simpara role="_abstract">When installing Red Hat Enterprise Linux on a large number of systems simultaneously, the best approach is to boot and install from a server on the local network. Follow the steps in this procedure to boot the Red Hat Enterprise Linux installation from a network using HTTP.</simpara>
<important>
<simpara>To boot the installation process from a network, you must use a physical network connection, for example, Ethernet. You cannot boot the installation process with a wireless connection.</simpara>
</important>
<itemizedlist>
<title>Prerequisites</title>
<listitem>
<simpara>You have configured an HTTP boot server, and there is a network interface in your system. See <emphasis role="strong">Additional resources</emphasis> for more information.</simpara>
</listitem>
<listitem>
<simpara>You have configured your system to boot from the network interface. This option is in the UEFI, and can be labeled <emphasis role="strong">Network Boot</emphasis> or <emphasis role="strong">Boot Services</emphasis>.</simpara>
</listitem>
<listitem>
<simpara>You have verified that the UEFI is configured to boot from the specified network interface and supports the HTTP boot standard. For more information, see your hardwares documentation.</simpara>
</listitem>
</itemizedlist>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>Verify that the network cable is attached. The link indicator light on the network socket should be lit, even if the computer is not switched on.</simpara>
</listitem>
<listitem>
<simpara>Turn on the system.</simpara>
<simpara>Depending on your hardware, some network setup and diagnostic information can be displayed before your system connects to an HTTP boot server. When connected, a menu is displayed according to the HTTP boot server configuration.</simpara>
</listitem>
<listitem>
<simpara>Press the number key that corresponds to the option that you require.</simpara>
<note>
<simpara>In some instances, boot options are not displayed. If this occurs, press the <keycap>Enter</keycap> key on your keyboard or wait until the boot window opens.</simpara>
</note>
<simpara>The <emphasis role="strong">Red Hat Enterprise Linux boot</emphasis> window opens and displays information about a variety of available boot options.</simpara>
</listitem>
<listitem>
<simpara>Use the arrow keys on your keyboard to select the boot option that you require, and press <keycap>Enter</keycap> to select the boot option.
The <emphasis role="strong">Welcome to Red Hat Enterprise Linux</emphasis> window opens and you can install Red Hat Enterprise Linux using the graphical user interface.</simpara>
<note>
<simpara>The installation program automatically begins if no action is performed in the boot window within 60 seconds.</simpara>
</note>
</listitem>
<listitem>
<simpara>Optionally, edit the available boot options.</simpara>
<simpara>Press <keycap>E</keycap> to enter edit mode. Change the predefined command line to add or remove boot options. Press <keycap>Enter</keycap> to confirm your choice.</simpara>
</listitem>
</orderedlist>
<itemizedlist role="_additional-resources">
<title>Additional Resources</title>
<listitem>
<simpara><link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_an_advanced_rhel_9_installation/index/"><emphasis>Performing an advanced RHEL 9 installation</emphasis></link></simpara>
</listitem>
<listitem>
<simpara><link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/boot_options_for_rhel_installer/index">Boot options for RHEL installer</link></simpara>
</listitem>
</itemizedlist>
</section>
<section xml:id="booting-the-installation-using-pxe_booting-the-installer">
<title>Booting the installation from a network using PXE</title>
<simpara role="_abstract">When installing Red Hat Enterprise Linux on a large number of systems simultaneously, the best approach is to boot and install from a server on the local network. Follow the steps in this procedure to boot the Red Hat Enterprise Linux installation from a network using PXE.</simpara>
<important>
<simpara>To boot the installation process from a network, you must use a physical network connection, for example, Ethernet. You cannot boot the installation process with a wireless connection.</simpara>
</important>
<itemizedlist>
<title>Prerequisites</title>
<listitem>
<simpara>You have configured a TFTP server, and there is a network interface in your system that supports PXE. See <emphasis role="strong">Additional resources</emphasis> for more information.</simpara>
</listitem>
<listitem>
<simpara>You have configured your system to boot from the network interface. This option is in the BIOS, and can be labeled <emphasis role="strong">Network Boot</emphasis> or <emphasis role="strong">Boot Services</emphasis>.</simpara>
</listitem>
<listitem>
<simpara>You have verified that the BIOS is configured to boot from the specified network interface and supports the PXE standard. For more information, see your hardwares documentation.</simpara>
</listitem>
</itemizedlist>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>Verify that the network cable is attached. The link indicator light on the network socket should be lit, even if the computer is not switched on.</simpara>
</listitem>
<listitem>
<simpara>Switch on the system.</simpara>
<simpara>Depending on your hardware, some network setup and diagnostic information can be displayed before your system connects to a PXE server. When connected, a menu is displayed according to the PXE server configuration.</simpara>
</listitem>
<listitem>
<simpara>Press the number key that corresponds to the option that you require.</simpara>
<note>
<simpara>In some instances, boot options are not displayed. If this occurs, press the <keycap>Enter</keycap> key on your keyboard or wait until the boot window opens.</simpara>
</note>
<simpara>The <emphasis role="strong">Red Hat Enterprise Linux boot</emphasis> window opens and displays information about a variety of available boot options.</simpara>
</listitem>
<listitem>
<simpara>Use the arrow keys on your keyboard to select the boot option that you require, and press <keycap>Enter</keycap> to select the boot option.
The <emphasis role="strong">Welcome to Red Hat Enterprise Linux</emphasis> window opens and you can install Red Hat Enterprise Linux using the graphical user interface.</simpara>
<note>
<simpara>The installation program automatically begins if no action is performed in the boot window within 60 seconds.</simpara>
</note>
</listitem>
<listitem>
<simpara>Optionally, edit the available boot options:</simpara>
<variablelist>
<varlistentry>
<term>UEFI-based systems</term>
<listitem>
<simpara>Press <keycap>E</keycap> to enter edit mode. Change the predefined command line to add or remove boot options. Press <keycap>Enter</keycap> to confirm your choice.</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>BIOS-based systems</term>
<listitem>
<simpara>Press the <keycap>Tab</keycap> key on your keyboard to enter edit mode. Change the predefined command line to add or remove boot options. Press <keycap>Enter</keycap> to confirm your choice.</simpara>
</listitem>
</varlistentry>
</variablelist>
</listitem>
</orderedlist>
<itemizedlist role="_additional-resources">
<title>Additional Resources</title>
<listitem>
<simpara><link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_an_advanced_rhel_9_installation/index/"><emphasis>Performing an advanced RHEL 9 installation</emphasis></link></simpara>
</listitem>
<listitem>
<simpara><link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/boot_options_for_rhel_installer/index">Boot options for RHEL installer</link></simpara>
</listitem>
</itemizedlist>
</section>
</section>
<section xml:id="performing-a-quick-install-with-gui_assembly_installing-on-amd64-intel-64-and-64-bit-arm">
<title>Installing RHEL using an ISO image from the Customer Portal</title>
<simpara role="_abstract">Use this procedure to install RHEL using a DVD ISO image that you downloaded from the Customer Portal. The steps provide instructions to follow the RHEL Installation Program.</simpara>
<warning>
<simpara>When performing a GUI installation using the DVD ISO image file, a race condition in the installer can sometimes prevent the installation from proceeding until you register the system using the Connect to Red Hat feature. For more information, see BZ#1823578 in the Known Issues section of the <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/8.2_release_notes/index"><emphasis>RHEL Release Notes</emphasis></link> document.</simpara>
</warning>
<itemizedlist>
<title>Prerequisites</title>
<listitem>
<simpara>You have downloaded the DVD ISO image file from the Customer Portal. For more information, see <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_a_standard_rhel_9_installation/index#downloading-beta-installation-images_assembly_preparing-for-your-installation">Downloading beta installation images</link>.</simpara>
</listitem>
<listitem>
<simpara>You have created bootable installation media. For more information, see <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_a_standard_rhel_9_installation/index#making-an-installation-cd-or-dvd_assembly_creating-a-bootable-installation-medium">Creating a bootable DVD or CD</link>.</simpara>
</listitem>
<listitem>
<simpara>You have booted the installation program and the boot menu is displayed. For more information, see <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_a_standard_rhel_9_installation/index.xml#booting-the-installer_installing-RHEL">Booting the installer</link>.</simpara>
</listitem>
</itemizedlist>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>From the boot menu, select <emphasis role="strong">Install Red Hat Enterprise Linux 9</emphasis>, and press <keycap>Enter</keycap> on your keyboard.</simpara>
</listitem>
<listitem>
<simpara>In the <emphasis role="strong">Welcome to Red Hat Enterprise Linux 9</emphasis> window, select your language and location, and click <guibutton>Continue</guibutton>. The <emphasis role="strong">Installation Summary</emphasis> window opens and displays the default values for each setting.</simpara>
</listitem>
<listitem>
<simpara>Select <emphasis role="strong">System &gt; Installation Destination</emphasis>, and in the <emphasis role="strong">Local Standard Disks</emphasis> pane, select the target disk and then click <guibutton>Done</guibutton>.
The default settings are selected for the storage configuration.</simpara>
</listitem>
<listitem>
<simpara>Select <emphasis role="strong">System &gt; Network &amp; Host Name</emphasis>. The <emphasis role="strong">Network and Hostname</emphasis> window opens.</simpara>
</listitem>
<listitem>
<simpara>In the <emphasis role="strong">Network and Hostname</emphasis> window, toggle the <emphasis role="strong">Ethernet</emphasis> switch to <emphasis role="strong">ON</emphasis>, and then click <guibutton>Done</guibutton>.
The installer connects to an available network and configures the devices available on the network. If required, from the list of networks available, you can choose a desired network and configure the devices that are available on that network.</simpara>
</listitem>
<listitem>
<simpara>Select <emphasis role="strong">User Settings &gt; Root Password</emphasis>. The <emphasis role="strong">Root Password</emphasis> window opens.</simpara>
</listitem>
<listitem>
<simpara>In the <emphasis role="strong">Root Password</emphasis> window, type the password that you want to set for the root account, and then click <guibutton>Done</guibutton>.
A root password is required to finish the installation process and to log in to the system administrator user account.</simpara>
</listitem>
<listitem>
<simpara>Optional: Select <emphasis role="strong">User Settings &gt; User Creation</emphasis> to create a user account for the installation process to complete. In place of the root account, you can use this user account to perform any system administrative tasks.</simpara>
</listitem>
<listitem>
<simpara>In the <emphasis role="strong">Create User</emphasis> window, perform the following, and then click <guibutton>Done</guibutton>.</simpara>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>Type a name and user name for the account that you want to create.</simpara>
</listitem>
<listitem>
<simpara>Select the <emphasis role="strong">Make this user administrator</emphasis> and the <emphasis role="strong">Require a password to use this account</emphasis> check boxes.
The installation program adds the user to the wheel group, and creates a password protected user account with default settings. It is recommended to create a password protected administrative user account.</simpara>
</listitem>
</orderedlist>
</listitem>
<listitem>
<simpara>Click <guibutton>Begin Installation</guibutton> to start the installation, and wait for the installation to complete. It might take a few minutes.</simpara>
</listitem>
<listitem>
<simpara>When the installation process is complete, click <guibutton>Reboot</guibutton> to restart the system.</simpara>
</listitem>
<listitem>
<simpara>Remove any installation media if it is not ejected automatically upon reboot.</simpara>
<simpara>Red Hat Enterprise Linux 9 starts after your system&#8217;s normal power-up sequence is complete. If your system was installed on a workstation with the X Window System, applications to configure your system are launched. These applications guide you through initial configuration and you can set your system time and date, register your system with Red Hat, and more. If the X Window System is not installed, a <literal>login:</literal> prompt is displayed.</simpara>
<note>
<simpara>If you have installed a Red Hat Enterprise Linux Beta release, on systems having UEFI Secure Boot enabled, then add the Beta public key to the systems Machine Owner Key (MOK) list.</simpara>
</note>
</listitem>
<listitem>
<simpara>From the <emphasis role="strong">Initial Setup</emphasis> window, accept the licensing agreement and register your system.</simpara>
</listitem>
</orderedlist>
<itemizedlist role="_additional-resources">
<title>Additional resources</title>
<listitem>
<simpara><link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_a_standard_rhel_9_installation/index"><emphasis>Performing a standard RHEL 9 installation</emphasis></link></simpara>
</listitem>
<listitem>
<simpara><link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_a_standard_rhel_9_installation/index#choose-an-installation-boot-method_assembly_creating-a-bootable-installation-medium">Installation boot media options</link></simpara>
</listitem>
</itemizedlist>
</section>
<section xml:id="register-and-install-from-cdn-gui_assembly_installing-on-amd64-intel-64-and-64-bit-arm">
<title>Registering and installing RHEL from the CDN using the GUI</title>
<simpara role="_abstract">This section contains information about how to register your system, attach RHEL subscriptions, and install RHEL from the Red Hat Content Delivery Network (CDN) using the GUI.</simpara>
<section xml:id="what-is-the-cdn_register-and-install-from-cdn">
<title>What is the Content Delivery Network</title>
<simpara role="_abstract">The Red Hat Content Delivery Network (CDN), available from cdn.redhat.com, is a geographically distributed series of static web servers that contain content and errata that is consumed by systems. The content can be consumed directly, such as using a system registered to Red Hat Subscription Management. The CDN is protected by x.509 certificate authentication to ensure that only valid users have access. When a system is registered to Red Hat Subscription Management, the attached subscriptions govern which subset of the CDN the system can access.</simpara>
<simpara>Registering and installing RHEL from the CDN provides the following benefits:</simpara>
<itemizedlist>
<listitem>
<simpara>The CDN installation method supports the Boot ISO and the DVD ISO image files. However, the use of the smaller Boot ISO image file is recommended as it consumes less space than the larger DVD ISO image file.</simpara>
</listitem>
<listitem>
<simpara>The CDN uses the latest packages resulting in a fully up-to-date system right after installation. There is no requirement to install package updates immediately after installation as is often the case when using the DVD ISO image file.</simpara>
</listitem>
<listitem>
<simpara>Integrated support for connecting to Red Hat Insights and enabling System Purpose.</simpara>
</listitem>
</itemizedlist>
<simpara>Registering and installing RHEL from the CDN is supported by the GUI and Kickstart. For information about how to register and install RHEL using the GUI, see the <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_a_standard_rhel_9_installation/index"><emphasis>Performing a standard RHEL 9 installation</emphasis></link> document. For information about how to register and install RHEL using Kickstart, see the <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_an_advanced_rhel_9_installation/index"><emphasis>Performing an advanced RHEL 9 installation</emphasis></link> document.</simpara>
</section>
<section xml:id="register-and-install-from-cdn-using-gui_register-and-install-from-cdn">
<title>Registering and installing RHEL from the CDN</title>
<simpara role="_abstract">Use this procedure to register your system, attach RHEL subscriptions, and install RHEL from the Red Hat Content Delivery Network (CDN) using the GUI.</simpara>
<important>
<simpara>The CDN feature is supported by the <emphasis role="strong">Boot ISO</emphasis> and <emphasis role="strong">DVD ISO</emphasis> image files. However, it is recommended that you use the <emphasis role="strong">Boot ISO</emphasis> image file as the installation source defaults to CDN for the Boot ISO image file.</simpara>
</important>
<itemizedlist>
<title>Prerequisites</title>
<listitem>
<simpara>Your system is connected to a network that can access the CDN.</simpara>
</listitem>
<listitem>
<simpara>You have downloaded the <emphasis role="strong">Boot ISO</emphasis> image file from the Customer Portal.</simpara>
</listitem>
<listitem>
<simpara>You have created bootable installation media.</simpara>
</listitem>
<listitem>
<simpara>You have booted the installation program and the boot menu is displayed. Note that the installation repository used after system registration is dependent on how the system was booted.</simpara>
</listitem>
</itemizedlist>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>From the boot menu, select <emphasis role="strong">Install Red Hat Enterprise Linux 9</emphasis>, and press <keycap>Enter</keycap> on your keyboard.</simpara>
</listitem>
<listitem>
<simpara>In the <emphasis role="strong">Welcome to Red Hat Enterprise Linux 9</emphasis> window, select your language and location, and click <guibutton>Continue</guibutton>. The <emphasis role="strong">Installation Summary</emphasis> window opens and displays the default values for each setting.</simpara>
</listitem>
<listitem>
<simpara>Select <emphasis role="strong">System &gt; Installation Destination</emphasis>, and in the <emphasis role="strong">Local Standard Disks</emphasis> pane, select the target disk and then click <guibutton>Done</guibutton>.
The default settings are selected for the storage configuration. For more information about customizing the storage settings, see <link linkend="configuring-software-settings_graphical-installation">Configuring software settings</link>, <link linkend="storage-devices_graphical-installation">Storage devices</link>, <link linkend="manual-partitioning_graphical-installation">Manual partitioning</link>.</simpara>
</listitem>
<listitem>
<simpara>Configure network settings, if not set already.</simpara>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>Select <emphasis role="strong">System &gt; Network &amp; Host Name</emphasis>. The <emphasis role="strong">Network and Hostname</emphasis> window opens.</simpara>
</listitem>
<listitem>
<simpara>In the <emphasis role="strong">Network and Hostname</emphasis> window, toggle the <emphasis role="strong">Ethernet</emphasis> switch to <emphasis role="strong">ON</emphasis>, and then click <guibutton>Done</guibutton>.
The installer connects to an available network and configures the devices available on the network. If required, from the list of networks available, you can choose a desired network and configure the devices that are available on that network.
For more information about configuring a network or network devices, see <link linkend="network-hostname_configuring-system-settings">Network hostname</link>.</simpara>
</listitem>
</orderedlist>
</listitem>
<listitem>
<simpara>Select <emphasis role="strong">Software &gt; Connect to Red Hat</emphasis>. The <emphasis role="strong">Connect to Red Hat</emphasis> window opens.</simpara>
</listitem>
<listitem>
<simpara>In the <emphasis role="strong">Connect to Red Hat</emphasis> window, perform the following steps:</simpara>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>Select the <emphasis role="strong">Authentication</emphasis> method, and provide the details based on the method you select.</simpara>
<simpara>For <emphasis role="strong">Account</emphasis> authentication method: Enter your Red Hat Customer Portal username and password details.</simpara>
<simpara>For <emphasis role="strong">Activation Key</emphasis> authentication method: Enter your organization ID and activation key. You can enter more than one activation key, separated by a comma, as long as the activation keys are registered to your subscription.</simpara>
</listitem>
<listitem>
<simpara>Select the <emphasis role="strong">Set System Purpose</emphasis> check box, and then select the required <emphasis role="strong">Role</emphasis>, <emphasis role="strong">SLA</emphasis>, and <emphasis role="strong">Usage</emphasis> from the corresponding drop-down lists.</simpara>
<simpara>With System Purpose you can record the intended use of a Red Hat Enterprise Linux 9 system, and ensure that the entitlement server auto-attaches the most appropriate subscription to your system.</simpara>
</listitem>
<listitem>
<simpara>The <emphasis role="strong">Connect to Red Hat Insights</emphasis> check box is enabled by default. Clear the check box if you do not want to connect to Red Hat Insights.</simpara>
<simpara>Red Hat Insights is a Software-as-a-Service (SaaS) offering that provides continuous, in-depth analysis of registered Red Hat-based systems to proactively identify threats to security, performance and stability across physical, virtual and cloud environments, and container deployments.</simpara>
</listitem>
<listitem>
<simpara>Optionally, expand <emphasis role="strong">Options</emphasis>, and select the network communication type.</simpara>
<itemizedlist>
<listitem>
<simpara>Select the <emphasis role="strong">Use HTTP proxy</emphasis> check box if your network environment allows external Internet access only or accesses the content servers through an HTTP proxy.</simpara>
</listitem>
</itemizedlist>
</listitem>
</orderedlist>
</listitem>
</orderedlist>
<itemizedlist>
<listitem>
<simpara>RHEL 9 is supported only with Satellite 6.11 or later. Check the version prior attempting to register the system.</simpara>
</listitem>
<listitem>
<simpara>If you are running Satellite Server or performing internal testing, select the <emphasis role="strong">Satellite URL</emphasis> and  <emphasis role="strong">Custom base URL</emphasis> check boxes and enter the required details.</simpara>
</listitem>
<listitem>
<simpara>The <emphasis role="strong">Satellite URL</emphasis> field does not require the HTTP protocol, for example <literal>nameofhost.com</literal>. However, the <emphasis role="strong">Custom base URL</emphasis> field requires the HTTP protocol.
To change the <emphasis role="strong">Custom base URL</emphasis> after registration, you must unregister, provide the new details, and then re-register.</simpara>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>Click <guibutton>Register</guibutton>. When the system is successfully registered and subscriptions are attached, the <emphasis role="strong">Connect to Red Hat</emphasis> window displays the attached subscription details.</simpara>
<simpara>Depending on the amount of subscriptions, the registration and attachment process might take up to a minute to complete.</simpara>
</listitem>
<listitem>
<simpara>Click <guibutton>Done</guibutton>.</simpara>
<simpara>A <emphasis>Registered</emphasis> message is displayed under <emphasis role="strong">Connect to Red Hat</emphasis>.</simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>Select <emphasis role="strong">User Settings &gt; Root Password</emphasis>. The <emphasis role="strong">Root Password</emphasis> window opens.</simpara>
</listitem>
<listitem>
<simpara>In the <emphasis role="strong">Root Password</emphasis> window, type the password that you want to set for the root account, and then click <guibutton>Done</guibutton>.
A root password is required to finish the installation process and to log in to the system administrator user account.</simpara>
<simpara>For more details about the requirements and recommendations for creating a password, see <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_a_standard_rhel_9_installation/index#configuring-a-root-password_graphical-installation">Configuring a root password</link>.</simpara>
</listitem>
<listitem>
<simpara>Optional: Select <emphasis role="strong">User Settings &gt; User Creation</emphasis> to create a user account for the installation process to complete. In place of the root account, you can use this user account to perform any system administrative tasks.</simpara>
</listitem>
<listitem>
<simpara>In the <emphasis role="strong">Create User</emphasis> window, perform the following, and then click <guibutton>Done</guibutton>.</simpara>
</listitem>
</orderedlist>
</listitem>
<listitem>
<simpara>Type a name and user name for the account that you want to create.</simpara>
</listitem>
<listitem>
<simpara>Select the <emphasis role="strong">Make this user administrator</emphasis> and the <emphasis role="strong">Require a password to use this account</emphasis> check boxes.
The installation program adds the user to the wheel group, and creates a password protected user account with default settings. It is recommended to create a password protected administrative user account.</simpara>
<simpara>For more information about editing the default settings for a user account, see <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_a_standard_rhel_9_installation/index#creating-a-user-account_graphical-installation">Creating a user account</link>.</simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>Click <guibutton>Begin Installation</guibutton> to start the installation, and wait for the installation to complete. It might take a few minutes.</simpara>
</listitem>
<listitem>
<simpara>When the installation process is complete, click <guibutton>Reboot</guibutton> to restart the system.</simpara>
</listitem>
<listitem>
<simpara>Remove any installation media if it is not ejected automatically upon reboot.</simpara>
<simpara>Red Hat Enterprise Linux 9 starts after your system&#8217;s normal power-up sequence is complete. If your system was installed on a workstation with the X Window System, applications to configure your system are launched. These applications guide you through initial configuration and you can set your system time and date, register your system with Red Hat, and more. If the X Window System is not installed, a <literal>login:</literal> prompt is displayed.</simpara>
<note>
<simpara>If you have installed a Red Hat Enterprise Linux Beta release, on systems having UEFI Secure Boot enabled, then add the Beta public key to the systems Machine Owner Key (MOK) list.</simpara>
</note>
</listitem>
<listitem>
<simpara>From the <emphasis role="strong">Initial Setup</emphasis> window, accept the licensing agreement and register your system.</simpara>
</listitem>
</orderedlist>
</listitem>
</orderedlist>
</listitem>
</itemizedlist>
<itemizedlist role="_additional-resources" mark="discrete">
<title>Additional resources</title>
<listitem>
<simpara><link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_a_standard_rhel_9_installation/index">How to customize your network, connect to Red Hat, system purpose, installation destination, KDUMP, and security policy</link></simpara>
</listitem>
<listitem>
<simpara><link xl:href="https://access.redhat.com/documentation/en-us/red_hat_insights/">Red Hat Insights product documentation</link></simpara>
</listitem>
<listitem>
<simpara><link xl:href="https://access.redhat.com/documentation/en-us/subscription_central/2021/html/creating_and_managing_activation_keys">Understanding Activation Keys</link></simpara>
</listitem>
<listitem>
<simpara>For information about setting up an HTTP proxy for Subscription Manager, see the <literal>PROXY CONFIGURATION</literal> section in the <literal>subscription-manager</literal> man page.</simpara>
</listitem>
</itemizedlist>
<section xml:id="how-the-default-installation-repo-works-in-cdn_register-and-install-from-cdn">
<title>Installation source repository after system registration</title>
<simpara role="_abstract">The installation source repository used after system registration is dependent on how the system was booted.</simpara>
<variablelist>
<varlistentry>
<term>System booted from the Boot ISO or the DVD ISO image file</term>
<listitem>
<simpara>If you booted the RHEL installation using either the <literal>Boot ISO</literal> or the <literal>DVD ISO</literal> image file with the default boot parameters, the installation program automatically switches the installation source repository to the CDN after registration.</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>System booted with the <literal>inst.repo=&lt;URL&gt;</literal> boot parameter</term>
<listitem>
<simpara>If you booted the RHEL installation with the <literal>inst.repo=&lt;URL&gt;</literal> boot parameter, the installation program does not automatically switch the installation source repository to the CDN after registration. If you want to use the CDN to install RHEL, you must manually switch the installation source repository to the CDN by selecting the <emphasis role="strong">Red Hat CDN</emphasis> option in the <emphasis role="strong">Installation Source</emphasis> window of the graphical installation. If you do not manually switch to the CDN, the installation program installs the packages from the repository specified on the kernel command line.</simpara>
</listitem>
</varlistentry>
</variablelist>
<important>
<itemizedlist>
<listitem>
<simpara>To switch the installation source repository to the CDN by using the <literal>rhsm</literal> Kickstart command, you must meet the following conditions:</simpara>
<itemizedlist>
<listitem>
<simpara>On the kernel command line, you have used <literal>inst.stage2=<emphasis>&lt;URL&gt;</emphasis></literal> to fetch the installation image but have not specified an installation source using <literal>inst.repo=</literal>.</simpara>
</listitem>
<listitem>
<simpara>In the Kickstart file, you have not specified an installation source by using the <literal>url</literal>, <literal>cdrom</literal>, <literal>harddrive</literal>, <literal>liveimg</literal>, <literal>nfs</literal> and <literal>ostree</literal> setup commands.</simpara>
</listitem>
</itemizedlist>
</listitem>
<listitem>
<simpara>An installation source URL specified using a boot option or included in a Kickstart file takes precedence over the CDN, even if the Kickstart file contains the <literal>rhsm</literal> command with valid credentials. The system is registered, but it is installed from the URL installation source. This ensures that earlier installation processes operate as normal.</simpara>
</listitem>
</itemizedlist>
</important>
</section>
</section>
<section xml:id="verifying-registration-from-cdn-using-gui_register-and-install-from-cdn">
<title>Verifying your system registration from the CDN</title>
<simpara role="_abstract">Use this procedure to verify that your system is registered to the CDN using the GUI.</simpara>
<warning>
<simpara>You can only verify your registration from the CDN if you have <emphasis role="strong">not</emphasis> clicked the <emphasis role="strong">Begin Installation</emphasis> button from the <emphasis role="strong">Installation Summary</emphasis> window. Once the <emphasis role="strong">Begin Installation</emphasis> button is clicked, you cannot return to the Installation Summary window to verify your registration.</simpara>
</warning>
<itemizedlist>
<title>Prerequisite</title>
<listitem>
<simpara>You have completed the registration process as documented in the <link linkend="register-and-install-from-cdn-using-gui_register-and-install-from-cdn">Register and install from CDN using GUI</link> and <emphasis>Registered</emphasis> is displayed under <emphasis role="strong">Connect to Red Hat</emphasis> on the <emphasis role="strong">Installation Summary</emphasis> window.</simpara>
</listitem>
</itemizedlist>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>From the <emphasis role="strong">Installation Summary</emphasis> window, select <emphasis role="strong">Connect to Red Hat</emphasis>.</simpara>
</listitem>
<listitem>
<simpara>The window opens and displays a registration summary:</simpara>
<variablelist>
<varlistentry>
<term>Method</term>
<listitem>
<simpara>The registered account name or activation keys are displayed.</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>System Purpose</term>
<listitem>
<simpara>If set, the role, SLA, and usage details are displayed.</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>Insights</term>
<listitem>
<simpara>If enabled, the Insights details are displayed.</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>Number of subscriptions</term>
<listitem>
<simpara>The number of subscriptions attached are displayed. Note: In the simple content access mode, no subscription being listed is a valid behavior.</simpara>
</listitem>
</varlistentry>
</variablelist>
</listitem>
<listitem>
<simpara>Verify that the registration summary matches the details that were entered.</simpara>
</listitem>
</orderedlist>
<itemizedlist role="_additional-resources">
<title>Additional resources</title>
<listitem>
<simpara><link xl:href="https://access.redhat.com/articles/simple-content-access">Simple Content Access</link></simpara>
</listitem>
</itemizedlist>
</section>
<section xml:id="unregistering-your-system-from-cdn-using-gui_register-and-install-from-cdn">
<title>Unregistering your system from the CDN</title>
<simpara role="_abstract">Use this procedure to unregister your system from the CDN using the GUI.</simpara>
<warning>
<itemizedlist>
<listitem>
<simpara>You can unregister from the CDN if you have <emphasis role="strong">not</emphasis> clicked the <guibutton>Begin Installation</guibutton> button from the <emphasis role="strong">Installation Summary</emphasis> window. Once the <guibutton>Begin Installation</guibutton> button is clicked, you cannot return to the Installation Summary window to unregister your registration.</simpara>
</listitem>
<listitem>
<simpara>When unregistering, the installation program switches to the first available repository, in the following order:</simpara>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>The URL used in the inst.repo=&lt;URL&gt; boot parameter on the kernel command line.</simpara>
</listitem>
<listitem>
<simpara>An automatically detected repository on the installation media (USB or DVD).</simpara>
</listitem>
</orderedlist>
</listitem>
</itemizedlist>
</warning>
<itemizedlist>
<title>Prerequisite</title>
<listitem>
<simpara>You have completed the registration process as documented in the <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_a_standard_rhel_9_installation/index#register-and-install-from-cdn-using-gui_register-and-install-from-cdn">Registering and installing RHEL from the CDN</link> and <emphasis>Registered</emphasis> is displayed under <emphasis role="strong">Connect to Red Hat</emphasis> on the <emphasis role="strong">Installation Summary</emphasis> window.</simpara>
</listitem>
</itemizedlist>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>From the <emphasis role="strong">Installation Summary</emphasis> window, select <emphasis role="strong">Connect to Red Hat</emphasis>.</simpara>
</listitem>
<listitem>
<simpara>The <emphasis role="strong">Connect to Red Hat</emphasis> window opens and displays a registration summary:</simpara>
<variablelist>
<varlistentry>
<term>Method</term>
<listitem>
<simpara>The registered account name or activation keys used are displayed.</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>System Purpose</term>
<listitem>
<simpara>If set, the role, SLA, and usage details are displayed.</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>Insights</term>
<listitem>
<simpara>If enabled, the Insights details are displayed.</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>Number of subscriptions</term>
<listitem>
<simpara>The number of subscriptions attached are displayed. Note: In the simple content access mode, no subscription being listed is a valid behavior.</simpara>
</listitem>
</varlistentry>
</variablelist>
</listitem>
<listitem>
<simpara>Click <guibutton>Unregister</guibutton> to remove the registration from the CDN. The original registration details are displayed with a <emphasis role="strong">Not registered</emphasis> message displayed in the lower-middle part of the window.</simpara>
</listitem>
<listitem>
<simpara>Click <guibutton>Done</guibutton> to return to the <emphasis role="strong">Installation Summary</emphasis> window.</simpara>
</listitem>
<listitem>
<simpara><emphasis role="strong">Connect to Red Hat</emphasis> displays a <emphasis>Not registered</emphasis> message, and <emphasis role="strong">Software Selection</emphasis> displays a <emphasis>Red Hat CDN requires registration</emphasis> message.</simpara>
</listitem>
</orderedlist>
<note>
<simpara>After unregistering, it is possible to register your system again. Click <emphasis role="strong">Connect to Red Hat</emphasis>. The previously entered details are populated. Edit the original details, or update the fields based on the account, purpose, and connection. Click <guibutton>Register</guibutton> to complete.</simpara>
</note>
</section>
</section>
<section xml:id="post-installation-tasks_assembly_installing-on-amd64-intel-64-and-64-bit-arm">
<title>Completing post-installation tasks</title>
<simpara>This section describes how to complete the following post-installation tasks:</simpara>
<itemizedlist>
<listitem>
<simpara>Registering your system</simpara>
<note>
<simpara>Depending on your requirements, there are several methods to register your system. Most of these methods are completed as part of post-installation tasks. However, However, a registered system is authorized to access protected content repositories for subscribed products through the Red Hat Content Delivery Network (CDN) <emphasis role="strong">before</emphasis> the installation process starts. See <link linkend="register-and-install-from-cdn-using-gui_register-and-install-from-cdn">Registering and installing RHEL from the CDN</link> for more information.</simpara>
</note>
</listitem>
<listitem>
<simpara>Securing your system</simpara>
</listitem>
</itemizedlist>
<section xml:id="the-value-of-registering-your-rhel-system-to-red-hat_post-installation-tasks">
<title>The value of registering your RHEL system to Red Hat</title>
<simpara>Registration establishes an authorized connection between your system and Red Hat. Red Hat issues the registered system, whether a physical or virtual machine, a certificate that identifies and authenticates the system so that it can receive protected content, software updates, security patches, support, and managed services from Red Hat.</simpara>
<simpara>With a valid subscription, you can register a Red Hat Enterprise Linux (RHEL) system in the following ways:</simpara>
<itemizedlist>
<listitem>
<simpara>During the installation process, using an installer graphical user interface (GUI) or text user interface (TUI)</simpara>
</listitem>
<listitem>
<simpara>After installation, using the command line interface (CLI)</simpara>
</listitem>
<listitem>
<simpara>Automatically, during or after installation, using a kickstart script or an activation key.</simpara>
</listitem>
</itemizedlist>
<simpara>The specific steps to register your system depend on the version of RHEL that you are using and the registration method that you choose.</simpara>
<simpara>Registering your system to Red Hat enables features and capabilities that you can use to manage your system and report data. For example, a registered system is authorized to access protected content repositories for subscribed products through the Red Hat Content Delivery Network (CDN) or a Red Hat Satellite Server. These content repositories contain Red Hat software packages and updates that are available only to customers with an active subscription. These packages and updates include security patches, bug fixes, and new features for RHEL and other Red Hat products.</simpara>
<important>
<simpara>The entitlement-based subscription model is deprecated and will be retired in the future. Simple content access is now the default subscription model. It provides an improved subscription experience that eliminates the need to attach a subscription to a system before you can access Red Hat subscription content on that system. If your Red Hat account uses the entitlement-based subscription model, contact your Red hat account team, for example, a technical account manager (TAM) or solution architect (SA) to prepare for migration to simple content access. For more information, see <link xl:href="https://access.redhat.com/articles/transition_of_subscription_services_to_the_hybrid_cloud_console">Transition of subscription services to the hybrid cloud</link>.</simpara>
</important>
</section>
<section xml:id="subscription-manager-post-install-ui_post-installation-tasks">
<title>Registering your system using the Subscription Manager User Interface</title>
<simpara role="_abstract">This section contains information about how to register your Red Hat Enterprise Linux 9 system using the Subscription Manager User Interface to receive updates and access package repositories.</simpara>
<itemizedlist>
<title>Prerequisites</title>
<listitem>
<simpara>You have completed the graphical installation as per the recommended workflow described on <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_a_standard_rhel_9_installation/index#performing-a-quick-install-with-gui_installing-RHEL">Installing RHEL using an ISO image from the Customer Portal</link>.</simpara>
</listitem>
<listitem>
<simpara>You have an active, non-evaluation Red Hat Enterprise Linux subscription.</simpara>
</listitem>
<listitem>
<simpara>Your Red Hat subscription status is verified.</simpara>
</listitem>
</itemizedlist>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>Log in to your system.</simpara>
</listitem>
<listitem>
<simpara>Go to <emphasis role="strong">Activities</emphasis>.</simpara>
</listitem>
<listitem>
<simpara>From the menu options, click the <emphasis role="strong">Show Applications</emphasis> icon.</simpara>
</listitem>
<listitem>
<simpara>Click the <emphasis role="strong">Red Hat Subscription Manager</emphasis> icon, or enter <emphasis role="strong">Red Hat Subscription Manager</emphasis> in the search.</simpara>
</listitem>
<listitem>
<simpara>Enter your administrator password in the <emphasis role="strong">Authentication Required</emphasis> dialog box.</simpara>
<note>
<simpara>Authentication is required to perform privileged tasks on the system.</simpara>
</note>
<simpara>The <emphasis role="strong">Subscriptions</emphasis> window opens, displaying the current status of Subscriptions, System Purpose, and installed products. Installed products displayed with a red X are not supported by the currently attached subscriptions.</simpara>
</listitem>
<listitem>
<simpara>Click <guibutton>Register</guibutton>. The <emphasis role="strong">Register System</emphasis> dialog box opens.</simpara>
</listitem>
<listitem>
<simpara>Enter your <emphasis role="strong">Customer Portal</emphasis> credentials and click <guibutton>Register</guibutton>.</simpara>
</listitem>
</orderedlist>
<simpara>The <emphasis role="strong">Register</emphasis> button in the <emphasis role="strong">Subscriptions</emphasis> window changes to <emphasis role="strong">Unregister</emphasis> and installed products display a green X. You can verify the successful registration from a terminal window using the <literal>subscription-manager status</literal> command. Additionally refer the <literal>/var/log/rhsm/rhsm.log</literal> files for additional information. When the <literal>org/account</literal> is operated in simple content access mode, the overall compliance status of the system will be marked <literal>Disabled</literal>.</simpara>
<itemizedlist role="_additional-resources">
<title>Additional resources</title>
<listitem>
<simpara><link xl:href="https://access.redhat.com/documentation/en-us/red_hat_subscription_management/1/html-single/configuring_virtual_machine_subscriptions_in_red_hat_subscription_management/index"><emphasis>Configuring Virtual Machine Subscriptions in Red Hat Subscription Management</emphasis></link></simpara>
</listitem>
</itemizedlist>
</section>
<section xml:id="proc_registering-rhel-8-4-using-the-installer-gui_post-installation-tasks">
<title>Registering RHEL 9 using the installer GUI</title>
<simpara role="_abstract">Use the following steps to register a Red Hat Enterprise Linux 9 using the RHEL installer GUI.</simpara>
<itemizedlist>
<title>Prerequisites</title>
<listitem>
<simpara>You have a valid user account on the Red Hat Customer Portal. See the <link xl:href="https://www.redhat.com/wapps/ugc/register.html?_flowId=register-flow&amp;_flowExecutionKey=e1s1">Create a Red Hat Login page</link>.</simpara>
</listitem>
<listitem>
<simpara>You have a valid Activation Key and Organization id.</simpara>
</listitem>
</itemizedlist>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>From the <emphasis role="strong">Installation Summary</emphasis> screen, under <emphasis role="strong">Software</emphasis>, click <emphasis role="strong">Connect to Red Hat</emphasis>.</simpara>
</listitem>
<listitem>
<simpara>Authenticate your Red Hat account using the <emphasis role="strong">Account</emphasis> or <emphasis role="strong">Activation Key</emphasis> option.</simpara>
</listitem>
<listitem>
<simpara>Optional: In the <emphasis role="strong">Set System Purpose</emphasis> field select the <emphasis role="strong">Role</emphasis>, <emphasis role="strong">SLA</emphasis>, and <emphasis role="strong">Usage</emphasis> attribute that you want to set from the drop-down menu.</simpara>
<simpara>At this point, your Red Hat Enterprise Linux 9 system has been successfully registered.</simpara>
</listitem>
</orderedlist>
</section>
<section xml:id="registration-assistance_post-installation-tasks">
<title>Registration Assistant</title>
<simpara role="_abstract">Registration Assistant is designed to help you choose the most suitable registration option for your Red Hat Enterprise Linux environment.</simpara>
<itemizedlist role="_additional-resources">
<title>Additional resources</title>
<listitem>
<simpara>For assistance with using a username and password to register RHEL with the Subscription Manager client, see the <link xl:href="https://access.redhat.com/labs/registrationassistant/">RHEL registration assistant</link> on the Customer Portal.</simpara>
</listitem>
<listitem>
<simpara>For assistance with registering your RHEL system to Red Hat Insights, see the <link xl:href="https://console.redhat.com/insights/registration#SIDs=&amp;tags=">Insights registration assistant</link> on the Hybrid Cloud Console.</simpara>
</listitem>
</itemizedlist>
</section>
<section xml:id="proc_registering-your-system-using-the-command-line_post-installation-tasks">
<title>Registering your system using the command line</title>
<simpara>This section contains information about how to register your Red Hat Enterprise Linux 9 subscription using the command line.</simpara>
<note>
<simpara>For an improved and simplified experience registering your hosts to Red Hat, use remote host configuration (RHC). The RHC client registers your system to Red Hat making your system ready for Insights data collection and enabling direct issue remediation from Insights for Red Hat Enterprise Linux. For more information, see <link xl:href="https://access.redhat.com/documentation/en-us/subscription_central/2023/html/getting_started_with_rhel_system_registration/basic-reg-rhel-cli#basic-reg-rhel-cli-rhc">RHC registration</link>.</simpara>
</note>
<itemizedlist>
<title>Prerequisites</title>
<listitem>
<simpara>You have an active, non-evaluation Red Hat Enterprise Linux subscription.</simpara>
</listitem>
<listitem>
<simpara>Your Red Hat subscription status is verified.</simpara>
</listitem>
<listitem>
<simpara>You have not previously received a Red Hat Enterprise Linux 9 subscription.</simpara>
</listitem>
<listitem>
<simpara>You have successfully installed Red Hat Enterprise Linux 9  and logged into the system as root.</simpara>
</listitem>
</itemizedlist>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>Open a terminal window as a root user.</simpara>
</listitem>
<listitem>
<simpara>Register your Red Hat Enterprise Linux system by using the activation key:</simpara>
<literallayout role="white-space-pre" class="monospaced"># subscription-manager register --activationkey=<emphasis>&lt;activation_key_name&gt;</emphasis> --org=<emphasis>&lt;organization_ID&gt;</emphasis></literallayout>
<simpara>When the system is successfully registered, an output similar to the following is displayed:</simpara>
<literallayout role="white-space-pre" class="monospaced">The system has been registered with id:
62edc0f8-855b-4184-b1b8-72a9dc793b96</literallayout>
</listitem>
</orderedlist>
<itemizedlist role="_additional-resources">
<title>Additional resources</title>
<listitem>
<simpara><link xl:href="https://access.redhat.com/documentation/en-us/subscription_central/2023/html/getting_started_with_rhel_system_registration/basic-reg-rhel-cli#proc-reg-rhel-sub-man-act-key_">Using an activation key to register a system with Red Hat Subscription Manager</link></simpara>
</listitem>
<listitem>
<simpara><link xl:href="https://access.redhat.com/documentation/en-us/subscription_central/2023/html/getting_started_with_rhel_system_registration/index">Getting Started with RHEL System Registration</link></simpara>
</listitem>
</itemizedlist>
</section>
<section xml:id="proc_configuring-system-purpose-using-the-subscription-manager-command-line-tool_post-installation-tasks">
<title>Configuring System Purpose using the subscription-manager command-line tool</title>
<simpara role="_abstract">System purpose is a feature of the Red Hat Enterprise Linux installation to help RHEL customers get the benefit of our subscription experience and services offered in the Red Hat Hybrid Cloud Console, a dashboard-based, Software-as-a-Service (SaaS) application that enables you to view subscription usage in your Red Hat account.</simpara>
<simpara>You can configure system purpose attributes either on the activation keys or by using the subscription manager tool. While it is recommended to configure system purpose on the activation key, you can also configure it by using the <literal>subscription-manager syspurpose</literal> command-line tool after installation to set the required attributes.</simpara>
<itemizedlist>
<title>Prerequisites</title>
<listitem>
<simpara>You have installed and registered your Red Hat Enterprise Linux 9 system, but system purpose is not configured.</simpara>
</listitem>
<listitem>
<simpara>You are logged in as a <literal>root</literal> user.</simpara>
<note>
<simpara>In the entitlement mode, if your system is registered but has subscriptions that do not satisfy the required purpose, you can run the <literal>subscription-manager remove --all</literal> command to remove attached subscriptions. You can then use the command-line subscription-manager syspurpose {role, usage, service-level} tools to set the required purpose attributes, and lastly run <literal>subscription-manager attach --auto</literal> to re-entitle the system with considerations for the updated attributes. Whereas, in the SCA enabled account, you can directly update the system purpose details post registration without making an update to the subscriptions in the system.</simpara>
</note>
</listitem>
</itemizedlist>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>From a terminal window, run the following command to set the intended role of the system:</simpara>
<screen># subscription-manager syspurpose role --set "VALUE"</screen>
<simpara>Replace <literal>VALUE</literal> with the role that you want to assign:</simpara>
<informalexample>
<itemizedlist>
<listitem>
<simpara><literal>Red Hat Enterprise Linux Server</literal></simpara>
</listitem>
<listitem>
<simpara><literal>Red Hat Enterprise Linux Workstation</literal></simpara>
</listitem>
<listitem>
<simpara><literal>Red Hat Enterprise Linux Compute Node</literal></simpara>
</listitem>
</itemizedlist>
</informalexample>
<simpara>For example:</simpara>
<screen># subscription-manager syspurpose role --set "Red Hat Enterprise Linux Server"</screen>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>Optional: Before setting a value, see the available roles supported by the subscriptions for your organization:</simpara>
<screen># subscription-manager syspurpose role --list</screen>
</listitem>
<listitem>
<simpara>Optional: Run the following command to unset the role:</simpara>
<screen># subscription-manager syspurpose role --unset</screen>
</listitem>
</orderedlist>
</listitem>
<listitem>
<simpara>Run the following command to set the intended Service Level Agreement (SLA) of the system:</simpara>
<screen># subscription-manager syspurpose service-level --set "VALUE"</screen>
<simpara>Replace <literal>VALUE</literal> with the SLA that you want to assign:</simpara>
<informalexample>
<itemizedlist>
<listitem>
<simpara><literal>Premium</literal></simpara>
</listitem>
<listitem>
<simpara><literal>Standard</literal></simpara>
</listitem>
<listitem>
<simpara><literal>Self-Support</literal></simpara>
</listitem>
</itemizedlist>
</informalexample>
<simpara>For example:</simpara>
<screen># subscription-manager syspurpose service-level --set "Standard"</screen>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>Optional: Before setting a value, see the available service-levels supported by the subscriptions for your organization:</simpara>
<screen># subscription-manager syspurpose service-level --list</screen>
</listitem>
<listitem>
<simpara>Optional: Run the following command to unset the SLA:</simpara>
<screen># subscription-manager syspurpose service-level --unset</screen>
</listitem>
</orderedlist>
</listitem>
<listitem>
<simpara>Run the following command to set the intended usage of the system:</simpara>
<screen># subscription-manager syspurpose usage --set "VALUE"</screen>
<simpara>Replace <literal>VALUE</literal> with the usage that you want to assign:</simpara>
<informalexample>
<itemizedlist>
<listitem>
<simpara><literal>Production</literal></simpara>
</listitem>
<listitem>
<simpara><literal>Disaster Recovery</literal></simpara>
</listitem>
<listitem>
<simpara><literal>Development/Test</literal></simpara>
</listitem>
</itemizedlist>
</informalexample>
<simpara>For example:</simpara>
<screen># subscription-manager syspurpose usage --set "Production"</screen>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>Optional: Before setting a value, see the available usages supported by the subscriptions for your organization:</simpara>
<screen># subscription-manager syspurpose usage --list</screen>
</listitem>
<listitem>
<simpara>Optional: Run the following command to unset the usage:</simpara>
<screen># subscription-manager syspurpose usage --unset</screen>
</listitem>
</orderedlist>
</listitem>
<listitem>
<simpara>Run the following command to show the current system purpose properties:</simpara>
<screen># subscription-manager syspurpose --show</screen>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>Optional: For more detailed syntax information run the following command to access the <literal>subscription-manager</literal> man page and browse to the SYSPURPOSE OPTIONS:</simpara>
<screen># man subscription-manager</screen>
</listitem>
</orderedlist>
</listitem>
</orderedlist>
<itemizedlist>
<title>Verification steps</title>
<listitem>
<simpara>To verify the system&#8217;s subscription status in a system registered with an account having entitlement mode enabled:</simpara>
<screen># subscription-manager status
+-------------------------------------------+
   System Status Details
+-------------------------------------------+
Overall Status: Current

System Purpose Status: Matched</screen>
<itemizedlist>
<listitem>
<simpara>An overall status <literal>Current</literal> means that all of the installed products are covered by the subscription(s) attached and entitlements to access their content set repositories has been granted.</simpara>
</listitem>
<listitem>
<simpara>A system purpose status <literal>Matched</literal> means that all of the system purpose attributes (role, usage, service-level) that were set on the system are satisfied by the subscription(s) attached.</simpara>
</listitem>
<listitem>
<simpara>When the status information is not ideal, additional information is displayed to help the system administrator decide what corrections to make to the attached subscriptions to cover the installed products and intended system purpose.</simpara>
</listitem>
</itemizedlist>
</listitem>
<listitem>
<simpara>To verify the systems subscription status in a system registered  with an account having  SCA mode enabled:</simpara>
<screen># subscription-manager status
+-------------------------------------------+
   System Status Details
+-------------------------------------------+
Overall Status: Disabled
Content Access Mode is set to Simple Content Access. This host has access to content, regardless of subscription status.
System Purpose Status: Disabled</screen>
<itemizedlist>
<listitem>
<simpara>In SCA mode, subscriptions are no longer required to be attached to individual systems. Hence, both the overall status and system purpose status are displayed as Disabled . However, the technical, business, and operational use cases supplied by system purpose attributes are important to the subscriptions service. Without these attributes, the subscriptions service data is less accurate.</simpara>
</listitem>
</itemizedlist>
</listitem>
</itemizedlist>
<itemizedlist role="_additional-resources">
<title>Additional resources</title>
<listitem>
<simpara>To learn more about the subscriptions service, see the <link xl:href="https://access.redhat.com/documentation/en-us/subscription_central/2023/html-single/getting_started_with_the_subscriptions_service/index#doc-wrapper">Getting Started with the Subscriptions Service guide</link>.</simpara>
</listitem>
</itemizedlist>
</section>
<section xml:id="securing_post-installation-tasks">
<title>Securing your system</title>
<simpara role="_abstract">Complete the following security-related steps immediately after you install Red Hat Enterprise Linux.</simpara>
<itemizedlist>
<title>Prerequisites</title>
<listitem>
<simpara>You have completed the graphical installation.</simpara>
</listitem>
</itemizedlist>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>To update your system, run the following command as root:</simpara>
<screen># dnf update</screen>
</listitem>
<listitem>
<simpara>Even though the firewall service, <literal>firewalld</literal>, is automatically enabled with the installation of Red Hat Enterprise Linux, there are scenarios where it might be explicitly disabled, for example in a Kickstart configuration. In that scenario, it is recommended that you re-enable the firewall.</simpara>
<simpara>To start <literal>firewalld</literal>, run the following commands as root:</simpara>
<screen># systemctl start firewalld
# systemctl enable firewalld</screen>
</listitem>
<listitem>
<simpara>To enhance security, disable services that you do not need. For example, if your system has no printers installed, disable the cups service using the following command:</simpara>
<screen># systemctl mask cups</screen>
<simpara>To review active services, run the following command:</simpara>
<screen>$ systemctl list-units | grep service</screen>
</listitem>
</orderedlist>
</section>
<section xml:id="deploying-systems-that-are-compliant-with-a-security-profile-immediately-after-an-installation_post-installation-tasks">
<title>Deploying systems that are compliant with a security profile immediately after an installation</title>
<simpara role="_abstract">You can use the OpenSCAP suite to deploy RHEL systems that are compliant with a security profile, such as OSPP, PCI-DSS, and HIPAA profile, immediately after the installation process. Using this deployment method, you can apply specific rules that cannot be applied later using remediation scripts, for example, a rule for password strength and partitioning.</simpara>
<section xml:id="ref_profiles-not-compatible-with-server-with-gui_deploying-systems-that-are-compliant-with-a-security-profile-immediately-after-an-installation">
<title>Profiles not compatible with Server with GUI</title>
<simpara role="_abstract">Certain security profiles provided as part of the <emphasis role="strong">SCAP Security Guide</emphasis> are not compatible with the extended package set included in the <emphasis role="strong">Server with GUI</emphasis> base environment. Therefore, do not select <emphasis role="strong">Server with GUI</emphasis> when installing systems compliant with one of the following profiles:</simpara>
<table frame="all" rowsep="1" colsep="1">
<title>Profiles not compatible with Server with GUI</title>
<tgroup cols="4">
<colspec colname="col_1" colwidth="25*"/>
<colspec colname="col_2" colwidth="25*"/>
<colspec colname="col_3" colwidth="25*"/>
<colspec colname="col_4" colwidth="25*"/>
<thead>
<row>
<entry align="left" valign="top">Profile name</entry>
<entry align="left" valign="top">Profile ID</entry>
<entry align="left" valign="top">Justification</entry>
<entry align="left" valign="top">Notes</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left" valign="top"><simpara>[DRAFT] CIS Red Hat Enterprise Linux 9 Benchmark for Level 2 - Server</simpara></entry>
<entry align="left" valign="top"><simpara><literal>xccdf_org.ssgproject.content_profile_<emphasis role="strong">cis</emphasis></literal></simpara></entry>
<entry align="left" valign="top"><simpara>Packages <literal>xorg-x11-server-Xorg</literal>, <literal>xorg-x11-server-common</literal>, <literal>xorg-x11-server-utils</literal>, and <literal>xorg-x11-server-Xwayland</literal> are part of the <emphasis role="strong">Server with GUI</emphasis> package set, but the policy requires their removal.</simpara></entry>
<entry align="left" valign="top"></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>[DRAFT] CIS Red Hat Enterprise Linux 9 Benchmark for Level 1 - Server</simpara></entry>
<entry align="left" valign="top"><simpara><literal>xccdf_org.ssgproject.content_profile_<emphasis role="strong">cis_server_l1</emphasis></literal></simpara></entry>
<entry align="left" valign="top"><simpara>Packages <literal>xorg-x11-server-Xorg</literal>, <literal>xorg-x11-server-common</literal>, <literal>xorg-x11-server-utils</literal>, and <literal>xorg-x11-server-Xwayland</literal> are part of the <emphasis role="strong">Server with GUI</emphasis> package set, but the policy requires their removal.</simpara></entry>
<entry align="left" valign="top"></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>[DRAFT] DISA STIG for Red Hat Enterprise Linux 9</simpara></entry>
<entry align="left" valign="top"><simpara><literal>xccdf_org.ssgproject.content_profile_<emphasis role="strong">stig</emphasis></literal></simpara></entry>
<entry align="left" valign="top"><simpara>Packages <literal>xorg-x11-server-Xorg</literal>, <literal>xorg-x11-server-common</literal>, <literal>xorg-x11-server-utils</literal>, and <literal>xorg-x11-server-Xwayland</literal> are part of the <emphasis role="strong">Server with GUI</emphasis> package set, but the policy requires their removal.</simpara></entry>
<entry align="left" valign="top"><simpara>To install a RHEL system as a <emphasis role="strong">Server with GUI</emphasis> aligned with DISA STIG, you can use the <emphasis role="strong">DISA STIG with GUI</emphasis> profile <link xl:href="https://bugzilla.redhat.com/show_bug.cgi?id=1648162">BZ#1648162</link></simpara></entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section xml:id="deploying-baseline-compliant-rhel-systems-using-the-graphical-installation_deploying-systems-that-are-compliant-with-a-security-profile-immediately-after-an-installation">
<title>Deploying baseline-compliant RHEL systems using the graphical installation</title>
<simpara role="_abstract">Use this procedure to deploy a RHEL system that is aligned with a specific baseline. This example uses Protection Profile for General Purpose Operating System (OSPP).</simpara>
<warning>
<simpara>Certain security profiles provided as part of the <emphasis role="strong">SCAP Security Guide</emphasis> are not compatible with the extended package set included in the <emphasis role="strong">Server with GUI</emphasis> base environment. For additional details, see
<link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/security_hardening/scanning-the-system-for-configuration-compliance-and-vulnerabilities_security-hardening#ref_profiles-not-compatible-with-server-with-gui_deploying-systems-that-are-compliant-with-a-security-profile-immediately-after-an-installation">Profiles not compatible with a GUI server</link>.</simpara>
</warning>
<itemizedlist>
<title>Prerequisites</title>
<listitem>
<simpara>You have booted into the <literal>graphical</literal> installation program. Note that the <emphasis role="strong">OSCAP Anaconda Add-on</emphasis> does not support interactive text-only installation.</simpara>
</listitem>
<listitem>
<simpara>You have accessed the <literal>Installation Summary</literal> window.</simpara>
</listitem>
</itemizedlist>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>From the <literal>Installation Summary</literal> window, click <literal>Software Selection</literal>. The <literal>Software Selection</literal> window opens.</simpara>
</listitem>
<listitem>
<simpara>From the <literal>Base Environment</literal> pane, select the <literal>Server</literal> environment. You can select only one base environment.</simpara>
</listitem>
<listitem>
<simpara>Click <literal>Done</literal> to apply the setting and return to the <literal>Installation Summary</literal> window.</simpara>
</listitem>
<listitem>
<simpara>Because OSPP has strict partitioning requirements that must be met, create separate partitions for <literal>/boot</literal>, <literal>/home</literal>, <literal>/var</literal>, <literal>/tmp</literal>, <literal>/var/log</literal>, <literal>/var/tmp</literal>, and <literal>/var/log/audit</literal>.</simpara>
</listitem>
<listitem>
<simpara>Click <literal>Security Policy</literal>. The <literal>Security Policy</literal> window opens.</simpara>
</listitem>
<listitem>
<simpara>To enable security policies on the system, toggle the <literal>Apply security policy</literal> switch to <literal>ON</literal>.</simpara>
</listitem>
<listitem>
<simpara>Select <literal>Protection Profile for General Purpose Operating Systems</literal> from the profile pane.</simpara>
</listitem>
<listitem>
<simpara>Click <literal>Select Profile</literal> to confirm the selection.</simpara>
</listitem>
<listitem>
<simpara>Confirm the changes in the <literal>Changes that were done or need to be done</literal> pane that is displayed at the bottom of the window. Complete any remaining manual changes.</simpara>
</listitem>
<listitem>
<simpara>Complete the graphical installation process.</simpara>
<note>
<simpara>The graphical installation program automatically creates a corresponding Kickstart file after a successful installation. You can use the <literal>/root/anaconda-ks.cfg</literal> file to automatically install OSPP-compliant systems.</simpara>
</note>
</listitem>
</orderedlist>
<itemizedlist>
<title>Verification</title>
<listitem>
<simpara>To check the current status of the system after installation is complete, reboot the system and start a new scan:</simpara>
<screen># <emphasis role="strong">oscap xccdf eval --profile ospp --report eval_postinstall_report.html /usr/share/xml/scap/ssg/content/ssg-rhel9-ds.xml</emphasis></screen>
</listitem>
</itemizedlist>
<itemizedlist role="_additional-resources">
<title>Additional resources</title>
<listitem>
<simpara><link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/performing_a_standard_rhel_9_installation/graphical-installation_graphical-installation#manual-partitioning_graphical-installation">Configuring manual partitioning</link></simpara>
</listitem>
</itemizedlist>
</section>
<section xml:id="deploying-baseline-compliant-rhel-systems-using-kickstart_deploying-systems-that-are-compliant-with-a-security-profile-immediately-after-an-installation">
<title>Deploying baseline-compliant RHEL systems using Kickstart</title>
<simpara role="_abstract">Use this procedure to deploy RHEL systems that are aligned with a specific baseline. This example uses Protection Profile for General Purpose Operating System (OSPP).</simpara>
<itemizedlist>
<title>Prerequisites</title>
<listitem>
<simpara>The <literal>scap-security-guide</literal> package is installed on your RHEL 9 system.</simpara>
</listitem>
</itemizedlist>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>Open the <literal>/usr/share/scap-security-guide/kickstart/ssg-rhel9-ospp-ks.cfg</literal> Kickstart file in an editor of your choice.</simpara>
</listitem>
<listitem>
<simpara>Update the partitioning scheme to fit your configuration requirements. For OSPP compliance, the separate partitions for <literal>/boot</literal>, <literal>/home</literal>, <literal>/var</literal>, <literal>/tmp</literal>, <literal>/var/log</literal>, <literal>/var/tmp</literal>, and <literal>/var/log/audit</literal> must be preserved, and you can only change the size of the partitions.</simpara>
</listitem>
<listitem>
<simpara>Start a Kickstart installation as described in <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/performing_an_advanced_rhel_9_installation/starting-kickstart-installations_installing-rhel-as-an-experienced-user">Performing an automated installation using Kickstart</link>.</simpara>
</listitem>
</orderedlist>
<important>
<simpara>Passwords in Kickstart files are not checked for OSPP requirements.</simpara>
</important>
<orderedlist numeration="arabic">
<title>Verification</title>
<listitem>
<simpara>To check the current status of the system after installation is complete, reboot the system and start a new scan:</simpara>
<screen># <emphasis role="strong">oscap xccdf eval --profile ospp --report eval_postinstall_report.html /usr/share/xml/scap/ssg/content/ssg-rhel9-ds.xml</emphasis></screen>
</listitem>
</orderedlist>
<itemizedlist role="_additional-resources">
<title>Additional resources</title>
<listitem>
<simpara><link xl:href="https://www.open-scap.org/tools/oscap-anaconda-addon/">OSCAP Anaconda Add-on</link></simpara>
</listitem>
</itemizedlist>
</section>
</section>
<section xml:id="next-steps_{context}">
<title>Next steps</title>
<simpara role="_abstract">When you have completed the required post-installation steps, you can configure basic system settings. For information about completing tasks such as installing software with dnf, using systemd for service management, managing users, groups, and file permissions, using chrony to configure NTP, and working with Python 3, see the <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/configuring_basic_system_settings/index"><emphasis>Configuring basic system settings</emphasis></link> document.</simpara>
</section>
</section>
</section>
<section xml:id="graphical-installation_graphical-installation">
<title>Customizing your installation</title>
<simpara role="_abstract">When installing Red Hat Enterprise Linux, you can customize location, software, and system settings and parameters, using the <emphasis role="strong">Installation Summary</emphasis> window.</simpara>
<simpara>The <emphasis role="strong">Installation Summary</emphasis> window contains the following categories:</simpara>
<variablelist>
<varlistentry>
<term>LOCALIZATION</term>
<listitem>
<simpara>You can configure Keyboard, Language Support, and Time and Date.</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>SOFTWARE</term>
<listitem>
<simpara>You can configure Connect to Red Hat, Installation Source, and Software Selection.</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>SYSTEM</term>
<listitem>
<simpara>You can configure Installation Destination, KDUMP, Network and Host Name, and Security Policy.</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>USER SETTINGS</term>
<listitem>
<simpara>You can configure a root password to log in to the administrator account that is used for system administration tasks, and create a user account to login to the system.</simpara>
</listitem>
</varlistentry>
</variablelist>
<simpara>A category has a different status depending on where it is in the installation program.</simpara>
<table frame="all" rowsep="1" colsep="1">
<title>Category status</title>
<tgroup cols="2">
<colspec colname="col_1" colwidth="50*"/>
<colspec colname="col_2" colwidth="50*"/>
<thead>
<row>
<entry align="left" valign="top">Status</entry>
<entry align="left" valign="top">Description</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left" valign="top"><simpara>Yellow triangle with an exclamation mark and red text</simpara></entry>
<entry align="left" valign="top"><simpara>Requires attention before installation. For example, Network &amp; Host Name requires attention before you can register and download from the Content Delivery Network (CDN).</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>Grayed out and with a warning symbol (yellow triangle with an exclamation mark)</simpara></entry>
<entry align="left" valign="top"><simpara>The installation program is configuring a category and you must wait for it to finish before accessing the window.</simpara></entry>
</row>
</tbody>
</tgroup>
</table>
<note>
<simpara>A warning message is displayed at the bottom of the <emphasis role="strong">Installation Summary</emphasis> window and the <emphasis role="strong">Begin Installation</emphasis> button is disabled until you configure all of the required categories.</simpara>
</note>
<simpara>This section contains information about customizing your Red Hat Enterprise Linux installation using the Graphical User Interface (GUI). The GUI is the preferred method of installing Red Hat Enterprise Linux when you boot the system from a CD, DVD, or USB flash drive, or from a network using PXE.</simpara>
<section xml:id="installing-rhel-using-anaconda_graphical-installation">
<title>Configuring language and location settings</title>
<simpara role="_abstract">The installation program uses the language that you selected during installation.</simpara>
<orderedlist numeration="arabic">
<title>Prerequisites</title>
<listitem>
<simpara>You have created installation media. For more information, see <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_a_standard_rhel_9_installation/index#making-an-installation-cd-or-dvd_assembly_creating-a-bootable-installation-medium">Creating a bootable DVD or CD</link>.</simpara>
</listitem>
<listitem>
<simpara>You have specified an installation source if you are using the Boot ISO image file. For more information, see <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_a_standard_rhel_9_installation/index#prepare-installation-source_installing-RHEL">Preparing an installation source</link>.</simpara>
</listitem>
<listitem>
<simpara>You have booted the installation. For more information, see <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_a_standard_rhel_9_installation/index#booting-the-installer_installing-RHEL">Booting the installer</link>.</simpara>
</listitem>
</orderedlist>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>From the left-hand pane of the <emphasis role="strong">Welcome to Red Hat Enterprise Linux</emphasis> window, select a language. Alternatively, type your preferred language into the <emphasis role="strong">Search</emphasis> field.</simpara>
<note>
<simpara>A language is pre-selected by default. If network access is configured, that is, if you booted from a network server instead of local media, the pre-selected language is determined by the automatic location detection feature of the <emphasis role="strong">GeoIP</emphasis> module. If you used the <literal role="option">inst.lang=</literal> option on the boot command line or in your PXE server configuration, then the language that you define with the boot option is selected.</simpara>
</note>
</listitem>
<listitem>
<simpara>From the right-hand pane of the <emphasis role="strong">Welcome to Red Hat Enterprise Linux</emphasis> window, select a location specific to your region.</simpara>
</listitem>
<listitem>
<simpara>Click <guibutton>Continue</guibutton> to proceed to the <link linkend="graphical-installation_graphical-installation">Graphical installations</link> window.</simpara>
</listitem>
<listitem>
<simpara>If you are installing a pre-release version of Red Hat Enterprise Linux, a warning message is displayed about the pre-release status of the installation media.</simpara>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>To continue with the installation, click <guibutton>I want to proceed</guibutton>, or</simpara>
</listitem>
<listitem>
<simpara>To quit the installation and reboot the system, click <guibutton>I want to exit</guibutton>.</simpara>
</listitem>
</orderedlist>
</listitem>
</orderedlist>
<itemizedlist role="_additional-resources">
<title>Additional resources</title>
<listitem>
<simpara><link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_a_standard_rhel_9_installation/index#configuring-localization-settings_graphical-installation">Configuring localization settings</link></simpara>
</listitem>
</itemizedlist>
</section>
<section xml:id="configuring-localization-settings_graphical-installation">
<title>Configuring localization options</title>
<simpara role="_abstract">This section contains information about configuring your keyboard, language support, and time and date settings.</simpara>
<important>
<simpara>If you use a layout that cannot accept Latin characters, such as <emphasis role="strong">Russian</emphasis>, add the <emphasis role="strong">English (United States)</emphasis> layout and configure a keyboard combination to switch between the two layouts. If you select a layout that does not have Latin characters, you might be unable to enter a valid <literal role="systemitem">root</literal> password and user credentials later in the installation process. This might prevent you from completing the installation.</simpara>
</important>
<note>
<title>Configuring keyboard, language, and time and date settings</title>
<simpara>Keyboard, Language, and Time and Date Settings are configured by default as part of <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_a_standard_rhel_9_installation/index#installing-rhel-using-anaconda_graphical-installation">Installing RHEL using Anaconda</link>.
To change any of the settings, complete the following steps, otherwise proceed to <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_a_standard_rhel_9_installation/index#configuring-software-settings_graphical-installation">Configuring software settings</link>.</simpara>
</note>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>Configure keyboard settings:</simpara>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>From the <emphasis role="strong">Installation Summary</emphasis> window, click <emphasis role="strong">Keyboard</emphasis>. The default layout depends on the option selected in <link linkend="installing-rhel-using-anaconda_graphical-installation">Installing RHEL using Anaconda</link>.</simpara>
</listitem>
<listitem>
<simpara>Click <guibutton>+</guibutton> to open the <emphasis role="strong">Add a Keyboard Layout</emphasis> window and change to a different layout.</simpara>
</listitem>
<listitem>
<simpara>Select a layout by browsing the list or use the <emphasis role="strong">Search</emphasis> field.</simpara>
</listitem>
<listitem>
<simpara>Select the required layout and click <guibutton>Add</guibutton>. The new layout appears under the default layout.</simpara>
</listitem>
<listitem>
<simpara>Click <guibutton>Options</guibutton> to optionally configure a keyboard switch that you can use to cycle between available layouts.  The <emphasis role="strong">Layout Switching Options</emphasis> window opens.</simpara>
</listitem>
<listitem>
<simpara>To configure key combinations for switching, select one or more key combinations and click <guibutton>OK</guibutton> to confirm your selection.</simpara>
<note>
<simpara>When you select a layout, click the <emphasis role="strong">Keyboard</emphasis> button to open a new dialog box that displays a visual representation of the selected layout.</simpara>
</note>
</listitem>
<listitem>
<simpara>Click <guibutton>Done</guibutton> to apply the settings and return to <link linkend="graphical-installation_graphical-installation">Graphical installations</link>.</simpara>
</listitem>
</orderedlist>
</listitem>
<listitem>
<simpara>Configure language settings:</simpara>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>From the <emphasis role="strong">Installation Summary</emphasis> window, click <emphasis role="strong">Language Support</emphasis>. The <emphasis role="strong">Language Support</emphasis> window opens. The left pane lists the available language groups. If at least one language from a group is configured, a check mark is displayed and the supported language is highlighted.</simpara>
</listitem>
<listitem>
<simpara>From the left pane, click a group to select additional languages, and from the right pane, select regional options. Repeat this process for languages that you require.</simpara>
</listitem>
<listitem>
<simpara>Click <guibutton>Done</guibutton> to apply the changes and return to <link linkend="graphical-installation_graphical-installation">Graphical installations</link>.</simpara>
</listitem>
</orderedlist>
</listitem>
<listitem>
<simpara>Configure time and date settings:</simpara>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>From the <emphasis role="strong">Installation Summary</emphasis> window, click <emphasis role="strong">Time &amp; Date</emphasis>. The <emphasis role="strong">Time &amp; Date</emphasis> window opens.</simpara>
<note>
<simpara>The <emphasis role="strong">Time &amp; Date</emphasis> settings are configured by default based on the settings you selected in <link linkend="installing-rhel-using-anaconda_graphical-installation">Installing RHEL using Anaconda</link>.</simpara>
<simpara>The list of cities and regions come from the Time Zone Database (<literal role="package">tzdata</literal>) public domain that is maintained by the Internet Assigned Numbers Authority (IANA). Red Hat can not add cities or regions to this database. You can find more information at the <link xl:href="http://www.iana.org/time-zones">IANA official website</link>.</simpara>
</note>
</listitem>
<listitem>
<simpara>From the <emphasis role="strong">Region</emphasis> drop-down menu, select a region.</simpara>
<note>
<simpara>Select <emphasis role="strong">Etc</emphasis> as your region to configure a time zone relative to Greenwich Mean Time (GMT) without setting your location to a specific region.</simpara>
</note>
</listitem>
<listitem>
<simpara>From the <emphasis role="strong">City</emphasis> drop-down menu, select the city, or the city closest to your location in the same time zone.</simpara>
</listitem>
<listitem>
<simpara>Toggle the <emphasis role="strong">Network Time</emphasis> switch to enable or disable network time synchronization using the Network Time Protocol (NTP).</simpara>
<note>
<simpara>Enabling the Network Time switch keeps your system time correct as long as the system can access the internet. By default, one NTP pool is configured; you can add a new option, or disable or remove the default options by clicking the <guibutton>gear wheel</guibutton> button next to the <guibutton>Network Time</guibutton> switch.</simpara>
</note>
</listitem>
<listitem>
<simpara>Click <guibutton>Done</guibutton> to apply the changes and return to <link linkend="graphical-installation_graphical-installation">Graphical installations</link>.</simpara>
<note>
<simpara>If you disable network time synchronization, the controls at the bottom of the window become active, allowing you to set the time and date manually.</simpara>
</note>
</listitem>
</orderedlist>
</listitem>
</orderedlist>
</section>
<section xml:id="configuring-system-settings_graphical-installation">
<title>Configuring system options</title>
<simpara>This section contains information about configuring Installation Destination, KDUMP, Network and Host Name, and Security Policy.</simpara>
<section xml:id="configuring-system-settings_configuring-system-settings">
<title>Configuring installation destination</title>
<simpara role="_abstract">Use the <emphasis role="strong">Installation Destination</emphasis> window to configure the storage options, for example, the disks that you want to use as the installation target for your Red Hat Enterprise Linux installation. You must select at least one disk.</simpara>
<important>
<itemizedlist>
<title>Special cases</title>
<listitem>
<simpara>Some BIOS types do not support booting from a RAID card. In these instances, the <literal>/boot</literal> partition must be created on a partition outside of the RAID array, such as on a separate hard drive. It is necessary to use an internal hard drive for partition creation with problematic RAID cards. A <literal>/boot</literal> partition is also necessary for software RAID setups.
If you choose to partition your system automatically, you should manually edit your <literal>/boot</literal> partition.</simpara>
</listitem>
<listitem>
<simpara>To configure the Red Hat Enterprise Linux boot loader to <emphasis>chain load</emphasis> from a different boot loader, you must specify the boot drive manually by clicking the <emphasis role="strong">Full disk summary and bootloader</emphasis> link from the <emphasis role="strong">Installation Destination</emphasis> window.</simpara>
</listitem>
<listitem>
<simpara>When you install Red Hat Enterprise Linux on a system with both multipath and non-multipath storage devices, the automatic partitioning layout in the installation program creates volume groups that contain a mix of multipath and non-multipath devices. This defeats the purpose of multipath storage. It is recommended that you select either multipath or non-multipath devices on the <emphasis role="strong">Installation Destination</emphasis> window. Alternatively, proceed to manual partitioning.</simpara>
</listitem>
</itemizedlist>
</important>
<itemizedlist>
<title>Prerequisites</title>
<listitem>
<simpara>The <emphasis role="strong">Installation Summary</emphasis> window is open.</simpara>
</listitem>
<listitem>
<simpara>Ensure to back up your data if you plan to use a disk that already contains data. For example, if you want to shrink an existing Microsoft Windows partition and install Red Hat Enterprise Linux as a second system, or if you are upgrading a previous release of Red Hat Enterprise Linux. Manipulating partitions always carries a risk. For example, if the process is interrupted or fails for any reason data on the disk can be lost.</simpara>
</listitem>
</itemizedlist>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>From the <emphasis role="strong">Installation Summary</emphasis> window, click <emphasis role="strong">Installation Destination</emphasis>. Perform the following operations in the <emphasis role="strong">Installation Destination</emphasis> window opens:</simpara>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>From the <emphasis role="strong">Local Standard Disks</emphasis> section, select the storage device that you require; a white check mark indicates your selection. Disks without a white check mark are not used during the installation process; they are ignored if you choose automatic partitioning, and they are not available in manual partitioning.</simpara>
<note>
<simpara>All locally available storage devices (SATA, IDE and SCSI hard drives, USB flash and external disks) are displayed under <emphasis role="strong">Local Standard Disks</emphasis>. Any storage devices connected after the installation program has started are not detected. If you use a removable drive to install Red Hat Enterprise Linux, your system is unusable if you remove the device.</simpara>
</note>
</listitem>
<listitem>
<simpara>Optional: Click the <emphasis role="strong">Refresh</emphasis> link in the lower right-hand side of the window if you want to configure additional local storage devices to connect new hard drives. The <emphasis role="strong">Rescan Disks</emphasis> dialog box opens.</simpara>
<note>
<simpara>All storage changes that you make during the installation are lost when you click <emphasis role="strong">Rescan Disks</emphasis>.</simpara>
</note>
<orderedlist numeration="lowerroman">
<listitem>
<simpara>Click <guibutton>Rescan Disks</guibutton> and wait until the scanning process completes.</simpara>
</listitem>
<listitem>
<simpara>Click <guibutton>OK</guibutton> to return to the <emphasis role="strong">Installation Destination</emphasis> window. All detected disks including any new ones are displayed under the <emphasis role="strong">Local Standard Disks</emphasis> section.</simpara>
</listitem>
</orderedlist>
</listitem>
</orderedlist>
</listitem>
<listitem>
<simpara>Optional: Click <guibutton>Add a disk&#8230;&#8203;</guibutton> to add a specialized storage device.</simpara>
<simpara>The <emphasis role="strong">Storage Device Selection</emphasis> window opens and lists all storage devices that the installation program has access to.</simpara>
</listitem>
<listitem>
<simpara>Optional: Under <emphasis role="strong">Storage Configuration</emphasis>, select the <emphasis role="strong">Automatic</emphasis> radio button for automatic partitioning.</simpara>
<important>
<simpara>Automatic partitioning is the recommended method for partitioning your storage.</simpara>
<simpara>You can also configure custom partitioning. For more details, see <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_a_standard_rhel_9_installation/index#manual-partitioning_graphical-installation">Configuring manual partitioning</link>.</simpara>
</important>
</listitem>
<listitem>
<simpara>Optional: Select <emphasis role="strong">I would like to make additional space available</emphasis> to reclaim space from an existing partitioning layout. For example, if a disk you want to use already has a different operating system and you want to make this system&#8217;s partitions smaller to allow more room for Red Hat Enterprise Linux.</simpara>
</listitem>
<listitem>
<simpara>Optional: Select <emphasis role="strong">Encrypt my data</emphasis> to encrypt all partitions except the ones needed to boot the system (such as <literal>/boot</literal>) using <emphasis>Linux Unified Key Setup</emphasis> (LUKS). Encrypting your disk is recommended.</simpara>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>Click <guibutton>Done</guibutton>. The <emphasis role="strong">Disk Encryption Passphrase</emphasis> dialog box opens.</simpara>
<orderedlist numeration="lowerroman">
<listitem>
<simpara>Type your passphrase in the <emphasis role="strong">Passphrase</emphasis> and <emphasis role="strong">Confirm</emphasis> fields.</simpara>
</listitem>
<listitem>
<simpara>Click <guibutton>Save Passphrase</guibutton> to complete disk encryption.</simpara>
<warning>
<simpara>If you lose the LUKS passphrase, any encrypted partitions and their data is completely inaccessible. There is no way to recover a lost passphrase. However, if you perform a Kickstart installation, you can save encryption passphrases and create backup encryption passphrases during the installation. See the <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_an_advanced_rhel_9_installation/index/"><emphasis>Performing an advanced RHEL 9 installation</emphasis></link> document for information.</simpara>
</warning>
</listitem>
</orderedlist>
</listitem>
</orderedlist>
</listitem>
<listitem>
<simpara>Optional: Click the <emphasis role="strong">Full disk summary and bootloader</emphasis> link in the lower left-hand side of the window to select which storage device contains the boot loader.</simpara>
<simpara>For more information, see <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_a_standard_rhel_9_installation/index#boot-loader-installation_configuring-system-settings">Boot loader installation</link>.</simpara>
<note>
<simpara>In most cases it is sufficient to leave the boot loader in the default location. Some configurations, for example, systems that require chain loading from another boot loader require the boot drive to be specified manually.</simpara>
</note>
</listitem>
<listitem>
<simpara>Click <guibutton>Done</guibutton>.</simpara>
</listitem>
<listitem>
<simpara>Optional: The <emphasis role="strong">Reclaim Disk Space</emphasis> dialog box appears if you selected <emphasis role="strong">automatic partitioning</emphasis> and the <emphasis role="strong">I would like to make additional space available</emphasis> option, or if there is not enough free space on the selected hard drives to install Red Hat Enterprise Linux. It lists all configured disk devices and all partitions on those devices. The dialog box displays information about the minimal disk space the system needs for an installation with the currently selected package set and how much space you have reclaimed. To start the reclaiming process:</simpara>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>Review the displayed list of available storage devices. The <emphasis role="strong">Reclaimable Space</emphasis> column shows how much space can be reclaimed from each entry.</simpara>
</listitem>
<listitem>
<simpara>Select a disk or partition to reclaim space.</simpara>
</listitem>
<listitem>
<simpara>Use the <guibutton>Shrink</guibutton> button to use free space on a partition while preserving the existing data.</simpara>
</listitem>
<listitem>
<simpara>Use the <guibutton>Delete</guibutton> button to delete that partition or all partitions on a selected disk including existing data.</simpara>
</listitem>
<listitem>
<simpara>Use the <guibutton>Delete all</guibutton> button to delete all existing partitions on all disks including existing data and make this space available to install Red Hat Enterprise Linux.</simpara>
</listitem>
<listitem>
<simpara>Click <guibutton>Reclaim space</guibutton> to apply the changes and return to <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_a_standard_rhel_9_installation/index#graphical-installation_graphical-installation">Graphical installations</link> to continue installation.</simpara>
</listitem>
</orderedlist>
</listitem>
</orderedlist>
<important>
<simpara>No disk changes are made until you click <guibutton>Begin Installation</guibutton> on the <emphasis role="strong">Installation Summary</emphasis> window. The <emphasis role="strong">Reclaim Space</emphasis> dialog only marks partitions for resizing or deletion; no action is performed.</simpara>
</important>
<itemizedlist role="_additional-resources">
<title>Additional resources</title>
<listitem>
<simpara><link xl:href="https://www.ibm.com/docs/en/linux-on-systems?topic=volumes-creating-volume-pervasive-encryption">How to use dm-crypt on IBM Z, LinuxONE and with the PAES cipher</link></simpara>
</listitem>
</itemizedlist>
</section>
<section xml:id="boot-loader-installation_configuring-system-settings">
<title>Configuring boot loader</title>
<simpara role="_abstract">Red Hat Enterprise Linux uses GRand Unified Bootloader version 2 (<emphasis role="strong"><phrase role="application">GRUB2</phrase></emphasis>) as the boot loader for AMD64 and Intel 64, IBM Power Systems, and ARM. For 64-bit IBM Z, the <emphasis role="strong">zipl</emphasis> boot loader is used.</simpara>
<simpara>The boot loader is the first program that runs when the system starts and is responsible for loading and transferring control to an operating system. <emphasis role="strong"><phrase role="application">GRUB2</phrase></emphasis> can boot any compatible operating system (including Microsoft Windows) and can also use chain loading to transfer control to other boot loaders for unsupported operating systems.</simpara>
<warning>
<simpara>Installing <emphasis role="strong"><phrase role="application">GRUB2</phrase></emphasis> may overwrite your existing boot loader.</simpara>
</warning>
<simpara>If an operating system is already installed, the Red Hat Enterprise Linux installation program attempts to automatically detect and configure the boot loader to start the other operating system. If the boot loader is not detected, you can manually configure any additional operating systems after you finish the installation.</simpara>
<simpara>If you are installing a Red Hat Enterprise Linux system with more than one disk, you might want to manually specify the disk where you want to install the boot loader.</simpara>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>From the <emphasis role="strong">Installation Destination</emphasis> window, click the <emphasis role="strong">Full disk summary and bootloader</emphasis> link. The <emphasis role="strong">Selected Disks</emphasis> dialog box opens.</simpara>
<simpara>The boot loader is installed on the device of your choice, or on a UEFI system; the <emphasis role="strong">EFI system partition</emphasis> is created on the target device during guided partitioning.</simpara>
</listitem>
<listitem>
<simpara>To change the boot device, select a device from the list and click <guibutton>Set as Boot Device</guibutton>. You can set only one device as the boot device.</simpara>
</listitem>
<listitem>
<simpara>To disable a new boot loader installation, select the device currently marked for boot and click <guibutton>Do not install boot loader</guibutton>. This ensures <emphasis role="strong"><phrase role="application">GRUB2</phrase></emphasis> is not installed on any device.</simpara>
</listitem>
</orderedlist>
<warning>
<simpara>If you choose not to install a boot loader, you cannot boot the system directly and you must use another boot method, such as a standalone commercial boot loader application. Use this option only if you have another way to boot your system.</simpara>
</warning>
<simpara>The boot loader may also require a special partition to be created, depending on if your system uses BIOS or UEFI firmware, or if the boot drive has a <emphasis>GUID Partition Table</emphasis> (GPT) or a <emphasis role="strong">Master Boot Record</emphasis> (MBR, also known as <literal>msdos</literal>) label. If you use automatic partitioning, the installation program creates the partition.</simpara>
</section>
<section xml:id="configuring-kdump_configuring-system-settings">
<title>Configuring Kdump</title>
<simpara role="_abstract"><emphasis role="strong"><phrase role="application">Kdump</phrase></emphasis> is a kernel crash-dumping mechanism. In the event of a system crash, <emphasis role="strong">Kdump</emphasis> captures the contents of the system memory at the moment of failure. This captured memory can be analyzed to find the cause of the crash. If <emphasis role="strong"><phrase role="application">Kdump</phrase></emphasis> is enabled, it must have a small portion of the system&#8217;s memory (RAM) reserved to itself. This reserved memory is not accessible to the main kernel.</simpara>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>From the <emphasis role="strong">Installation Summary</emphasis> window, click <emphasis role="strong">Kdump</emphasis>. The <emphasis role="strong">Kdump</emphasis> window opens.</simpara>
</listitem>
<listitem>
<simpara>Select the <emphasis role="strong">Enable kdump</emphasis> check box.</simpara>
</listitem>
<listitem>
<simpara>Select either the <emphasis role="strong">Automatic</emphasis> or <emphasis role="strong">Manual</emphasis> memory reservation setting.</simpara>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>If you select <emphasis role="strong">Manual</emphasis>, enter the amount of memory (in megabytes) that you want to reserve in the <emphasis role="strong">Memory to be reserved</emphasis> field using the <emphasis role="strong">+</emphasis> and <emphasis role="strong">-</emphasis> buttons. The <emphasis role="strong">Usable System Memory</emphasis> readout below the reservation input field shows how much memory is accessible to your main system after reserving the amount of RAM that you select.</simpara>
</listitem>
</orderedlist>
</listitem>
<listitem>
<simpara>Click <guibutton>Done</guibutton> to apply the settings and return to <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_a_standard_rhel_9_installation/index#graphical-installation_graphical-installation">Graphical installations</link>.</simpara>
</listitem>
</orderedlist>
<note>
<simpara>The amount of memory that you reserve is determined by your system architecture (AMD64 and Intel 64 have different requirements than IBM Power) as well as the total amount of system memory. In most cases, automatic reservation is satisfactory.</simpara>
</note>
<important>
<simpara>Additional settings, such as the location where kernel crash dumps will be saved, can only be configured after the installation using either the <emphasis role="strong"><phrase role="application">system-config-kdump</phrase></emphasis> graphical interface, or manually in the <literal>/etc/kdump.conf</literal> configuration file.</simpara>
</important>
</section>
<section xml:id="network-hostname_configuring-system-settings">
<title>Configuring network and host name options</title>
<simpara>Use the <emphasis role="strong">Network and Host name</emphasis> window to configure network interfaces. Options that you select here are available both during the installation for tasks such as downloading packages from a remote location, and on the installed system.</simpara>
<section xml:id="proc_configuring-network-and-host-name_network-hostname">
<title>Configuring network and host name</title>
<simpara role="_abstract">Follow the steps in this procedure to configure your network and host name.</simpara>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>From the <emphasis role="strong">Installation Summary</emphasis> window, click <guibutton>Network and Host Name</guibutton>.</simpara>
</listitem>
<listitem>
<simpara>From the list in the left-hand pane, select an interface. The details are displayed in the right-hand pane.</simpara>
<note>
<simpara>There are several types of network device naming standards used to identify network devices with persistent names, for example, <literal>em1</literal> and <literal>wl3sp0</literal>. For information about these standards, see the <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/configuring_and_managing_networking/index/"><emphasis>Configuring and managing networking</emphasis></link> document.</simpara>
</note>
</listitem>
<listitem>
<simpara>Toggle the <guibutton>ON/OFF</guibutton> switch to enable or disable the selected interface.</simpara>
<note>
<simpara>The installation program automatically detects locally accessible interfaces, and you cannot add or remove them manually.</simpara>
</note>
</listitem>
<listitem>
<simpara>Click <guibutton>+</guibutton> to add a virtual network interface, which can be either: Team (deprecated), Bond, Bridge, or VLAN.</simpara>
</listitem>
<listitem>
<simpara>Click <guibutton>-</guibutton> to remove a virtual interface.</simpara>
</listitem>
<listitem>
<simpara>Click <guibutton>Configure</guibutton> to change settings such as IP addresses, DNS servers, or routing configuration for an existing interface (both virtual and physical).</simpara>
</listitem>
<listitem>
<simpara>Type a host name for your system in the <emphasis role="strong">Host Name</emphasis> field.</simpara>
<note>
<itemizedlist>
<listitem>
<simpara>The host name can either be a fully qualified domain name (FQDN) in the format <literal><emphasis>hostname.domainname</emphasis></literal>, or a short host name without the domain. Many networks have a Dynamic Host Configuration Protocol (DHCP) service that automatically supplies connected systems with a domain name. To allow the DHCP service to assign the domain name to this system, specify only the short host name.</simpara>
</listitem>
<listitem>
<simpara>When using static IP and host name configuration, it depends on the planned system use case whether to use a short name or FQDN. Red Hat Identity Management configures FQDN during provisioning but some 3rd party software products may require short name. In either case, to ensure availability of both forms in all situations, add an entry for the host in <literal>/etc/hosts</literal> in the format <literal>IP FQDN short-alias</literal>.</simpara>
</listitem>
<listitem>
<simpara>The value <literal>localhost</literal> means that no specific static host name for the target system is configured, and the actual host name of the installed system is configured during the processing of the network configuration, for example, by NetworkManager using DHCP or DNS.</simpara>
</listitem>
<listitem>
<simpara>Host names can only contain alphanumeric characters and <literal>-</literal> or <literal>.</literal>. Host name should be equal to or less than 64 characters. Host names cannot start or end with <literal>-</literal> and <literal>.</literal>. To be compliant with DNS, each part of a FQDN should be equal to or less than 63 characters and the FQDN total length, including dots, should not exceed 255 characters.</simpara>
</listitem>
</itemizedlist>
</note>
</listitem>
<listitem>
<simpara>Click <guibutton>Apply</guibutton> to apply the host name to the installer environment.</simpara>
</listitem>
<listitem>
<simpara>Alternatively, in the <emphasis role="strong">Network and Hostname</emphasis> window, you can choose the Wireless option. Click <guibutton>Select network</guibutton> in the right-hand pane to select your wifi connection, enter the password if required, and click <guibutton>Done</guibutton>.</simpara>
</listitem>
</orderedlist>
</section>
<section xml:id="adding-a-virtual-network-interface_network-hostname">
<title>Adding a virtual network interface</title>
<simpara role="_abstract">This procedure describes how to add a virtual network interface.</simpara>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>From the <emphasis role="strong">Network &amp; Host name</emphasis> window, click the <guibutton>+</guibutton> button to add a virtual network interface. The <emphasis role="strong">Add a device</emphasis> dialog opens.</simpara>
</listitem>
<listitem>
<simpara>Select one of the four available types of virtual interfaces:</simpara>
<informalexample>
<itemizedlist>
<listitem>
<simpara><emphasis role="strong">Bond</emphasis>: NIC (<emphasis>Network Interface Controller</emphasis>) Bonding, a method to bind multiple physical network interfaces together into a single bonded channel.</simpara>
</listitem>
<listitem>
<simpara><emphasis role="strong">Bridge</emphasis>: Represents NIC Bridging, a method to connect multiple separate networks into one aggregate network.</simpara>
</listitem>
<listitem>
<simpara><emphasis role="strong">Team</emphasis>: NIC Teaming, a new implementation to aggregate links, designed to provide a small kernel driver to implement the fast handling of packet flows, and various applications to do everything else in user space.</simpara>
<simpara>Network teaming is deprecated in Red Hat Enterprise Linux 9. Consider using the network bonding driver as an alternative. For details, see <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/configuring_and_managing_networking/configuring-network-bonding_configuring-and-managing-networking">Configuring network bonding</link>.</simpara>
</listitem>
<listitem>
<simpara><emphasis role="strong">Vlan</emphasis> (<emphasis>Virtual LAN</emphasis>): A method to create multiple distinct broadcast domains which are mutually isolated.</simpara>
</listitem>
</itemizedlist>
</informalexample>
</listitem>
<listitem>
<simpara>Select the interface type and click <guibutton>Add</guibutton>. An editing interface dialog box opens, allowing you to edit any available settings for your chosen interface type.</simpara>
<simpara>For more information see <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_a_standard_rhel_9_installation/index#editing-network-interface-configuration_network-hostname">Editing network interface</link>.</simpara>
</listitem>
<listitem>
<simpara>Click <guibutton>Save</guibutton> to confirm the virtual interface settings and return to the <emphasis role="strong">Network &amp; Host name</emphasis> window.</simpara>
</listitem>
</orderedlist>
<note>
<simpara>If you need to change the settings of a virtual interface, select the interface and click <guibutton>Configure</guibutton>.</simpara>
</note>
</section>
<section xml:id="editing-network-interface-configuration_network-hostname">
<title>Editing network interface configuration</title>
<simpara role="_abstract">This section contains information about the most important settings for a typical wired connection used during installation. Configuration of other types of networks is broadly similar, although the specific configuration parameters might be different.</simpara>
<note>
<simpara>On 64-bit IBM Z, you cannot add a new connection as the network subchannels need to be grouped and set online beforehand, and this is currently done only in the booting phase.</simpara>
</note>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>To configure a network connection manually, select the interface from the <emphasis role="strong">Network and Host name</emphasis> window and click <guibutton>Configure</guibutton>.</simpara>
<simpara>An editing dialog specific to the selected interface opens.</simpara>
</listitem>
</orderedlist>
<note>
<simpara>The options present depend on the connection type - the available options are slightly different depending on whether the connection type is a physical interface (wired or wireless network interface controller) or a virtual interface (Bond, Bridge, Team (deprecated), or Vlan) that was previously configured in <link linkend="adding-a-virtual-network-interface_network-hostname">Adding a virtual interface</link>.</simpara>
</note>
</section>
<section xml:id="enabling-or-disabling-the-interface-connection_network-hostname">
<title>Enabling or Disabling the Interface Connection</title>
<simpara role="_abstract">Follow the steps in this procedure to enable or disable an interface connection.</simpara>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>Click the <emphasis role="strong">General</emphasis> tab.</simpara>
</listitem>
<listitem>
<simpara>Select the <emphasis role="strong">Connect automatically with priority</emphasis> check box to enable connection by default. Keep the default priority setting at <literal>0</literal>.</simpara>
<important>
<itemizedlist>
<listitem>
<simpara>When enabled on a wired connection, the system automatically connects during startup or reboot. On a wireless connection, the interface attempts to connect to any known wireless networks in range. For further information about NetworkManager, including the <literal>nm-connection-editor</literal> tool, see the <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/configuring_and_managing_networking/index"><emphasis>Configuring and managing networking</emphasis></link> document.</simpara>
</listitem>
<listitem>
<simpara>You can enable or disable all users on the system from connecting to this network using the <emphasis role="strong">All users may connect to this network</emphasis> option. If you disable this option, only <literal role="systemitem">root</literal> will be able to connect to this network.</simpara>
</listitem>
<listitem>
<simpara>It is not possible to only allow a specific user other than <literal role="systemitem">root</literal> to use this interface, as no other users are created at this point during the installation. If you need a connection for a different user, you must configure it after the installation.</simpara>
</listitem>
</itemizedlist>
</important>
</listitem>
<listitem>
<simpara>Click <guibutton>Save</guibutton> to apply the changes and return to the <emphasis role="strong">Network and Host name</emphasis> window.</simpara>
</listitem>
</orderedlist>
</section>
<section xml:id="setting-up-static-ipv4-or-ipv6-settings_network-hostname">
<title>Setting up Static IPv4 or IPv6 Settings</title>
<simpara role="_abstract">By default, both IPv4 and IPv6 are set to automatic configuration depending on current network settings. This means that addresses such as the local IP address, DNS address, and other settings are detected automatically when the interface connects to a network. In many cases, this is sufficient, but you can also provide static configuration in the <emphasis role="strong">IPv4 Settings</emphasis> and <emphasis role="strong">IPv6 Settings</emphasis> tabs. Complete the following steps to configure IPv4 or IPv6 settings:</simpara>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>To set static network configuration, navigate to one of the IPv Settings tabs and from the <emphasis role="strong">Method</emphasis> drop-down menu, select a method other than <emphasis role="strong">Automatic</emphasis>, for example, <emphasis role="strong">Manual</emphasis>.  The <emphasis role="strong">Addresses</emphasis> pane is enabled.</simpara>
<note>
<simpara>In the <emphasis role="strong">IPv6 Settings</emphasis> tab, you can also set the method to <emphasis role="strong">Ignore</emphasis> to disable IPv6 on this interface.</simpara>
</note>
</listitem>
<listitem>
<simpara>Click <guibutton>Add</guibutton> and enter your address settings.</simpara>
</listitem>
<listitem>
<simpara>Type the IP addresses in the <emphasis role="strong">Additional DNS servers</emphasis> field; it accepts one or more IP addresses of DNS servers, for example, <literal role="literal">10.0.0.1,10.0.0.8</literal>.</simpara>
</listitem>
<listitem>
<simpara>Select the <emphasis role="strong">Require IPv<emphasis>X</emphasis> addressing for this connection to complete</emphasis> check box.</simpara>
<note>
<simpara>Select this option in the <emphasis role="strong">IPv4 Settings</emphasis> or <emphasis role="strong">IPv6 Settings</emphasis> tabs to allow this connection only if IPv4 or IPv6 was successful. If this option remains disabled for both IPv4 and IPv6, the interface is able to connect if configuration succeeds on either IP protocol.</simpara>
</note>
</listitem>
<listitem>
<simpara>Click <guibutton>Save</guibutton> to apply the changes and return to the <emphasis role="strong">Network &amp; Host name</emphasis> window.</simpara>
</listitem>
</orderedlist>
</section>
<section xml:id="configuring-routes_network-hostname">
<title>Configuring Routes</title>
<simpara role="_abstract">Complete the following steps to configure routes.</simpara>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>In the <emphasis role="strong">IPv4 Settings</emphasis> and <emphasis role="strong">IPv6 Settings</emphasis> tabs, click <guibutton>Routes</guibutton> to configure routing settings for a specific IP protocol on an interface. An editing routes dialog specific to the interface opens.</simpara>
</listitem>
<listitem>
<simpara>Click <guibutton>Add</guibutton> to add a route.</simpara>
</listitem>
<listitem>
<simpara>Select the <emphasis role="strong">Ignore automatically obtained routes</emphasis> check box to configure at least one static route and to disable all routes not specifically configured.</simpara>
</listitem>
<listitem>
<simpara>Select the <emphasis role="strong">Use this connection only for resources on its network</emphasis> check box to prevent the connection from becoming the default route.</simpara>
<note>
<simpara>This option can be selected even if you did not configure any static routes. This route is used only to access certain resources, such as intranet pages that require a local or VPN connection. Another (default) route is used for publicly available resources. Unlike the additional routes configured, this setting is transferred to the installed system. This option is useful only when you configure more than one interface.</simpara>
</note>
</listitem>
<listitem>
<simpara>Click <guibutton>OK</guibutton> to save your settings and return to the editing routes dialog that is specific to the interface.</simpara>
</listitem>
<listitem>
<simpara>Click <guibutton>Save</guibutton> to apply the settings and return to the <emphasis role="strong">Network and Host Name</emphasis> window.</simpara>
</listitem>
</orderedlist>
</section>
<section xml:id="_additional_resources" role="_additional-resources">
<title>Additional resources</title>
<itemizedlist>
<listitem>
<simpara><link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/configuring_and_managing_networking/index/"><emphasis>Configuring and managing networking</emphasis></link></simpara>
</listitem>
</itemizedlist>
</section>
</section>
<section xml:id="connect-to-red-hat_configuring-system-settings">
<title>Configuring Connect to Red Hat</title>
<simpara>The Red Hat Content Delivery Network (CDN), available from cdn.redhat.com, is a geographically distributed series of static web servers that contain content and errata that is consumed by systems. The content can be consumed directly, such as using a system registered to Red Hat Subscription Management. The CDN is protected by x.509 certificate authentication to ensure that only valid users have access. When a system is registered to Red Hat Subscription Management, the attached subscriptions govern which subset of the CDN the system can access.</simpara>
<simpara>Registering and installing RHEL from the CDN provides the following benefits:</simpara>
<itemizedlist>
<listitem>
<simpara>The CDN installation method supports the Boot ISO and the DVD ISO image files. However, the use of the smaller Boot ISO image file is recommended as it consumes less space than the larger DVD ISO image file.</simpara>
</listitem>
<listitem>
<simpara>The CDN uses the latest packages resulting in a fully up-to-date system right after installation. There is no requirement to install package updates immediately after installation as is often the case when using the DVD ISO image file.</simpara>
</listitem>
<listitem>
<simpara>Integrated support for connecting to Red Hat Insights and enabling System Purpose.</simpara>
</listitem>
</itemizedlist>
<section xml:id="system_purposes-adoc_connect-to-red-hat">
<title>Introduction to System Purpose</title>
<simpara role="_abstract">You use system purpose to record the intended use of a Red Hat Enterprise Linux (RHEL) system. Setting system purpose  allows you to specify system attributes, such as the role, service level agreement, and usage. The following values are available for each system purpose attribute by default.</simpara>
<itemizedlist>
<listitem>
<simpara><emphasis role="strong">Role</emphasis></simpara>
<itemizedlist>
<listitem>
<simpara>Red Hat Enterprise Linux Server</simpara>
</listitem>
<listitem>
<simpara>Red Hat Enterprise Linux Workstation</simpara>
</listitem>
<listitem>
<simpara>Red Hat Enterprise Linux Compute Node</simpara>
</listitem>
</itemizedlist>
</listitem>
<listitem>
<simpara><emphasis role="strong">Service Level Agreement</emphasis></simpara>
<itemizedlist>
<listitem>
<simpara>Premium</simpara>
</listitem>
<listitem>
<simpara>Standard</simpara>
</listitem>
<listitem>
<simpara>Self-Support</simpara>
</listitem>
</itemizedlist>
</listitem>
<listitem>
<simpara><emphasis role="strong">Usage</emphasis></simpara>
<itemizedlist>
<listitem>
<simpara>Production</simpara>
</listitem>
<listitem>
<simpara>Development/Test</simpara>
</listitem>
<listitem>
<simpara>Disaster Recovery</simpara>
</listitem>
</itemizedlist>
</listitem>
</itemizedlist>
<simpara>Configuring system purpose offers the following benefits:</simpara>
<itemizedlist>
<listitem>
<simpara>In-depth system-level information for system administrators and business operations.</simpara>
</listitem>
<listitem>
<simpara>Reduced overhead when determining why a system was procured and its intended purpose.</simpara>
</listitem>
<listitem>
<simpara>Automated discovery and reconciliation of system usage.</simpara>
</listitem>
</itemizedlist>
<simpara>You can set system purpose data in any of the following ways:</simpara>
<itemizedlist>
<listitem>
<simpara>During activation key creation</simpara>
</listitem>
<listitem>
<simpara>During image creation</simpara>
</listitem>
<listitem>
<simpara>During a GUI installation when using the <emphasis role="strong">Connect to Red Hat</emphasis> screen to register your system</simpara>
</listitem>
<listitem>
<simpara>During a Kickstart installation when using the <literal>syspurpose</literal> Kickstart command</simpara>
</listitem>
<listitem>
<simpara>After installation using the <literal>subscription-manager</literal> command-line (CLI) tool</simpara>
</listitem>
</itemizedlist>
<itemizedlist role="_additional-resources">
<title>Additional resources</title>
<listitem>
<simpara>To configure system purpose with an activation key, see <link xl:href="https://access.redhat.com/documentation/en-us/subscription_central/2023/html/getting_started_with_activation_keys_on_the_hybrid_cloud_console/assembly-creating-managing-activation-keys#proc-creating-act-keys-console_">Creating an activation key</link>.</simpara>
</listitem>
<listitem>
<simpara>To configure system purpose for RHEL 9 with Subscription Manager, see <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/performing_a_standard_rhel_9_installation/assembly_installing-on-amd64-intel-64-and-64-bit-arm_installing-rhel#proc_configuring-system-purpose-using-the-subscription-manager-command-line-tool_post-installation-tasks">Configuring System Purpose using the subscription-manager command-line tool</link>.
To configure system purpose for RHEL 9 with Kickstart, see <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_an_advanced_rhel_9_installation/index#configuring-system-purpose-using-kickstart_configuring-system-purpose-advanced">Configuring System Purpose in a Kickstart file</link>.</simpara>
</listitem>
</itemizedlist>
</section>
<section xml:id="configuring-connect-to-redhat_connect-to-red-hat">
<title>Configuring Connect to Red Hat options</title>
<simpara role="_abstract">Use the following procedure to configure the Connect to Red Hat options in the GUI.</simpara>
<note>
<simpara>You can register to the Red Hat using either your Red Hat account or your activation key details.</simpara>
</note>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>From the <emphasis role="strong">Installation Summary</emphasis> screen, under <emphasis role="strong">Software</emphasis>, click <emphasis role="strong">Connect to Red Hat</emphasis>.</simpara>
</listitem>
<listitem>
<simpara>Click <emphasis role="strong">Account</emphasis>.</simpara>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>Enter your Red Hat Customer Portal username and password details.</simpara>
</listitem>
</orderedlist>
</listitem>
<listitem>
<simpara>Optional: Click <emphasis role="strong">Activation Key</emphasis>.</simpara>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>Enter your organization ID and activation key. You can enter more than one activation key, separated by a comma, as long as the activation keys are registered to your subscription.</simpara>
</listitem>
</orderedlist>
</listitem>
<listitem>
<simpara>Select the <emphasis role="strong">Set System Purpose</emphasis> check box.</simpara>
<itemizedlist>
<listitem>
<simpara>If the account has Simple content access mode enabled, setting the system purpose values are still important for the accurate reporting of the consumption in the subscription services.</simpara>
</listitem>
<listitem>
<simpara>If your account is in the entitlement mode, system purpose enables the entitlement server to determine and automatically attach the most appropriate subscription to satisfy the intended use of the Red Hat Enterprise Linux 9 system.</simpara>
</listitem>
</itemizedlist>
</listitem>
<listitem>
<simpara>Select the required <emphasis role="strong">Role</emphasis>, <emphasis role="strong">SLA</emphasis>, and <emphasis role="strong">Usage</emphasis> from the corresponding drop-down lists.</simpara>
</listitem>
<listitem>
<simpara>The <emphasis role="strong">Connect to Red Hat Insights</emphasis> check box is enabled by default. Clear the check box if you do not want to connect to Red Hat Insights.</simpara>
<note>
<simpara>Red Hat Insights is a Software-as-a-Service (SaaS) offering that provides continuous, in-depth analysis of registered Red Hat-based systems to proactively identify threats to security, performance and stability across physical, virtual and cloud environments, and container deployments.</simpara>
</note>
</listitem>
<listitem>
<simpara>Optional: Expand <emphasis role="strong">Options</emphasis>.</simpara>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>Select the <emphasis role="strong">Use HTTP proxy</emphasis> check box if your network environment only allows external Internet access or access to content servers through an HTTP proxy. Clear the <emphasis role="strong">Use HTTP proxy</emphasis> check box if an HTTP proxy is not used.</simpara>
</listitem>
<listitem>
<simpara>If you are running Satellite Server or performing internal testing, select the <emphasis role="strong">Satellite URL</emphasis> and  <emphasis role="strong">Custom base URL</emphasis> check boxes and enter the required details.</simpara>
<important>
<itemizedlist>
<listitem>
<simpara>RHEL 9 is supported only with Satellite 6.11 or later. Check the version prior registering the system.</simpara>
</listitem>
<listitem>
<simpara>The <emphasis role="strong">Satellite URL</emphasis> field does not require the HTTP protocol, for example <literal>nameofhost.com</literal>. However, the <emphasis role="strong">Custom base URL</emphasis> field requires the HTTP protocol.</simpara>
</listitem>
<listitem>
<simpara>To change the <emphasis role="strong">Custom base URL</emphasis> after registration, you must unregister, provide the new details, and then re-register.</simpara>
</listitem>
</itemizedlist>
</important>
</listitem>
</orderedlist>
</listitem>
<listitem>
<simpara>Click <guibutton>Register</guibutton> to register the system. When the system is successfully registered and subscriptions are attached, the <emphasis role="strong">Connect to Red Hat</emphasis> window displays the attached subscription details.</simpara>
<note>
<simpara>Depending on the amount of subscriptions, the registration and attachment process might take up to a minute to complete.</simpara>
</note>
</listitem>
<listitem>
<simpara>Click <guibutton>Done</guibutton> to return to the <emphasis role="strong">Installation Summary</emphasis> window.</simpara>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>A <emphasis>Registered</emphasis> message is displayed under <emphasis role="strong">Connect to Red Hat</emphasis>.</simpara>
</listitem>
</orderedlist>
</listitem>
</orderedlist>
</section>
<section xml:id="how-the-default-installation-repo-works-in-cdn_connect-to-red-hat">
<title>Installation source repository after system registration</title>
<simpara role="_abstract">The installation source repository used after system registration is dependent on how the system was booted.</simpara>
<variablelist>
<varlistentry>
<term>System booted from the Boot ISO or the DVD ISO image file</term>
<listitem>
<simpara>If you booted the RHEL installation using either the <literal>Boot ISO</literal> or the <literal>DVD ISO</literal> image file with the default boot parameters, the installation program automatically switches the installation source repository to the CDN after registration.</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>System booted with the <literal>inst.repo=&lt;URL&gt;</literal> boot parameter</term>
<listitem>
<simpara>If you booted the RHEL installation with the <literal>inst.repo=&lt;URL&gt;</literal> boot parameter, the installation program does not automatically switch the installation source repository to the CDN after registration. If you want to use the CDN to install RHEL, you must manually switch the installation source repository to the CDN by selecting the <emphasis role="strong">Red Hat CDN</emphasis> option in the <emphasis role="strong">Installation Source</emphasis> window of the graphical installation. If you do not manually switch to the CDN, the installation program installs the packages from the repository specified on the kernel command line.</simpara>
</listitem>
</varlistentry>
</variablelist>
<important>
<itemizedlist>
<listitem>
<simpara>To switch the installation source repository to the CDN by using the <literal>rhsm</literal> Kickstart command, you must meet the following conditions:</simpara>
<itemizedlist>
<listitem>
<simpara>On the kernel command line, you have used <literal>inst.stage2=<emphasis>&lt;URL&gt;</emphasis></literal> to fetch the installation image but have not specified an installation source using <literal>inst.repo=</literal>.</simpara>
</listitem>
<listitem>
<simpara>In the Kickstart file, you have not specified an installation source by using the <literal>url</literal>, <literal>cdrom</literal>, <literal>harddrive</literal>, <literal>liveimg</literal>, <literal>nfs</literal> and <literal>ostree</literal> setup commands.</simpara>
</listitem>
</itemizedlist>
</listitem>
<listitem>
<simpara>An installation source URL specified using a boot option or included in a Kickstart file takes precedence over the CDN, even if the Kickstart file contains the <literal>rhsm</literal> command with valid credentials. The system is registered, but it is installed from the URL installation source. This ensures that earlier installation processes operate as normal.</simpara>
</listitem>
</itemizedlist>
</important>
</section>
<section xml:id="verifying-registration-from-cdn-using-gui_connect-to-red-hat">
<title>Verifying your system registration from the CDN</title>
<simpara role="_abstract">Use this procedure to verify that your system is registered to the CDN using the GUI.</simpara>
<warning>
<simpara>You can only verify your registration from the CDN if you have <emphasis role="strong">not</emphasis> clicked the <emphasis role="strong">Begin Installation</emphasis> button from the <emphasis role="strong">Installation Summary</emphasis> window. Once the <emphasis role="strong">Begin Installation</emphasis> button is clicked, you cannot return to the Installation Summary window to verify your registration.</simpara>
</warning>
<itemizedlist>
<title>Prerequisite</title>
<listitem>
<simpara>You have completed the registration process as documented in the <link linkend="register-and-install-from-cdn-using-gui_register-and-install-from-cdn">Register and install from CDN using GUI</link> and <emphasis>Registered</emphasis> is displayed under <emphasis role="strong">Connect to Red Hat</emphasis> on the <emphasis role="strong">Installation Summary</emphasis> window.</simpara>
</listitem>
</itemizedlist>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>From the <emphasis role="strong">Installation Summary</emphasis> window, select <emphasis role="strong">Connect to Red Hat</emphasis>.</simpara>
</listitem>
<listitem>
<simpara>The window opens and displays a registration summary:</simpara>
<variablelist>
<varlistentry>
<term>Method</term>
<listitem>
<simpara>The registered account name or activation keys are displayed.</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>System Purpose</term>
<listitem>
<simpara>If set, the role, SLA, and usage details are displayed.</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>Insights</term>
<listitem>
<simpara>If enabled, the Insights details are displayed.</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>Number of subscriptions</term>
<listitem>
<simpara>The number of subscriptions attached are displayed. Note: In the simple content access mode, no subscription being listed is a valid behavior.</simpara>
</listitem>
</varlistentry>
</variablelist>
</listitem>
<listitem>
<simpara>Verify that the registration summary matches the details that were entered.</simpara>
</listitem>
</orderedlist>
<itemizedlist role="_additional-resources">
<title>Additional resources</title>
<listitem>
<simpara><link xl:href="https://access.redhat.com/articles/simple-content-access">Simple Content Access</link></simpara>
</listitem>
</itemizedlist>
</section>
<section xml:id="unregistering-your-system-from-cdn-using-gui_connect-to-red-hat">
<title>Unregistering your system from the CDN</title>
<simpara role="_abstract">Use this procedure to unregister your system from the CDN using the GUI.</simpara>
<warning>
<itemizedlist>
<listitem>
<simpara>You can unregister from the CDN if you have <emphasis role="strong">not</emphasis> clicked the <guibutton>Begin Installation</guibutton> button from the <emphasis role="strong">Installation Summary</emphasis> window. Once the <guibutton>Begin Installation</guibutton> button is clicked, you cannot return to the Installation Summary window to unregister your registration.</simpara>
</listitem>
<listitem>
<simpara>When unregistering, the installation program switches to the first available repository, in the following order:</simpara>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>The URL used in the inst.repo=&lt;URL&gt; boot parameter on the kernel command line.</simpara>
</listitem>
<listitem>
<simpara>An automatically detected repository on the installation media (USB or DVD).</simpara>
</listitem>
</orderedlist>
</listitem>
</itemizedlist>
</warning>
<itemizedlist>
<title>Prerequisite</title>
<listitem>
<simpara>You have completed the registration process as documented in the <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_a_standard_rhel_9_installation/index#register-and-install-from-cdn-using-gui_register-and-install-from-cdn">Registering and installing RHEL from the CDN</link> and <emphasis>Registered</emphasis> is displayed under <emphasis role="strong">Connect to Red Hat</emphasis> on the <emphasis role="strong">Installation Summary</emphasis> window.</simpara>
</listitem>
</itemizedlist>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>From the <emphasis role="strong">Installation Summary</emphasis> window, select <emphasis role="strong">Connect to Red Hat</emphasis>.</simpara>
</listitem>
<listitem>
<simpara>The <emphasis role="strong">Connect to Red Hat</emphasis> window opens and displays a registration summary:</simpara>
<variablelist>
<varlistentry>
<term>Method</term>
<listitem>
<simpara>The registered account name or activation keys used are displayed.</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>System Purpose</term>
<listitem>
<simpara>If set, the role, SLA, and usage details are displayed.</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>Insights</term>
<listitem>
<simpara>If enabled, the Insights details are displayed.</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>Number of subscriptions</term>
<listitem>
<simpara>The number of subscriptions attached are displayed. Note: In the simple content access mode, no subscription being listed is a valid behavior.</simpara>
</listitem>
</varlistentry>
</variablelist>
</listitem>
<listitem>
<simpara>Click <guibutton>Unregister</guibutton> to remove the registration from the CDN. The original registration details are displayed with a <emphasis role="strong">Not registered</emphasis> message displayed in the lower-middle part of the window.</simpara>
</listitem>
<listitem>
<simpara>Click <guibutton>Done</guibutton> to return to the <emphasis role="strong">Installation Summary</emphasis> window.</simpara>
</listitem>
<listitem>
<simpara><emphasis role="strong">Connect to Red Hat</emphasis> displays a <emphasis>Not registered</emphasis> message, and <emphasis role="strong">Software Selection</emphasis> displays a <emphasis>Red Hat CDN requires registration</emphasis> message.</simpara>
</listitem>
</orderedlist>
<note>
<simpara>After unregistering, it is possible to register your system again. Click <emphasis role="strong">Connect to Red Hat</emphasis>. The previously entered details are populated. Edit the original details, or update the fields based on the account, purpose, and connection. Click <guibutton>Register</guibutton> to complete.</simpara>
</note>
</section>
<section xml:id="related-information-connect-to-red-hat" role="_additional-resources">
<title>Additional resources</title>
<itemizedlist>
<listitem>
<simpara>For information about Red Hat Insights, see the <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_insights/"><emphasis>Red Hat Insights product documentation</emphasis></link>.</simpara>
</listitem>
<listitem>
<simpara>For information about Activation Keys, see the <link xl:href="https://access.redhat.com/documentation/en-us/subscription_central/2021/html/creating_and_managing_activation_keys"><emphasis>Understanding Activation Keys</emphasis></link> chapter of the <emphasis>Using Red Hat Subscription Management</emphasis> document.</simpara>
</listitem>
<listitem>
<simpara>For information about how to set up an HTTP proxy for Subscription Manager, see the <literal>PROXY CONFIGURATION</literal> section in the <literal>subscription-manager</literal> man page.</simpara>
</listitem>
</itemizedlist>
</section>
</section>
<section xml:id="security-policy_configuring-system-settings">
<title>Installing System Aligned with a Security Policy</title>
<simpara>This section contains information about applying Red Hat Enterprise Linux 9 security policy during installation and how to configure it for use on your system before the first boot.</simpara>
<section xml:id="about-security-policy_security-policy">
<title>About security policy</title>
<simpara role="_abstract">The Red Hat Enterprise Linux includes OpenSCAP suite to enable automated configuration of the system in alignment with a particular security policy. The policy is implemented using the Security Content Automation Protocol (SCAP) standard. The packages are available in the AppStream repository. However, by default, the installation and post-installation process does not enforce any policies and therefore does not involve any checks unless specifically configured.</simpara>
<simpara>Applying a security policy is not a mandatory feature of the installation program. If you apply a security policy to the system, it is installed using restrictions and recommendations defined in the profile that you selected. The <literal role="package">openscap-scanner</literal> and <literal role="package">scap-security-guide</literal> packages are added to your package selection, providing a preinstalled tool for compliance and vulnerability scanning.</simpara>
<simpara>When you select a security policy, the Anaconda GUI installer requires the configuration to adhere to the policy&#8217;s requirements. There might be conflicting package selections, as well as separate partitions defined. Only after all the requirements are met, you can start the installation.</simpara>
<simpara>At the end of the installation process, the selected OPenSCAP security policy automatically hardens the system and scans it to verify compliance, saving the scan results to the <literal>/root/openscap_data</literal> directory on the installed system.</simpara>
<note>
<simpara>By default, the installer uses the content of the <literal>scap-security-guide</literal> package bundled in the installation image. You can also load external content from an HTTP, HTTPS, or FTP server.</simpara>
</note>
</section>
<section xml:id="configuring-security-policy_security-policy">
<title>Configuring a security policy</title>
<simpara role="_abstract">Complete the following steps to configure a security policy.</simpara>
<formalpara>
<title>Prerequisite</title>
<para>The <emphasis role="strong">Installation Summary</emphasis> window is open.</para>
</formalpara>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>From the <emphasis role="strong">Installation Summary</emphasis> window, click <emphasis role="strong">Security Policy</emphasis>. The <emphasis role="strong">Security Policy</emphasis> window opens.</simpara>
</listitem>
<listitem>
<simpara>To enable security policies on the system, toggle the <emphasis role="strong">Apply security policy</emphasis> switch to <emphasis role="strong">ON</emphasis>.</simpara>
</listitem>
<listitem>
<simpara>Select one of the profiles listed in the top pane.</simpara>
</listitem>
<listitem>
<simpara>Click <guibutton>Select profile</guibutton>.</simpara>
<simpara>Profile changes that you must apply before installation appear in the bottom pane.</simpara>
</listitem>
<listitem>
<simpara>Click <guibutton>Change content</guibutton> to use a custom profile.
A separate window opens allowing you to enter a URL for valid security content.</simpara>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>Click <guibutton>Fetch</guibutton> to retrieve the URL.</simpara>
</listitem>
<listitem>
<simpara>Click <guibutton>Use SCAP Security Guide</guibutton> to return to the <emphasis role="strong">Security Policy</emphasis> window.</simpara>
<note>
<simpara>You can load custom profiles from an <emphasis role="strong">HTTP</emphasis>, <emphasis role="strong">HTTPS</emphasis>, or <emphasis role="strong">FTP</emphasis> server. Use the full address of the content including the protocol, such as <emphasis role="strong">http://</emphasis>. A network connection must be active before you can load a custom profile. The installation program detects the content type automatically.</simpara>
</note>
</listitem>
</orderedlist>
</listitem>
<listitem>
<simpara>Click <guibutton>Done</guibutton> to apply the settings and return to the <emphasis role="strong">Installation Summary</emphasis> window.</simpara>
</listitem>
</orderedlist>
</section>
<section xml:id="related-information-security-policy" role="_additional-resources">
<title>Additional resources</title>
<itemizedlist>
<listitem>
<simpara><literal role="literal">scap-security-guide(8)</literal> - The manual page for the <literal role="literal">scap-security-guide</literal> project contains information about SCAP security profiles, including examples on how to utilize the provided benchmarks using the OpenSCAP utility.</simpara>
</listitem>
<listitem>
<simpara>Red Hat Enterprise Linux security compliance information is available in the <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/security_hardening/index/"><emphasis>Security hardening</emphasis></link> document.</simpara>
</listitem>
</itemizedlist>
</section>
</section>
</section>
<section xml:id="configuring-software-settings_graphical-installation">
<title>Configuring software settings</title>
<simpara>This section contains information about configuring your installation source and software selection settings, and activating a repository.</simpara>
<section xml:id="configuring-installation-source_configuring-software-settings">
<title>Configuring installation source</title>
<simpara role="_abstract">Complete the steps in this procedure to configure an installation source from either auto-detected installation media, Red Hat CDN, or the network.</simpara>
<note>
<simpara>When the <emphasis role="strong">Installation Summary</emphasis> window first opens, the installation program attempts to configure an installation source based on the type of media that was used to boot the system. The full Red Hat Enterprise Linux Server DVD configures the source as local media.</simpara>
</note>
<itemizedlist>
<title>Prerequisites</title>
<listitem>
<simpara>You have downloaded the full installation image. For more information, see <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_a_standard_rhel_9_installation/index#downloading-a-specific-beta-iso-image_downloading-beta-installation-images">Downloading a RHEL installation ISO image</link>.</simpara>
</listitem>
<listitem>
<simpara>You have created a bootable physical media. For more information, see <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_a_standard_rhel_9_installation/index#making-an-installation-cd-or-dvd_assembly_creating-a-bootable-installation-medium">Creating a bootable CD or DVD</link>.</simpara>
</listitem>
<listitem>
<simpara>The <emphasis role="strong">Installation Summary</emphasis> window is open.</simpara>
</listitem>
</itemizedlist>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>From the <emphasis role="strong">Installation Summary</emphasis> window, click <emphasis role="strong">Installation Source</emphasis>. The <emphasis role="strong">Installation Source</emphasis> window opens.</simpara>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>Review the <emphasis role="strong">Auto-detected installation media</emphasis> section to verify the details. This option is selected by default if you started the installation program from media containing an installation source, for example, a DVD.</simpara>
</listitem>
<listitem>
<simpara>Click <guibutton>Verify</guibutton> to check the media integrity.</simpara>
</listitem>
<listitem>
<simpara>Review the <emphasis role="strong">Additional repositories</emphasis> section and note that the <emphasis role="strong">AppStream</emphasis> checkbox is selected by default.</simpara>
<important>
<itemizedlist>
<listitem>
<simpara><emphasis role="strong">No additional configuration is necessary as the BaseOS and AppStream repositories are installed as part of the full installation image.</emphasis></simpara>
</listitem>
<listitem>
<simpara><emphasis role="strong">Do not disable the AppStream repository check box if you want a full Red Hat Enterprise Linux 9 installation.</emphasis></simpara>
</listitem>
</itemizedlist>
</important>
</listitem>
</orderedlist>
</listitem>
<listitem>
<simpara>Optional: Select the <emphasis role="strong">Red Hat CDN</emphasis> option to register your system, attach RHEL subscriptions, and install RHEL from the Red Hat Content Delivery Network (CDN). For more information, see the <emphasis>Registering and installing RHEL from the CDN</emphasis> section.</simpara>
</listitem>
<listitem>
<simpara>Optional: Select the <emphasis role="strong">On the network</emphasis> option to download and install packages from a network location instead of local media.</simpara>
<note>
<itemizedlist>
<listitem>
<simpara>If you do not want to download and install additional repositories from a network location, proceed to <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_a_standard_rhel_9_installation/index#configuring-software-selection_configuring-software-settings">Configuring software selection</link>.</simpara>
</listitem>
<listitem>
<simpara>This option is available only when a network connection is active. See <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_a_standard_rhel_9_installation/index#network-hostname_configuring-system-settings">Configuring network and host name options</link> for information about how to configure network connections in the GUI.</simpara>
</listitem>
</itemizedlist>
</note>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>Select the <emphasis role="strong">On the network</emphasis> drop-down menu to specify the protocol for downloading packages. This setting depends on the server that you want to use.</simpara>
</listitem>
<listitem>
<simpara>Type the server address (without the protocol) into the address field. If you choose NFS, a second input field opens where you can specify custom <emphasis role="strong">NFS mount options</emphasis>. This field accepts options listed in the <literal>nfs(5)</literal> man page.</simpara>
<important>
<simpara>When selecting an NFS installation source, you must specify the address with a colon (<literal>:</literal>) character separating the host name from the path. For example:</simpara>
<screen><literal><emphasis>server.example.com</emphasis>:<emphasis>/path/to/directory</emphasis></literal></screen>
</important>
<note>
<simpara>The following steps are optional and are only required if you use a proxy for network access.</simpara>
</note>
</listitem>
<listitem>
<simpara>Click <guibutton>Proxy setup&#8230;&#8203;</guibutton> to configure a proxy for an HTTP or HTTPS source.</simpara>
</listitem>
<listitem>
<simpara>Select the <emphasis role="strong">Enable HTTP proxy</emphasis> check box and type the URL into the <emphasis role="strong">Proxy Host</emphasis> field.</simpara>
</listitem>
<listitem>
<simpara>Select the <emphasis role="strong">Use Authentication</emphasis> check box if the proxy server requires authentication.</simpara>
</listitem>
<listitem>
<simpara>Type in your user name and password.</simpara>
</listitem>
<listitem>
<simpara>Click <guibutton>OK</guibutton> to finish the configuration and exit the <emphasis role="strong">Proxy Setup&#8230;&#8203;</emphasis> dialog box.</simpara>
<note>
<simpara>If your HTTP or HTTPS URL refers to a repository mirror, select the required option from the <emphasis role="strong">URL type</emphasis> drop-down list. All environments and additional software packages are available for selection when you finish configuring the sources.</simpara>
</note>
</listitem>
</orderedlist>
</listitem>
<listitem>
<simpara>Click <guibutton>+</guibutton> to add a repository.</simpara>
</listitem>
<listitem>
<simpara>Click <guibutton>-</guibutton> to delete a repository.</simpara>
</listitem>
<listitem>
<simpara>Click the <guibutton>arrow</guibutton> icon to revert the current entries to the setting when you opened the <emphasis role="strong">Installation Source</emphasis> window.</simpara>
</listitem>
<listitem>
<simpara>To activate or deactivate a repository, click the check box in the <emphasis role="strong">Enabled</emphasis> column for each entry in the list.</simpara>
<note>
<simpara>You can name and configure your additional repository in the same way as the primary repository on the network.</simpara>
</note>
</listitem>
<listitem>
<simpara>Click <guibutton>Done</guibutton> to apply the settings and return to the <emphasis role="strong">Installation Summary</emphasis> window.</simpara>
</listitem>
</orderedlist>
</section>
<section xml:id="configuring-software-selection_configuring-software-settings">
<title>Configuring software selection</title>
<simpara role="_abstract">Use the <emphasis role="strong">Software Selection</emphasis> window to select the software packages that you require. The packages are organized by Base Environment and Additional Software.</simpara>
<itemizedlist>
<listitem>
<simpara><emphasis role="strong">Base Environment</emphasis> contains predefined packages. You can select only one base environment, for example, Server with GUI (default), Server, Minimal Install, Workstation, Custom Operating System, Virtualization Host. The availability is dependent on the installation ISO image that is used as the installation source.</simpara>
</listitem>
<listitem>
<simpara><emphasis role="strong">Additional Software for Selected Environment</emphasis> contains additional software packages for the base environment. You can select multiple software packages.</simpara>
</listitem>
</itemizedlist>
<simpara>Use a predefined environment and additional software to customize your system. However, in a standard installation, you cannot select individual packages to install. To view the packages contained in a specific environment, see the <literal role="filename"><emphasis>repository</emphasis>/repodata/*-comps-<emphasis>repository</emphasis>.<emphasis>architecture</emphasis>.xml</literal> file on your installation source media (DVD, CD, USB). The XML file contains details of the packages installed as part of a base environment. Available environments are marked by the <literal>&lt;environment&gt;</literal> tag, and additional software packages are marked by the <literal>&lt;group&gt;</literal> tag.</simpara>
<simpara>If you are unsure about which packages to install, Red Hat recommends that you select the <emphasis role="strong">Minimal Install</emphasis> base environment. Minimal install installs a basic version of Red Hat Enterprise Linux with only a minimal amount of additional software. After the system finishes installing and you log in for the first time, you can use the <emphasis role="strong">DNF package manager</emphasis> to install additional software.
For more information about DNF package manager, see the <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/configuring_basic_system_settings/index/"><emphasis>Configuring basic system settings</emphasis></link> document.</simpara>
<note>
<itemizedlist>
<listitem>
<simpara>The <literal>dnf group list</literal> command lists all package groups from dnf repositories. See the <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/configuring_basic_system_settings/index/"><emphasis>Configuring basic system settings</emphasis></link> document for more information.</simpara>
</listitem>
<listitem>
<simpara>If you need to control which packages are installed, you can use a Kickstart file and define the packages in the <literal>%packages</literal> section. See the <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_an_advanced_rhel_9_installation/index/"><emphasis>Performing an advanced RHEL 9 installation</emphasis></link> document for information about installing Red Hat Enterprise Linux using Kickstart.</simpara>
</listitem>
<listitem>
<simpara>By default, RHEL 9 does not install the TuneD package. You can manually install the TuneD package using the <literal>dnf install tuned</literal> command.</simpara>
</listitem>
</itemizedlist>
</note>
<itemizedlist>
<title>Prerequisites</title>
<listitem>
<simpara>You have configured the installation source.</simpara>
</listitem>
<listitem>
<simpara>The installation program has downloaded package metadata.</simpara>
</listitem>
<listitem>
<simpara>The <emphasis role="strong">Installation Summary</emphasis> window is open.</simpara>
</listitem>
</itemizedlist>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>From the <emphasis role="strong">Installation Summary</emphasis> window, click <emphasis role="strong">Software Selection</emphasis>. The <emphasis role="strong">Software Selection</emphasis> window opens.</simpara>
</listitem>
<listitem>
<simpara>From the <emphasis role="strong">Base Environment</emphasis> pane, select a base environment. You can select only one base environment, for example, Server with GUI (default), Server, Minimal Install, Workstation, Custom Operating System, Virtualization Host.</simpara>
<note>
<simpara>The <emphasis role="strong">Server with GUI</emphasis> base environment is the default base environment and it launches the <emphasis role="strong">Initial Setup</emphasis> application after the installation completes and you restart the system.</simpara>
</note>
<figure>
<title>Red Hat Enterprise Linux Software Selection</title>
<mediaobject>
<imageobject>
<imagedata fileref="images/software-selection-rhel-9.png"/>
</imageobject>
<textobject><phrase>Base Environment</phrase></textobject>
</mediaobject>
</figure>
</listitem>
<listitem>
<simpara>Optional: For installations on ARM based systems, select desired <emphasis role="strong">Page size</emphasis> from <emphasis role="strong">Kernel Options</emphasis>.</simpara>
<simpara>By default, it selects Kernel with a <emphasis role="strong">4k</emphasis> page size.</simpara>
<informalfigure>
<mediaobject>
<imageobject>
<imagedata fileref="images/software-selection-kernel-options-rhel-9.png"/>
</imageobject>
<textobject><phrase>Base Environment</phrase></textobject>
</mediaobject>
</informalfigure>
</listitem>
<listitem>
<simpara>From the <emphasis role="strong">Additional Software for Selected Environment</emphasis> pane, select one or more options.</simpara>
</listitem>
<listitem>
<simpara>Click <guibutton>Done</guibutton> to apply the settings and return to <link linkend="graphical-installation_graphical-installation">Graphical installations</link>.</simpara>
</listitem>
</orderedlist>
<itemizedlist role="_additional-resources">
<title>Additional resources</title>
<listitem>
<simpara><link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_monitoring_and_updating_the_kernel/what-is-kernel-64k_managing-monitoring-and-updating-the-kernel">The 4k and 64k page size Kernel Options</link></simpara>
</listitem>
</itemizedlist>
</section>
</section>
<section xml:id="storage-devices_graphical-installation">
<title>Configuring storage devices</title>
<simpara>You can install Red Hat Enterprise Linux on a large variety of storage devices. You can configure basic, locally accessible, storage devices in the <emphasis role="strong">Installation Destination</emphasis> window. Basic storage devices directly connected to the local system, such as hard disk drives and solid-state drives, are displayed in the <emphasis role="strong">Local Standard Disks</emphasis> section of the window.
On 64-bit IBM Z, this section contains activated Direct Access Storage Devices (DASDs).</simpara>
<warning>
<simpara>A known issue prevents DASDs configured as HyperPAV aliases from being automatically attached to the system after the installation is complete. These storage devices are available during the installation, but are not immediately accessible after you finish installing and reboot. To attach HyperPAV alias devices, add them manually to the <literal>/etc/dasd.conf</literal> configuration file of the system.</simpara>
</warning>
<section xml:id="configuring-advanced-storage-options_storage-devices">
<title>Using advanced storage options</title>
<simpara role="_abstract">To use an advanced storage device, you can configure an iSCSI (SCSI over TCP/IP) target or FCoE (Fibre Channel over Ethernet) SAN (Storage Area Network).</simpara>
<simpara>To use iSCSI storage devices for the installation, the installation program must be able to discover them as iSCSI targets and be able to create an iSCSI session to access them. Each of these steps might require a user name and password for Challenge Handshake Authentication Protocol (CHAP) authentication. Additionally, you can configure an iSCSI target to authenticate the iSCSI initiator on the system to which the target is attached (reverse CHAP), both for discovery and for the session. Used together, CHAP and reverse CHAP are called mutual CHAP or two-way CHAP. Mutual CHAP provides the greatest level of security for iSCSI connections, particularly if the user name and password are different for CHAP authentication and reverse CHAP authentication.</simpara>
<note>
<simpara>Repeat the iSCSI discovery and iSCSI login steps to add all required iSCSI storage. You cannot change the name of the iSCSI initiator after you attempt discovery for the first time. To change the iSCSI initiator name, you must restart the installation.</simpara>
</note>
<section xml:id="starting-an-iscsi-session_storage-devices">
<title>Discovering and starting an iSCSI session</title>
<simpara role="_abstract">Complete the following steps to discover and start an iSCSI session.</simpara>
<itemizedlist>
<title>Prerequisites</title>
<listitem>
<simpara>The <emphasis role="strong">Installation Summary</emphasis> window is open.</simpara>
</listitem>
</itemizedlist>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>From the <emphasis role="strong">Installation Summary</emphasis> window, click <emphasis role="strong">Installation Destination</emphasis>. The <emphasis role="strong">Installation Destination</emphasis> window opens, listing all available drives.</simpara>
</listitem>
<listitem>
<simpara>Under the <emphasis role="strong">Specialized &amp; Network Disks</emphasis> section, click <guibutton>Add a disk&#8230;&#8203;</guibutton>. The storage devices selection window opens.</simpara>
</listitem>
<listitem>
<simpara>Click <guibutton>Add iSCSI target&#8230;&#8203;</guibutton>. The <emphasis role="strong">Add iSCSI Storage Target</emphasis> window opens.</simpara>
<important>
<simpara>You cannot place the <literal>/boot</literal> partition on iSCSI targets that you have manually added using this method - an iSCSI target containing a <literal>/boot</literal> partition must be configured for use with iBFT.
However, in instances where the installed system is expected to boot from iSCSI with iBFT configuration provided by a method other than firmware iBFT, for example using iPXE, you can remove the <literal>/boot</literal> partition restriction using the <literal role="option">inst.nonibftiscsiboot</literal> installer boot option.</simpara>
</important>
</listitem>
<listitem>
<simpara>Enter the IP address of the iSCSI target in the <emphasis role="strong">Target IP Address</emphasis> field.</simpara>
</listitem>
<listitem>
<simpara>Type a name in the <emphasis role="strong">iSCSI Initiator Name</emphasis> field for the iSCSI initiator in iSCSI qualified name (IQN) format. A valid IQN entry contains the following information:</simpara>
<itemizedlist>
<listitem>
<simpara>The string <literal>iqn.</literal> (note the period).</simpara>
</listitem>
<listitem>
<simpara>A date code that specifies the year and month in which your organization&#8217;s Internet domain or subdomain name was registered, represented as four digits for the year, a dash, and two digits for the month, followed by a period. For example, represent September 2010 as <literal>2010-09.</literal></simpara>
</listitem>
<listitem>
<simpara>Your organization&#8217;s Internet domain or subdomain name, presented in reverse order with the top-level domain first. For example, represent the subdomain <literal>storage.example.com</literal> as <literal>com.example.storage</literal>.</simpara>
</listitem>
<listitem>
<simpara>A colon followed by a string that uniquely identifies this particular iSCSI initiator within your domain or subdomain. For example, <literal>:diskarrays-sn-a8675309</literal>.</simpara>
<simpara>A complete IQN is as follows: <literal>iqn.2010-09.storage.example.com:diskarrays-sn-a8675309</literal>. The installation program prepopulates the <literal>iSCSI Initiator Name</literal> field with a name in this format to help you with the structure. For more information about IQNs, see <emphasis><phrase role="citetitle">3.2.6. iSCSI Names</phrase></emphasis> in <emphasis><phrase role="citetitle">RFC 3720 - Internet Small Computer Systems Interface (iSCSI)</phrase></emphasis> available from tools.ietf.org and <emphasis><phrase role="citetitle">1. iSCSI Names and Addresses</phrase></emphasis> in <emphasis><phrase role="citetitle">RFC 3721 - Internet Small Computer Systems Interface (iSCSI) Naming and Discovery</phrase></emphasis> available from tools.ietf.org.</simpara>
</listitem>
</itemizedlist>
</listitem>
<listitem>
<simpara>Select the <literal>Discovery Authentication Type</literal> drop-down menu to specify the type of authentication to use for iSCSI discovery. The following options are available:</simpara>
<itemizedlist>
<listitem>
<simpara>No credentials</simpara>
</listitem>
<listitem>
<simpara>CHAP pair</simpara>
</listitem>
<listitem>
<simpara>CHAP pair and a reverse pair</simpara>
</listitem>
</itemizedlist>
</listitem>
<listitem>
<simpara></simpara>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>If you selected <literal>CHAP pair</literal> as the authentication type, enter the user name and password for the iSCSI target in the <literal>CHAP Username</literal> and <literal>CHAP Password</literal> fields.</simpara>
</listitem>
<listitem>
<simpara>If you selected <literal>CHAP pair and a reverse pair</literal> as the authentication type, enter the user name and password for the iSCSI target in the <literal>CHAP Username</literal> and <literal>CHAP Password</literal> field, and the user name and password for the iSCSI initiator in the <literal>Reverse CHAP Username</literal> and <literal>Reverse CHAP Password</literal> fields.</simpara>
</listitem>
</orderedlist>
</listitem>
<listitem>
<simpara>Optionally, select the <literal>Bind targets to network interfaces</literal> check box.</simpara>
</listitem>
<listitem>
<simpara>Click <guibutton>Start Discovery</guibutton>.</simpara>
<simpara>The installation program attempts to discover an iSCSI target based on the information provided.
If discovery succeeds, the <literal>Add iSCSI Storage Target</literal> window displays a list of all iSCSI nodes discovered on the target.</simpara>
</listitem>
<listitem>
<simpara>Select the check boxes for the node that you want to use for installation.</simpara>
<note>
<simpara>The <literal>Node login authentication type</literal> menu contains the same options as the <literal>Discovery Authentication Type</literal> menu. However, if you need credentials for discovery authentication, use the same credentials to log in to a discovered node.</simpara>
</note>
</listitem>
<listitem>
<simpara>Click the additional <literal>Use the credentials from discovery</literal> drop-down menu. When you provide the proper credentials, the <guibutton>Log In</guibutton> button becomes available.</simpara>
</listitem>
<listitem>
<simpara>Click <guibutton>Log In</guibutton> to initiate an iSCSI session.</simpara>
</listitem>
</orderedlist>
</section>
<section xml:id="configuring-fcoe-parameters_storage-devices">
<title>Configuring FCoE parameters</title>
<simpara role="_abstract">Complete the following steps to configure FCoE parameters.</simpara>
<formalpara>
<title>Prerequisite</title>
<para>The <emphasis role="strong">Installation Summary</emphasis> window is open.</para>
</formalpara>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>From the <emphasis role="strong">Installation Summary</emphasis> window, click <emphasis role="strong">Installation Destination</emphasis>. The <emphasis role="strong">Installation Destination</emphasis> window opens, listing all available drives.</simpara>
</listitem>
<listitem>
<simpara>Under the <emphasis role="strong">Specialized &amp; Network Disks</emphasis> section, click <guibutton>Add a disk</guibutton>. The storage devices selection window opens.</simpara>
</listitem>
<listitem>
<simpara>Click <guibutton>Add FCoE SAN&#8230;&#8203;</guibutton>. A dialog box opens for you to configure network interfaces for discovering FCoE storage devices.</simpara>
</listitem>
<listitem>
<simpara>Select a network interface that is connected to an FCoE switch in the <literal>NIC</literal> drop-down menu.</simpara>
</listitem>
<listitem>
<simpara>Click <guibutton>Add FCoE disk(s)</guibutton> to scan the network for SAN devices.</simpara>
</listitem>
<listitem>
<simpara>Select the required check boxes:</simpara>
<itemizedlist>
<listitem>
<simpara><emphasis role="strong">Use DCB:</emphasis>
<emphasis>Data Center Bridging</emphasis> (DCB) is a set of enhancements to the Ethernet protocols designed to increase the efficiency of Ethernet connections in storage networks and clusters. Select the check box to enable or disable the installation program&#8217;s awareness of DCB. Enable this option only for network interfaces that require a host-based DCBX client. For configurations on interfaces that use a hardware DCBX client, disable the check box.</simpara>
</listitem>
<listitem>
<simpara><emphasis role="strong">Use auto vlan:</emphasis>
<emphasis>Auto VLAN</emphasis> is enabled by default and indicates whether VLAN discovery should be performed. If this check box is enabled, then the FIP (FCoE Initiation Protocol) VLAN discovery protocol runs on the Ethernet interface when the link configuration has been validated. If they are not already configured, network interfaces for any discovered FCoE VLANs are automatically created and FCoE instances are created on the VLAN interfaces.</simpara>
</listitem>
</itemizedlist>
</listitem>
<listitem>
<simpara>Discovered FCoE devices are displayed under the <literal>Other SAN Devices</literal> tab in the <emphasis role="strong">Installation Destination</emphasis> window.</simpara>
</listitem>
</orderedlist>
</section>
<section xml:id="configuring-dasd-storage-devices_storage-devices">
<title>Configuring DASD storage devices</title>
<simpara role="_abstract">Complete the following steps to configure DASD storage devices.</simpara>
<formalpara>
<title>Prerequisite</title>
<para>The <emphasis role="strong">Installation Summary</emphasis> window is open.</para>
</formalpara>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>From the <emphasis role="strong">Installation Summary</emphasis> window, click <emphasis role="strong">Installation Destination</emphasis>. The <emphasis role="strong">Installation Destination</emphasis> window opens, listing all available drives.</simpara>
</listitem>
<listitem>
<simpara>Under the <emphasis role="strong">Specialized &amp; Network Disks</emphasis> section, click <guibutton>Add a disk</guibutton>. The storage devices selection window opens.</simpara>
</listitem>
<listitem>
<simpara>Click <guibutton>Add DASD</guibutton>. The <emphasis role="strong">Add DASD Storage Target</emphasis> dialog box opens and prompts you to specify a device number, such as <emphasis role="strong">0.0.0204</emphasis>, and attach additional DASDs that were not detected when the installation started.</simpara>
</listitem>
<listitem>
<simpara>Type the device number of the DASD that you want to attach in the <emphasis role="strong">Device number</emphasis> field.</simpara>
</listitem>
<listitem>
<simpara>Click <guibutton>Start Discovery</guibutton>.</simpara>
</listitem>
</orderedlist>
<note>
<itemizedlist>
<listitem>
<simpara>If a DASD with the specified device number is found and if it is not already attached, the dialog box closes and the newly-discovered drives appear in the list of drives. You can then select the check boxes for the required devices and click <guibutton>Done</guibutton>. The new DASDs are available for selection, marked as <literal>DASD device 0.0.<emphasis>xxxx</emphasis></literal> in the <emphasis role="strong">Local Standard Disks</emphasis> section of the <emphasis role="strong">Installation Destination</emphasis> window.</simpara>
</listitem>
<listitem>
<simpara>If you entered an invalid device number, or if the DASD with the specified device number is already attached to the system, an error message appears in the dialog box, explaining the error and prompting you to try again with a different device number.</simpara>
</listitem>
</itemizedlist>
</note>
</section>
<section xml:id="configuring-fcp-devices_storage-devices">
<title>Configuring FCP devices</title>
<simpara role="_abstract">FCP devices enable 64-bit IBM Z to use SCSI devices rather than, or in addition to, Direct Access Storage Device (DASD) devices. FCP devices provide a switched fabric topology that enables 64-bit IBM Z systems to use SCSI LUNs as disk devices in addition to traditional DASD devices.</simpara>
<itemizedlist>
<title>Prerequisites</title>
<listitem>
<simpara>The <emphasis role="strong">Installation Summary</emphasis> window is open.</simpara>
</listitem>
<listitem>
<simpara>For an FCP-only installation, you have removed the <literal>DASD=</literal> option from the CMS configuration file or the <literal>rd.dasd=</literal> option from the parameter file to indicate that no DASD is present.</simpara>
</listitem>
</itemizedlist>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>From the <emphasis role="strong">Installation Summary</emphasis> window, click <emphasis role="strong">Installation Destination</emphasis>. The <emphasis role="strong">Installation Destination</emphasis> window opens, listing all available drives.</simpara>
</listitem>
<listitem>
<simpara>Under the <emphasis role="strong">Specialized &amp; Network Disks</emphasis> section, click <guibutton>Add a disk</guibutton>. The storage devices selection window opens.</simpara>
</listitem>
<listitem>
<simpara>Click <guibutton>Add ZFCP LUN</guibutton>. The <emphasis role="strong">Add zFCP Storage Target</emphasis> dialog box opens allowing you to add a FCP (Fibre Channel Protocol) storage device.</simpara>
<simpara>64-bit IBM Z requires that you enter any FCP device manually so that the installation program can activate FCP LUNs. You can enter FCP devices either in the graphical installation, or as a unique parameter entry in the parameter or CMS configuration file. The values that you enter must be unique to each site that you configure.</simpara>
</listitem>
<listitem>
<simpara>Type the 4 digit hexadecimal device number in the <emphasis role="strong">Device number</emphasis> field.</simpara>
</listitem>
<listitem>
<simpara>When installing RHEL-9.0 or older releases or if the <literal>zFCP</literal> device is not configured in NPIV mode, or when <literal>auto LUN</literal> scanning is disabled by the <literal>zfcp.allow_lun_scan=0</literal> kernel module parameter, provide the following values:</simpara>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>Type the 16 digit hexadecimal World Wide Port Number (WWPN) in the <emphasis role="strong">WWPN</emphasis> field.</simpara>
</listitem>
<listitem>
<simpara>Type the 16 digit hexadecimal FCP LUN identifier in the <emphasis role="strong">LUN</emphasis> field.</simpara>
</listitem>
</orderedlist>
</listitem>
<listitem>
<simpara>Click <guibutton>Start Discovery</guibutton> to connect to the FCP device.</simpara>
</listitem>
</orderedlist>
<simpara>The newly-added devices are displayed in the <emphasis role="strong">System z Devices</emphasis> tab of the <emphasis role="strong">Installation Destination</emphasis> window.</simpara>
<note>
<itemizedlist>
<listitem>
<simpara>Interactive creation of an FCP device is only possible in graphical mode. It is not possible to configure an FCP device interactively in text mode installation.</simpara>
</listitem>
<listitem>
<simpara>Use only lower-case letters in hex values. If you enter an incorrect value and click <guibutton>Start Discovery</guibutton>, the installation program displays a warning. You can edit the configuration information and retry the discovery attempt.</simpara>
</listitem>
<listitem>
<simpara>For more information about these values, consult the hardware documentation and check with your system administrator.</simpara>
</listitem>
</itemizedlist>
</note>
</section>
</section>
<section xml:id="installing-to-a-nvdimm-device_storage-devices">
<title>Installing to an NVDIMM device</title>
<simpara>Non-Volatile Dual In-line Memory Module (NVDIMM) devices combine the performance of RAM with disk-like data persistence when no power is supplied. Under specific circumstances, Red Hat Enterprise Linux 9 can boot and run from NVDIMM devices.</simpara>
<section xml:id="criteria-for-using-an-nvdimm-device-as-an-installation-target_installing-to-a-nvdimm-device">
<title>Criteria for using an NVDIMM device as an installation target</title>
<simpara role="_abstract">You can install Red Hat Enterprise Linux 9 to Non-Volatile Dual In-line Memory Module (NVDIMM) devices in sector mode on the Intel 64 and AMD64 architectures, supported by the <emphasis role="strong">nd_pmem</emphasis> driver.</simpara>
<formalpara>
<title>Conditions for using an NVDIMM device as storage</title>
<para>To use an NVDIMM device as storage, the following conditions must be satisfied:</para>
</formalpara>
<itemizedlist>
<listitem>
<simpara>The architecture of the system is Intel 64 or AMD64.</simpara>
</listitem>
<listitem>
<simpara>The NVDIMM device is configured to sector mode. The installation program can reconfigure NVDIMM devices to this mode.</simpara>
</listitem>
<listitem>
<simpara>The NVDIMM device must be supported by the <emphasis role="strong">nd_pmem</emphasis> driver.</simpara>
</listitem>
</itemizedlist>
<formalpara>
<title>Conditions for booting from an NVDIMM Device</title>
<para>Booting from an NVDIMM device is possible under the following conditions:</para>
</formalpara>
<itemizedlist>
<listitem>
<simpara>All conditions for using the NVDIMM device as storage are satisfied.</simpara>
</listitem>
<listitem>
<simpara>The system uses UEFI.</simpara>
</listitem>
<listitem>
<simpara>The NVDIMM device must be supported by firmware available on the system, or by an UEFI driver. The UEFI driver may be loaded from an option ROM of the device itself.</simpara>
</listitem>
<listitem>
<simpara>The NVDIMM device must be made available under a namespace.</simpara>
</listitem>
</itemizedlist>
<simpara>Utilize the high performance of NVDIMM devices during booting, place the <literal role="filename">/boot</literal> and <literal role="filename">/boot/efi</literal> directories on the device. The Execute-in-place (XIP) feature of NVDIMM devices is not supported during booting and the kernel is loaded into conventional memory.</simpara>
</section>
<section xml:id="configuring-an-nvdimm-device-using-anaconda_installing-to-a-nvdimm-device">
<title>Configuring an NVDIMM device using the graphical installation mode</title>
<simpara role="_abstract">A Non-Volatile Dual In-line Memory Module (NVDIMM) device must be properly configured for use by Red Hat Enterprise Linux 9 using the graphical installation.</simpara>
<warning>
<simpara>Reconfiguration of a NVDIMM device process destroys any data stored on the device.</simpara>
</warning>
<itemizedlist>
<title>Prerequisites</title>
<listitem>
<simpara>A NVDIMM device is present on the system and satisfies all the other conditions for usage as an installation target.</simpara>
</listitem>
<listitem>
<simpara>The installation has booted and the <emphasis role="strong">Installation Summary</emphasis> window is open.</simpara>
</listitem>
</itemizedlist>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>From the <emphasis role="strong">Installation Summary</emphasis> window, click <emphasis role="strong">Installation Destination</emphasis>. The <emphasis role="strong">Installation Destination</emphasis> window opens, listing all available drives.</simpara>
</listitem>
<listitem>
<simpara>Under the <emphasis role="strong">Specialized &amp; Network Disks</emphasis> section, click <guibutton>Add a disk&#8230;&#8203;</guibutton>. The storage devices selection window opens.</simpara>
</listitem>
<listitem>
<simpara>Click the <emphasis role="strong">NVDIMM Devices</emphasis> tab.</simpara>
</listitem>
<listitem>
<simpara>To reconfigure a device, select it from the list.</simpara>
<simpara>If a device is not listed, it is not in sector mode.</simpara>
</listitem>
<listitem>
<simpara>Click <guibutton>Reconfigure NVDIMM&#8230;&#8203;</guibutton>. A reconfiguration dialog opens.</simpara>
</listitem>
<listitem>
<simpara>Enter the sector size that you require and click <guibutton>Start Reconfiguration</guibutton>.</simpara>
<simpara>The supported sector sizes are 512 and 4096 bytes.</simpara>
</listitem>
<listitem>
<simpara>When reconfiguration completes click <guibutton>OK</guibutton>.</simpara>
</listitem>
<listitem>
<simpara>Select the device check box.</simpara>
</listitem>
<listitem>
<simpara>Click <guibutton>Done</guibutton> to return to the <emphasis role="strong">Installation Destination</emphasis> window.</simpara>
<simpara>The NVDIMM device that you reconfigured is displayed in the <emphasis role="strong">Specialized &amp; Network Disks</emphasis> section.</simpara>
</listitem>
<listitem>
<simpara>Click <guibutton>Done</guibutton> to return to the <emphasis role="strong">Installation Summary</emphasis> window.</simpara>
</listitem>
</orderedlist>
<simpara>The NVDIMM device is now available for you to select as an installation target. Additionally, if the device meets the requirements for booting, you can set the device as a boot device.</simpara>
</section>
</section>
</section>
<section xml:id="manual-partitioning_graphical-installation">
<title>Configuring manual partitioning</title>
<simpara>You can use manual partitioning to configure your disk partitions and mount points and define the file system that Red Hat Enterprise Linux is installed on.</simpara>
<note>
<simpara>Before installation, you should consider whether you want to use partitioned or unpartitioned disk devices. For more information about the advantages and disadvantages to using partitioning on LUNs, either directly or with LVM, see the article at <link xl:href="https://access.redhat.com/solutions/163853">https://access.redhat.com/solutions/163853</link>.</simpara>
</note>
<simpara>An installation of Red Hat Enterprise Linux requires a minimum of one partition but Red Hat recommends using at least the following partitions or volumes: <literal>/</literal>, <literal>/home</literal>, <literal>/boot</literal>, and <literal>swap</literal>. You can also create additional partitions and volumes as you require.</simpara>
<warning>
<simpara>To prevent data loss it is recommended that you back up your data before proceeding. If you are upgrading or creating a dual-boot system, you should back up any data you want to keep on your storage devices.</simpara>
</warning>
<section xml:id="starting-manual-partitioning_manual-partitioning">
<title>Starting manual partitioning</title>
<itemizedlist>
<title>Prerequisites</title>
<listitem>
<simpara>The <emphasis role="strong">Installation Summary</emphasis> screen is open.</simpara>
</listitem>
<listitem>
<simpara>All disks are available to the installation program.</simpara>
</listitem>
</itemizedlist>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>Select disks for installation:</simpara>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>Click <emphasis role="strong">Installation Destination</emphasis> to open the <emphasis role="strong">Installation Destination</emphasis> window.</simpara>
</listitem>
<listitem>
<simpara>Select the disks that you require for installation by clicking the corresponding icon. A selected disk has a check-mark displayed on it.</simpara>
</listitem>
<listitem>
<simpara>Under <emphasis role="strong">Storage Configuration</emphasis>, select the <emphasis role="strong">Custom</emphasis> radio-button.</simpara>
</listitem>
<listitem>
<simpara>Optional: To enable storage encryption with LUKS, select the <emphasis role="strong">Encrypt my data</emphasis> check box.</simpara>
</listitem>
<listitem>
<simpara>Click <guibutton>Done</guibutton>.</simpara>
</listitem>
</orderedlist>
</listitem>
<listitem>
<simpara>If you selected to encrypt the storage, a dialog box for entering a disk encryption passphrase opens. Type in the LUKS passphrase:</simpara>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>Enter the passphrase in the two text fields. To switch keyboard layout, use the keyboard icon.</simpara>
<warning>
<simpara>In the dialog box for entering the passphrase, you cannot change the keyboard layout. Select the English keyboard layout to enter the passphrase in the installation program.</simpara>
</warning>
</listitem>
<listitem>
<simpara>Click <guibutton>Save Passphrase</guibutton>. The <emphasis role="strong">Manual Partitioning</emphasis> window opens.</simpara>
</listitem>
</orderedlist>
</listitem>
<listitem>
<simpara>Detected mount points are listed in the left-hand pane. The mount points are organized by detected operating system installations. As a result, some file systems may be displayed multiple times if a partition is shared among several installations.</simpara>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>Select the mount points in the left pane; the options that can be customized are displayed in the right pane.</simpara>
<note>
<itemizedlist>
<listitem>
<simpara>If your system contains existing file systems, ensure that enough space is available for the installation. To remove any partitions, select them in the list and click the <guibutton>-</guibutton> button.</simpara>
<simpara>The dialog has a check box that you can use to remove all other partitions used by the system to which the deleted partition belongs.</simpara>
</listitem>
<listitem>
<simpara>If there are no existing partitions and you want to create the recommended set of partitions as a starting point, select your preferred partitioning scheme from the left pane (default for Red Hat Enterprise Linux is LVM) and click the <emphasis role="strong">Click here to create them automatically</emphasis> link.</simpara>
<simpara>A <literal>/boot</literal> partition, a <literal>/</literal> (root) volume, and a <literal>swap</literal> volume proportionate to the size of the available storage are created and listed in the left pane. These are the recommended file systems for a typical installation, but you can add additional file systems and mount points.</simpara>
</listitem>
</itemizedlist>
</note>
</listitem>
<listitem>
<simpara>Click <guibutton>Done</guibutton> to confirm any changes and return to the <emphasis role="strong">Installation Summary</emphasis> window.</simpara>
</listitem>
</orderedlist>
</listitem>
</orderedlist>
</section>
<section xml:id="adding-a-mount-point_manual-partitioning">
<title>Adding a mount point file system</title>
<simpara role="_abstract">You can add multiple mount point file systems.</simpara>
<itemizedlist>
<title>Prerequisites</title>
<listitem>
<simpara>You have planned your partitions.</simpara>
<informalexample>
<important>
<simpara>To avoid problems with space allocation, you can create small partitions with known fixed sizes, such as <literal>/boot</literal>, and then create the remaining partitions, letting the installation program allocate the remaining capacity to them. If you want to install the system on multiple disks, or if your disks differ in size and a particular partition must be created on the first disk detected by BIOS, then create these partitions first.</simpara>
</important>
</informalexample>
</listitem>
</itemizedlist>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>Click <guibutton>+</guibutton> to create a new mount point file system. The <emphasis role="strong">Add a New Mount Point</emphasis> dialog opens.</simpara>
</listitem>
<listitem>
<simpara>Select one of the preset paths from the <emphasis role="strong">Mount Point</emphasis> drop-down menu or type your own; for example, select <literal>/</literal> for the root partition or <literal>/boot</literal> for the boot partition.</simpara>
</listitem>
<listitem>
<simpara>Enter the size of the file system in to the <emphasis role="strong">Desired Capacity</emphasis> field; for example, <literal>2GiB</literal>.</simpara>
<warning>
<simpara>If you do not specify a value in the Desired Capacity field, or if you specify a size bigger than available space, then all remaining free space is used.</simpara>
</warning>
</listitem>
<listitem>
<simpara>Click <guibutton>Add mount point</guibutton> to create the partition and return to the <emphasis role="strong">Manual Partitioning</emphasis> window.</simpara>
</listitem>
</orderedlist>
</section>
<section xml:id="configuring-a-mount-point-file-system_manual-partitioning">
<title>Configuring storage for a mount point file system</title>
<simpara role="_abstract">This procedure describes how to set the partitioning scheme for each mount point that was created manually. The available options are <literal>Standard Partition</literal>, <literal>LVM</literal>, and <literal>LVM Thin Provisioning</literal>.</simpara>
<note>
<itemizedlist>
<listitem>
<simpara>Btfrs support has been removed in Red Hat Enterprise Linux 9.</simpara>
</listitem>
<listitem>
<simpara>The <literal>/boot</literal> partition is always located on a standard partition, regardless of the value selected.</simpara>
</listitem>
</itemizedlist>
</note>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>To change the devices that a single non-LVM mount point should be located on, select the required mount point from the left-hand pane.</simpara>
</listitem>
<listitem>
<simpara>Under the <emphasis role="strong">Device(s)</emphasis> heading, click <guibutton>Modify&#8230;&#8203;</guibutton>. The <emphasis role="strong">Configure Mount Point</emphasis> dialog opens.</simpara>
</listitem>
<listitem>
<simpara>Select one or more devices and click <guibutton>Select</guibutton> to confirm your selection and return to the <emphasis role="strong">Manual Partitioning</emphasis> window.</simpara>
</listitem>
<listitem>
<simpara>Click <guibutton>Update Settings</guibutton> to apply the changes.</simpara>
</listitem>
<listitem>
<simpara>In the lower left-hand side of the <emphasis role="strong">Manual Partitioning</emphasis> window, click the <emphasis role="strong">storage device selected</emphasis> link to open the <emphasis role="strong">Selected Disks</emphasis> dialog and review disk information.</simpara>
<note>
<simpara>Click the <guibutton>Rescan</guibutton> button (circular arrow button) to refresh all local disks and partitions; this is only required after performing advanced partition configuration outside the installation program. Clicking the <guibutton>Rescan Disks</guibutton> button resets all configuration changes made in the installation program.</simpara>
</note>
</listitem>
</orderedlist>
</section>
<section xml:id="customizing-a-partition-or-volume_manual-partitioning">
<title>Customizing a mount point file system</title>
<simpara role="_abstract">You can customize a partition or volume if you want to set specific settings.</simpara>
<important>
<simpara>If <literal>/usr</literal> or <literal>/var</literal> is partitioned separately from the rest of the root volume, the boot process becomes much more complex as these directories contain critical components. In some situations, such as when these directories are placed on an iSCSI drive or an FCoE location, the system is unable to boot, or hangs with a <emphasis role="strong">Device is busy</emphasis> error when powering off or rebooting.</simpara>
<simpara>This limitation only applies to <literal>/usr</literal> or <literal>/var</literal>, not to directories below them. For example, a separate partition for <literal>/var/www</literal> works successfully.</simpara>
</important>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>From the left pane, select the mount point.</simpara>
<figure xml:id="figu-disk-partitioning-customizing-x86">
<title>Customizing Partitions</title>
<mediaobject>
<imageobject>
<imagedata fileref="images/anaconda-diskpartitioning-ddmain-custom-rhel-9.png"/>
</imageobject>
<textobject><phrase>Customizing partitions.</phrase></textobject>
</mediaobject>
</figure>
</listitem>
<listitem>
<simpara>From the right-hand pane, you can customize the following options:</simpara>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>Enter the file system mount point into the <emphasis role="strong">Mount Point</emphasis> field. For example, if a file system is the root file system, enter <literal>/</literal>; enter <literal>/boot</literal> for the <literal>/boot</literal> file system, and so on. For a swap file system, do not set the mount point as setting the file system type to <literal>swap</literal> is sufficient.</simpara>
</listitem>
<listitem>
<simpara>Enter the size of the file system in the <emphasis role="strong">Desired Capacity</emphasis> field.  You can use common size units such as KiB or GiB. The default is MiB if you do not set any other unit.</simpara>
</listitem>
<listitem>
<simpara>Select the device type that you require from the drop-down <emphasis role="strong">Device Type</emphasis> menu: <literal>Standard Partition</literal>, <literal>LVM</literal>, or <literal>LVM Thin Provisioning</literal>.</simpara>
<warning>
<simpara>The installation program does not support overprovisioned LVM thin pools.</simpara>
</warning>
<note>
<simpara><literal>RAID</literal> is available only if two or more disks are selected for partitioning. If you choose <literal>RAID</literal>, you can also set the <literal>RAID Level</literal>. Similarly, if you select <literal>LVM</literal>, you can specify the <literal>Volume Group</literal>.</simpara>
</note>
</listitem>
<listitem>
<simpara>Select the <emphasis role="strong">Encrypt</emphasis> check box to encrypt the partition or volume. You must set a password later in the installation program. The <emphasis role="strong">LUKS Version</emphasis> drop-down menu is displayed.</simpara>
</listitem>
<listitem>
<simpara>Select the LUKS version that you require from the drop-down menu.</simpara>
</listitem>
<listitem>
<simpara>Select the appropriate file system type for this partition or volume from the <emphasis role="strong">File system</emphasis> drop-down menu.</simpara>
<note>
<simpara>Support for <literal>VFAT</literal> file system is not available for Linux system partitions. For example, <literal>/</literal>, <literal>/var</literal>, <literal>/usr</literal>, and so on.</simpara>
</note>
</listitem>
<listitem>
<simpara>Select the <emphasis role="strong">Reformat</emphasis> check box to format an existing partition, or clear the <emphasis role="strong">Reformat</emphasis> check box to retain your data. The newly-created partitions and volumes must be reformatted, and the check box cannot be cleared.</simpara>
</listitem>
<listitem>
<simpara>Type a label for the partition in the <emphasis role="strong">Label</emphasis> field. Use labels to easily recognize and address individual partitions.</simpara>
</listitem>
<listitem>
<simpara>Type a name in the <emphasis role="strong">Name</emphasis> field.</simpara>
<note>
<simpara>Note that standard partitions are named automatically when they are created and you cannot edit the names of standard partitions. For example, you cannot edit the <literal>/boot</literal> name <literal>sda1</literal>.</simpara>
</note>
</listitem>
</orderedlist>
</listitem>
<listitem>
<simpara>Click <guibutton>Update Settings</guibutton> to apply your changes and if required, select another partition to customize. Changes are not applied until you click <guibutton>Begin Installation</guibutton> from the <emphasis role="strong">Installation Summary</emphasis> window.</simpara>
<note>
<simpara>Click <guibutton>Reset All</guibutton> to discard your partition changes.</simpara>
</note>
</listitem>
<listitem>
<simpara>Click <guibutton>Done</guibutton> when you have created and customized all file systems and mount points. If you choose to encrypt a file system, you are prompted to create a passphrase.</simpara>
<simpara>A <emphasis role="strong">Summary of Changes</emphasis> dialog box opens, displaying a summary of all storage actions for the installation program.</simpara>
</listitem>
<listitem>
<simpara>Click <guibutton>Accept Changes</guibutton> to apply the changes and return to the <emphasis role="strong">Installation Summary</emphasis> window.</simpara>
</listitem>
</orderedlist>
</section>
<section xml:id="preserving-the-home-directory_manual-partitioning">
<title>Preserving the /home directory</title>
<simpara role="_abstract">In a Red Hat Enterprise Linux 9 graphical installation, you can preserve the <literal role="filename">/home</literal> directory that was used on your RHEL 8 system.</simpara>
<warning>
<simpara>Preserving <literal role="filename">/home</literal> is only possible if the <literal role="filename">/home</literal> directory is located on a separate <literal>/home</literal> partition on your RHEL 8 system.</simpara>
</warning>
<simpara>Preserving the <literal role="filename">/home</literal> directory that includes various configuration settings, makes it possible that the GNOME Shell environment on the new Red Hat Enterprise Linux 9 system is set in the same way as it was on your RHEL 8 system.
Note that this applies only for users on Red Hat Enterprise Linux 9 with the same user name and ID as on the previous RHEL 8 system.</simpara>
<simpara>Complete this procedure to preserve the <literal role="filename">/home</literal> directory from your RHEL 8 system.</simpara>
<itemizedlist>
<title>Prerequisites</title>
<listitem>
<simpara>You have RHEL 8 installed on your computer.</simpara>
</listitem>
<listitem>
<simpara>The <literal role="filename">/home</literal> directory is located on a separate <literal>/home</literal> partition on your RHEL 8 system.</simpara>
</listitem>
<listitem>
<simpara>The Red Hat Enterprise Linux 9 <literal>Installation Summary</literal> window is open.</simpara>
</listitem>
</itemizedlist>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>Click <emphasis role="strong">Installation Destination</emphasis> to open the <emphasis role="strong">Installation Destination</emphasis> window.</simpara>
</listitem>
<listitem>
<simpara>Under <emphasis role="strong">Storage Configuration</emphasis>, select the <emphasis role="strong">Custom</emphasis> radio button. Click <emphasis role="strong">Done</emphasis>.</simpara>
</listitem>
<listitem>
<simpara>Click <guibutton>Done</guibutton>, the <emphasis role="strong">Manual Partitioning</emphasis> window opens.</simpara>
</listitem>
<listitem>
<simpara>Choose the <literal>/home</literal> partition, fill in <literal>/home</literal> under <literal>Mount Point:</literal> and clear the <emphasis role="strong">Reformat</emphasis> check box.</simpara>
<figure xml:id="figu-preserving-home-partition">
<title>Ensuring that /home is not formatted</title>
<mediaobject>
<imageobject>
<imagedata fileref="images/preserving-home-partition-rhel-9.png"/>
</imageobject>
<textobject><phrase>preserving home partition rhel 9</phrase></textobject>
</mediaobject>
</figure>
</listitem>
<listitem>
<simpara>Optional: You can also customize various aspects of the <literal>/home</literal> partition required for your Red Hat Enterprise Linux 9 system as described in <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_a_standard_rhel_9_installation/index#customizing-a-partition-or-volume_manual-partitioning">Customizing a mount point file system</link>. However, to preserve <literal>/home</literal> from your RHEL 8 system, it is necessary to clear the <emphasis role="strong">Reformat</emphasis> check box.</simpara>
</listitem>
<listitem>
<simpara>After you customized all partitions according to your requirements, click <guibutton>Done</guibutton>. The <emphasis role="strong">Summary of changes</emphasis> dialog box opens.</simpara>
</listitem>
<listitem>
<simpara>Verify that the <emphasis role="strong">Summary of changes</emphasis> dialog box does not show any change for <literal>/home</literal>. This means that the <literal>/home</literal> partition is preserved.</simpara>
</listitem>
<listitem>
<simpara>Click <guibutton>Accept Changes</guibutton> to apply the changes, and return to the <emphasis role="strong">Installation Summary</emphasis> window.</simpara>
</listitem>
</orderedlist>
</section>
<section xml:id="creating-a-software-raid-during-the-installation_manual-partitioning">
<title>Creating a software RAID during the installation</title>
<simpara>Redundant Arrays of Independent Disks (RAID) devices are constructed from multiple storage devices that are arranged to provide increased performance and, in some configurations, greater fault tolerance.</simpara>
<simpara>A RAID device is created in one step and disks are added or removed as necessary. You can configure one RAID partition for each physical disk in your system, so that the number of disks available to the installation program determines the levels of RAID device available. For example, if your system has two hard drives, you cannot create a RAID 10 device, as it requires a minimum of three separate disks.</simpara>
<note>
<simpara>On 64-bit IBM Z, the storage subsystem uses RAID transparently. You do not have to configure software RAID manually.</simpara>
</note>
<itemizedlist>
<title>Prerequisites</title>
<listitem>
<simpara>You have selected two or more disks for installation before RAID configuration options are visible. Depending on the RAID type you want to create, at least two disks are required.</simpara>
</listitem>
<listitem>
<simpara>You have created a mount point. By configuring a mount point, you can configure the RAID device.</simpara>
</listitem>
<listitem>
<simpara>You have selected the <guibutton>Custom</guibutton> radio button on the <emphasis role="strong">Installation Destination</emphasis> window.</simpara>
</listitem>
</itemizedlist>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>From the left pane of the <emphasis role="strong">Manual Partitioning</emphasis> window, select the required partition.</simpara>
</listitem>
<listitem>
<simpara>Under the <emphasis role="strong">Device(s)</emphasis> section, click <guibutton>Modify</guibutton>. The <emphasis role="strong">Configure Mount Point</emphasis> dialog box opens.</simpara>
</listitem>
<listitem>
<simpara>Select the disks that you want to include in the RAID device and click <guibutton>Select</guibutton>.</simpara>
</listitem>
<listitem>
<simpara>Click the <emphasis role="strong">Device Type</emphasis> drop-down menu and select <emphasis role="strong">RAID</emphasis>.</simpara>
</listitem>
<listitem>
<simpara>Click the <emphasis role="strong">File System</emphasis> drop-down menu and select your preferred file system type.</simpara>
</listitem>
<listitem>
<simpara>Click the <emphasis role="strong">RAID Level</emphasis> drop-down menu and select your preferred level of RAID.</simpara>
</listitem>
<listitem>
<simpara>Click <guibutton>Update Settings</guibutton> to save your changes.</simpara>
</listitem>
<listitem>
<simpara>Click <guibutton>Done</guibutton> to apply the settings to return to the <emphasis role="strong">Installation Summary</emphasis> window.</simpara>
</listitem>
</orderedlist>
<itemizedlist role="_additional-resources">
<title>Additional resources</title>
<listitem>
<simpara><link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/configuring_and_managing_logical_volumes/configuring-raid-logical-volumes_configuring-and-managing-logical-volumes#creating-a-raid-lv-with-dm-integrity_configuring-raid-logical-volumes">Creating a RAID LV with DM integrity</link></simpara>
</listitem>
</itemizedlist>
</section>
<section xml:id="creating-lvm-logical-volume_manual-partitioning">
<title>Creating an LVM logical volume</title>
<simpara role="_abstract">Logical Volume Management (LVM) presents a simple logical view of underlying physical storage space, such as hard drives or LUNs. Partitions on physical storage are represented as physical volumes that you can group together into volume groups. You can divide each volume group into multiple logical volumes, each of which is analogous to a standard disk partition. Therefore, LVM logical volumes function as partitions that can span multiple physical disks.</simpara>
<note>
<simpara>LVM configuration is available only in the graphical installation program.</simpara>
</note>
<important>
<simpara>During text-mode installation, LVM configuration is not available. To create an LVM configuration, press <keycombo><keycap>Ctrl</keycap><keycap>Alt</keycap><keycap>F2</keycap></keycombo> to use a shell prompt in a different virtual console. You can run <literal role="command">vgcreate</literal> and <literal role="command">lvm</literal> commands in this shell. To return to the text-mode installation, press <keycombo><keycap>Ctrl</keycap><keycap>Alt</keycap><keycap>F1</keycap></keycombo>.</simpara>
</important>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>From the left-hand pane of the <emphasis role="strong">Manual Partitioning</emphasis> window, select the mount point.</simpara>
</listitem>
<listitem>
<simpara>Click the <emphasis role="strong">Device Type</emphasis> drop-down menu and select <literal>LVM</literal>. The <emphasis role="strong">Volume Group</emphasis> drop-down menu is displayed with the newly-created volume group name.</simpara>
<note>
<simpara>You cannot specify the size of the volume group&#8217;s physical extents in the configuration dialog. The size is always set to the default value of 4 MiB. If you want to create a volume group with different physical extents, you must create it manually by switching to an interactive shell and using the <literal role="command">vgcreate</literal> command, or use a Kickstart file with the <literal role="command">volgroup --pesize=<emphasis>size</emphasis></literal> command. See the <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_an_advanced_rhel_9_installation/index/"><emphasis>Performing an advanced RHEL 9 installation</emphasis></link> document for more information about Kickstart.</simpara>
</note>
</listitem>
</orderedlist>
<itemizedlist role="_additional-resources">
<title>Additional resources</title>
<listitem>
<simpara><link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/configuring_and_managing_logical_volumes/index">Configuring and managing logical volumes</link></simpara>
</listitem>
</itemizedlist>
</section>
<section xml:id="configuring-lvm-logical-volume_manual-partitioning">
<title>Configuring an LVM logical volume</title>
<simpara role="_abstract">Follow the steps in this procedure to configure a newly-created LVM logical volume.</simpara>
<warning>
<simpara>Placing the <literal>/boot</literal> partition on an LVM volume is not supported.</simpara>
</warning>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>From the left-hand pane of the <emphasis role="strong">Manual Partitioning</emphasis> window, select the mount point.</simpara>
</listitem>
<listitem>
<simpara>Click the <emphasis role="strong">Device Type</emphasis> drop-down menu and select <literal>LVM</literal>. The <emphasis role="strong">Volume Group</emphasis> drop-down menu is displayed with the newly-created volume group name.</simpara>
</listitem>
<listitem>
<simpara>Click <guibutton>Modify</guibutton> to configure the newly-created volume group.</simpara>
<simpara>The <emphasis role="strong">Configure Volume Group</emphasis> dialog box opens.</simpara>
<note>
<simpara>You cannot specify the size of the volume group&#8217;s physical extents in the configuration dialog. The size is always set to the default value of 4 MiB. If you want to create a volume group with different physical extents, you must create it manually by switching to an interactive shell and using the <literal role="command">vgcreate</literal> command, or use a Kickstart file with the <literal role="command">volgroup --pesize=<emphasis>size</emphasis></literal> command. See the <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_an_advanced_rhel_9_installation/index/"><emphasis>Performing an advanced RHEL 9 installation</emphasis></link> document for more information about Kickstart.</simpara>
</note>
</listitem>
<listitem>
<simpara>From the <emphasis role="strong">RAID Level</emphasis> drop-down menu, select the RAID level that you require.</simpara>
<simpara>The available RAID levels are the same as with actual RAID devices.</simpara>
</listitem>
<listitem>
<simpara>Select the <emphasis role="strong">Encrypt</emphasis> check box to mark the volume group for encryption.</simpara>
</listitem>
<listitem>
<simpara>From the <emphasis role="strong">Size policy</emphasis> drop-down menu, select the size policy for the volume group.</simpara>
<simpara>The available policy options are:</simpara>
<informalexample>
<itemizedlist>
<listitem>
<simpara><emphasis role="strong">Automatic</emphasis>: The size of the volume group is set automatically so that it is large enough to contain the configured logical volumes. This is optimal if you do not need free space within the volume group.</simpara>
</listitem>
<listitem>
<simpara><emphasis role="strong">As large as possible</emphasis>: The volume group is created with maximum size, regardless of the size of the configured logical volumes it contains. This is optimal if you plan to keep most of your data on LVM and later need to increase the size of some existing logical volumes, or if you need to create additional logical volumes within this group.</simpara>
</listitem>
<listitem>
<simpara><emphasis role="strong">Fixed</emphasis>: You can set an exact size of the volume group. Any configured logical volumes must then fit within this fixed size. This is useful if you know exactly how large you need the volume group to be.</simpara>
</listitem>
</itemizedlist>
</informalexample>
</listitem>
<listitem>
<simpara>Click <guibutton>Save</guibutton> to apply the settings and return to the <emphasis role="strong">Manual Partitioning</emphasis> window.</simpara>
</listitem>
<listitem>
<simpara>Click <guibutton>Update Settings</guibutton> to save your changes.</simpara>
</listitem>
<listitem>
<simpara>Click <guibutton>Done</guibutton> to return to the <emphasis role="strong">Installation Summary</emphasis> window.</simpara>
</listitem>
</orderedlist>
<itemizedlist role="_additional-resources">
<title>Additional resources</title>
<listitem>
<simpara><link xl:href="https://www.ibm.com/docs/en/linux-on-systems?topic=volumes-creating-volume-pervasive-encryption">How to use dm-crypt on IBM Z, LinuxONE and with the PAES cipher</link></simpara>
</listitem>
</itemizedlist>
</section>
</section>
<section xml:id="configuring-a-root-password_graphical-installation">
<title>Configuring a root password</title>
<simpara role="_abstract">You must configure a <literal>root</literal> password to finish the installation process and to log in to the administrator (also known as superuser or root) account that is used for system administration tasks. These tasks include installing and updating software packages and changing system-wide configuration such as network and firewall settings, storage options, and adding or modifying users, groups and file permissions.</simpara>
<important>
<itemizedlist>
<listitem>
<simpara>Use one or both of the following ways to gain root privileges to the installed system:</simpara>
<itemizedlist>
<listitem>
<simpara>Use a root account.</simpara>
</listitem>
<listitem>
<simpara>Create a user account with administrative privileges (member of the wheel group). The <literal role="systemitem">root</literal> account is always created during the installation. Switch to the administrator account only when you need to perform a task that requires administrator access.</simpara>
</listitem>
</itemizedlist>
</listitem>
</itemizedlist>
</important>
<warning>
<simpara>The <literal>root</literal> account has complete control over the system. If unauthorized personnel gain access to the account, they can access or delete users' personal files.</simpara>
</warning>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>From the <emphasis role="strong">Installation Summary</emphasis> window, select <emphasis role="strong">User Settings &gt; Root Password</emphasis>. The <emphasis role="strong">Root Password</emphasis> window opens.</simpara>
</listitem>
<listitem>
<simpara>Type your password in the <emphasis role="strong">Root Password</emphasis> field.</simpara>
<simpara>The requirements and recommendations for creating a strong root password are:</simpara>
<informalexample>
<itemizedlist>
<listitem>
<simpara><emphasis>Must</emphasis> be at least eight characters long</simpara>
</listitem>
<listitem>
<simpara>May contain numbers, letters (upper and lower case) and symbols</simpara>
</listitem>
<listitem>
<simpara>Is case-sensitive</simpara>
</listitem>
</itemizedlist>
</informalexample>
</listitem>
<listitem>
<simpara>Type the same password in the <emphasis role="strong">Confirm</emphasis> field.</simpara>
</listitem>
<listitem>
<simpara>Optional: Select the <literal>Lock root account</literal> option to disable the root access to the system.</simpara>
</listitem>
<listitem>
<simpara>Optional: Select the <literal>Allow root SSH login with password</literal> option to enable SSH access (with password) to this system as a root user. By default the password-based SSH root access is disabled.</simpara>
</listitem>
<listitem>
<simpara>Click <guibutton>Done</guibutton> to confirm your root password and return to the <emphasis role="strong">Installation Summary</emphasis> window.</simpara>
<note>
<simpara>If you proceeded with a weak password, you must click <guibutton>Done</guibutton> twice.</simpara>
</note>
</listitem>
</orderedlist>
</section>
<section xml:id="creating-a-user-account_graphical-installation">
<title>Creating a user account</title>
<simpara role="_abstract">It is recommended that you create a user account to finish the installation. If you do not create a user account, you must log in to the system as <literal>root</literal> directly, which is <emphasis role="strong">not</emphasis> recommended.</simpara>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>On the <emphasis role="strong">Installation Summary</emphasis> window, select <emphasis role="strong">User Settings &gt; User Creation</emphasis>. The <emphasis role="strong">Create User</emphasis> window opens.</simpara>
</listitem>
<listitem>
<simpara>Type the user account name in to the <emphasis role="strong">Full name</emphasis> field, for example: John Smith.</simpara>
</listitem>
<listitem>
<simpara>Type the username in to the <emphasis role="strong">User name</emphasis> field, for example: jsmith.</simpara>
<note>
<simpara>The <emphasis role="strong">User name</emphasis> is used to log in from a command line; if you install a graphical environment, then your graphical login manager uses the <emphasis role="strong">Full name</emphasis>.</simpara>
</note>
</listitem>
<listitem>
<simpara>Select the <emphasis role="strong">Make this user administrator</emphasis> check box if the user requires administrative rights (the installation program adds the user to the <literal>wheel</literal> group ).</simpara>
<important>
<simpara>An administrator user can use the <literal>sudo</literal> command to perform tasks that are only available to <literal>root</literal> using the user password, instead of the <literal>root</literal> password. This may be more convenient, but it can also cause a security risk.</simpara>
</important>
</listitem>
<listitem>
<simpara>Select the <emphasis role="strong">Require a password to use this account</emphasis> check box.</simpara>
<warning>
<simpara>If you give administrator privileges to a user, verify that the account is password protected. Never give a user administrator privileges without assigning a password to the account.</simpara>
</warning>
</listitem>
<listitem>
<simpara>Type a password into the <emphasis role="strong">Password</emphasis> field.</simpara>
</listitem>
<listitem>
<simpara>Type the same password into the <emphasis role="strong">Confirm password</emphasis> field.</simpara>
</listitem>
<listitem>
<simpara>Click <guibutton>Done</guibutton> to apply the changes and return to the <emphasis role="strong">Installation Summary</emphasis> window.</simpara>
</listitem>
</orderedlist>
<informalexample>

</informalexample>
</section>
<section xml:id="editing-advanced-user-settings_graphical-installation">
<title>Editing advanced user settings</title>
<simpara role="_abstract">This procedure describes how to edit the default settings for the user account in the <emphasis role="strong">Advanced User Configuration</emphasis> dialog box.</simpara>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>On the <emphasis role="strong">Create User</emphasis> window, click <guibutton>Advanced</guibutton>.</simpara>
</listitem>
<listitem>
<simpara>Edit the details in the <emphasis role="strong">Home directory</emphasis> field, if required. The field is populated by default with <literal role="filename">/home/<emphasis>username</emphasis></literal> .</simpara>
</listitem>
<listitem>
<simpara>In the <emphasis role="strong">User and Groups IDs</emphasis> section you can:</simpara>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>Select the <emphasis role="strong">Specify a user ID manually</emphasis> check box and use <guibutton>+</guibutton> or <guibutton>-</guibutton> to enter the required value.</simpara>
<note>
<simpara>The default value is 1000. User IDs (UIDs) 0-999 are reserved by the system so they cannot be assigned to a user.</simpara>
</note>
</listitem>
<listitem>
<simpara>Select the <emphasis role="strong">Specify a group ID manually</emphasis> check box and use <guibutton>+</guibutton> or <guibutton>-</guibutton> to enter the required value.</simpara>
<note>
<simpara>The default group name is the same as the user name, and the default Group ID (GID) is 1000. GIDs 0-999 are reserved by the system so they can not be assigned to a user group.</simpara>
</note>
</listitem>
</orderedlist>
</listitem>
<listitem>
<simpara>Specify additional groups as a comma-separated list in the <emphasis role="strong">Group Membership</emphasis> field. Groups that do not already exist are created; you can specify custom GIDs for additional groups in parentheses. If you do not specify a custom GID for a new group, the new group receives a GID automatically.</simpara>
<note>
<simpara>The user account created always has one default group membership (the user&#8217;s default group with an ID set in the <emphasis role="strong">Specify a group ID manually</emphasis> field).</simpara>
</note>
</listitem>
<listitem>
<simpara>Click <guibutton>Save Changes</guibutton> to apply the updates and return to the <emphasis role="strong">Create User</emphasis> window.</simpara>
</listitem>
</orderedlist>
</section>
</section>
<section xml:id="assembly_installing-on-64-bit-ibm-z_{context}">
<title>Installing Red Hat Enterprise Linux on 64-bit IBM Z</title>
<simpara>This section describes how to install Red Hat Enterprise Linux on the 64-bit IBM Z architecture.</simpara>
<section xml:id="planning-for-installation-on-ibm-z_assembly_installing-on-64-bit-ibm-z">
<title>Planning for installation on 64-bit IBM Z</title>
<simpara role="_abstract">Red Hat Enterprise Linux 9 runs on IBM z14 or IBM LinuxONE II systems, or later.</simpara>
<simpara>The installation process assumes that you are familiar with the 64-bit IBM Z and can set up <emphasis>logical partitions</emphasis> (LPARs) and z/VM guest virtual machines.</simpara>
<simpara>For installation of Red Hat Enterprise Linux on 64-bit IBM Z, Red Hat supports Direct Access Storage Device (DASD), SCSI disk devices attached over Fiber Channel Protocol (FCP), and <literal>virtio-blk</literal> and <literal>virtio-scsi</literal> devices.
When using FCP devices, Red Hat recommends using them in multipath configuration for better reliability.</simpara>
<important>
<simpara>DASDs are hard disks that allow a maximum of three partitions per device. For example, <literal>dasda</literal> can have partitions <literal>dasda1</literal>, <literal>dasda2</literal>, and <literal>dasda3</literal>.</simpara>
</important>
<itemizedlist>
<title>Pre-installation decisions</title>
<listitem>
<simpara>Whether the operating system is to be run on an LPAR, KVM, or as a z/VM guest operating system.</simpara>
</listitem>
<listitem>
<simpara>If swap space is needed, and how much. Although it is recommended to assign enough memory to a z/VM guest virtual machine and let z/VM do the necessary swapping, there are cases where the amount of required RAM is hard to predict. Such instances should be examined on a case-by-case basis.</simpara>
</listitem>
<listitem>
<simpara>Network configuration. Red Hat Enterprise Linux 9 for 64-bit IBM Z supports the following network devices:</simpara>
<itemizedlist>
<listitem>
<simpara>Real and virtual <emphasis>Open Systems Adapter</emphasis> (OSA)</simpara>
</listitem>
<listitem>
<simpara>Real and virtual HiperSockets</simpara>
</listitem>
<listitem>
<simpara><emphasis>LAN channel station</emphasis> (LCS) for real OSA</simpara>
</listitem>
<listitem>
<simpara><literal>virtio-net</literal> devices</simpara>
</listitem>
</itemizedlist>
</listitem>
</itemizedlist>
<formalpara>
<title>Disk space</title>
<para>You will need to calculate and allocate sufficient disk space on DASDs or SCSI disks.</para>
</formalpara>
<itemizedlist>
<listitem>
<simpara>A minimum of 10 GiB is needed for a server installation,  20 GiB if you want to install all packages.</simpara>
</listitem>
<listitem>
<simpara>Disk space is also required for any application data. After the installation, you can add or delete more DASD or SCSI disk partitions.</simpara>
</listitem>
<listitem>
<simpara>The disk space used by the newly installed Red Hat Enterprise Linux system (the Linux instance) must be separate from the disk space used by other operating systems you have installed on your system.</simpara>
</listitem>
</itemizedlist>
<formalpara>
<title>RAM</title>
<para>Ensure that your system has sufficient RAM available:</para>
</formalpara>
<itemizedlist>
<listitem>
<simpara>Minimum 1.5 GiB when installing from NFS.</simpara>
</listitem>
<listitem>
<simpara>Minimum 3 GiB when installing from an HTTP or FTP installation source.</simpara>
</listitem>
<listitem>
<simpara>When installing in text mode, 1GiB is sufficient only if you are using an NFS installation source.</simpara>
</listitem>
<listitem>
<simpara>Red Hat recommends 2 GiB for the installed Linux instance. However, 1GiB is sufficient on a properly tuned system.</simpara>
</listitem>
</itemizedlist>
<note>
<itemizedlist>
<listitem>
<simpara>When initializing swap space on a Fixed Block Architecture (FBA) DASD using the <emphasis role="strong"><phrase role="application">SWAPGEN</phrase></emphasis> utility, the <literal role="option">FBAPART</literal> option must be used.</simpara>
</listitem>
</itemizedlist>
</note>
<itemizedlist role="_additional-resources">
<title>Additional resources</title>
<listitem>
<simpara>For additional information about 64-bit IBM Z, see <link xl:href="https://www.ibm.com/it-infrastructure/z">https://www.ibm.com/it-infrastructure/z</link>.</simpara>
</listitem>
</itemizedlist>
</section>
<section xml:id="overview-of-the-ibm-z-installation-process_assembly_installing-on-64-bit-ibm-z">
<title>Overview of installation process on 64-bit IBM Z servers</title>
<simpara role="_abstract">You can install Red Hat Enterprise Linux on 64-bit IBM Z interactively or in unattended mode. Installation on 64-bit IBM Z differs from other architectures as it is typically performed over a network, and not from local media. The installation consists of three phases:</simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>Booting the installation</simpara>
<itemizedlist>
<listitem>
<simpara>Connect to the mainframe</simpara>
</listitem>
<listitem>
<simpara>Customize the boot parameters</simpara>
</listitem>
<listitem>
<simpara>Perform an initial program load (IPL), or boot from the media containing the installation program</simpara>
</listitem>
</itemizedlist>
</listitem>
<listitem>
<simpara>Connecting to the installation system</simpara>
<itemizedlist>
<listitem>
<simpara>From a local machine, connect to the remote 64-bit IBM Z system using SSH, and start the installation program using Virtual Network Computing (VNC)</simpara>
</listitem>
</itemizedlist>
</listitem>
<listitem>
<simpara>Completing the installation using the RHEL installation program</simpara>
</listitem>
</orderedlist>
</section>
<section xml:id="booting-the-installation_assembly_installing-on-64-bit-ibm-z">
<title>Boot media for installing RHEL on 64-bit IBM Z servers</title>
<simpara role="_abstract">After establishing a connection with the mainframe, you need to perform an initial program load (IPL), or boot, from the medium containing the installation program. This document describes the most common methods of installing Red Hat Enterprise Linux on 64-bit  IBM Z. In general, any method may be used to boot the Linux installation system, which consists of a kernel (<literal>kernel.img</literal>) and initial RAM disk (<literal>initrd.img</literal>) with parameters in the <literal>generic.prm</literal> file supplemented by user defined parameters. Additionally, a <literal>generic.ins</literal> file is loaded which determines file names and memory addresses for the initrd, kernel and <literal>generic.prm</literal>.</simpara>
<simpara>The Linux installation system is also called the <emphasis>installation program</emphasis> in this book.</simpara>
<simpara>The control point from where you can start the IPL process depends on the environment where your Linux is to run. If your Linux is to run as a z/VM guest operating system, the control point is the <emphasis>control program</emphasis> (CP) of the hosting z/VM. If your Linux is to run in LPAR mode, the control point is the mainframe&#8217;s <emphasis>Support Element</emphasis> (SE) or an attached 64-bit IBM Z <emphasis>Hardware Management Console</emphasis> (HMC).</simpara>
<simpara>You can use the following boot media only if Linux is to run as a guest operating system under z/VM:</simpara>
<itemizedlist>
<listitem>
<simpara>z/VM reader</simpara>
</listitem>
</itemizedlist>
<simpara>You can use the following boot media only if Linux is to run in LPAR mode:</simpara>
<itemizedlist>
<listitem>
<simpara>SE or HMC through a remote FTP server</simpara>
</listitem>
<listitem>
<simpara>SE or HMC DVD</simpara>
</listitem>
</itemizedlist>
<simpara>You can use the following boot media for both z/VM and LPAR:</simpara>
<itemizedlist>
<listitem>
<simpara>DASD</simpara>
</listitem>
<listitem>
<simpara>SCSI disk device that is attached through an FCP channel</simpara>
</listitem>
</itemizedlist>
<simpara>If you use DASD or an FCP-attached SCSI disk device as boot media, you must have a configured <literal>zipl</literal> boot loader.</simpara>
</section>
<section xml:id="customizing-boot-parameters_assembly_installing-on-64-bit-ibm-z">
<title>Customizing boot parameters</title>
<simpara role="_abstract">Before the installation can begin, you must configure some mandatory boot parameters. When installing through z/VM, these parameters must be configured before you boot into the <literal>generic.prm</literal> file. When installing on an LPAR, the <literal role="option">rd.cmdline</literal> parameter is set to <literal>ask</literal> by default, meaning that you will be given a prompt on which you can enter these boot parameters. In both cases, the required parameters are the same.</simpara>
<note>
<simpara>All network configuration must now be specified by either by using a parameter file, or at the prompt.</simpara>
</note>
<variablelist>
<varlistentry>
<term>Installation source</term>
<listitem>
<simpara>An installation source must always be configured.</simpara>
</listitem>
</varlistentry>
</variablelist>
<simpara>Use the <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/boot_options_for_rhel_installer#installation-source-boot-options_kickstart-and-advanced-boot-options"><literal>inst.repo</literal></link> option to specify the package source for the installation.</simpara>
<variablelist>
<varlistentry>
<term>Network devices</term>
<listitem>
<simpara>Network configuration must be provided if network access will be required during the installation. If you plan to perform an unattended (Kickstart-based) installation using only local media such as a hard drive, network configuration can be omitted.</simpara>
<simpara>Use the <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/boot_options_for_rhel_installer#network-boot-options_kickstart-and-advanced-boot-options"><literal>ip=</literal></link> option for basic network configuration, and other options as required.</simpara>
<simpara>Also use the <literal role="option">rd.znet=</literal> kernel option, which takes a network protocol type, a comma delimited list of sub-channels, and, optionally, comma delimited <literal>sysfs</literal> parameter and value pairs. This parameter can be specified multiple times to activate multiple network devices.</simpara>
<simpara>For example:</simpara>
<literallayout class="monospaced">rd.znet=qeth,0.0.0600,0.0.0601,0.0.0602,layer2=1,portname=foo</literallayout>
<note>
<simpara>When specifying multiple <literal>rd.znet</literal> boot options, only the last one is passed on to the kernel command line of the installed system. This does not affect the networking of the system since all network devices configured during installation are properly activated and configured at boot.</simpara>
</note>
<simpara>The qeth device driver assigns the same interface name for Ethernet and Hipersockets devices: <literal>enc<emphasis>&lt;device number&gt;</emphasis></literal>. The bus ID is composed of the channel subsystem ID, subchannel set ID, and device number, separated by dots; the device number is the last part of the bus ID, without leading zeroes and dots. For example, the interface name will be <literal>enca00</literal> for a device with the bus ID <literal>0.0.0a00</literal>.</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>Storage devices</term>
<listitem>
<simpara>At least one storage device must always be configured for text mode installations.</simpara>
<simpara>The <literal role="option">rd.dasd=</literal> option takes a Direct Access Storage Device (DASD) adapter device bus identifier.
For multiple DASDs, specify the parameter multiple times, or use a comma separated list of bus IDs. To specify a range of DASDs, specify the first and the last bus ID.</simpara>
<simpara>For example:</simpara>
<literallayout class="monospaced">rd.dasd=0.0.0200 rd.dasd=0.0.0202(ro),0.0.0203(ro:failfast),0.0.0205-0.0.0207</literallayout>
<simpara>The <literal role="option">rd.zfcp=</literal> option takes a SCSI over FCP (zFCP) adapter device bus identifier, a target world wide port name (WWPN), and an FCP LUN, then activates one path to a SCSI disk. This parameter needs to be specified at least twice to activate multiple paths to the same disk. This parameter can be specified multiple times to activate multiple disks, each with multiple paths.
Since 9, a target world wide port name (WWPN) and an FCP LUN have to be provided only if the <literal>zFCP</literal> device is not configured in NPIV mode or when <literal>auto LUN</literal> scanning is disabled by the <literal>zfcp.allow_lun_scan=0</literal> kernel module parameter.
It provides access to all SCSI devices found in the storage area network attached to the FCP device with the specified bus ID. This parameter needs to be specified at least twice to activate multiple paths to the same disks.</simpara>
<literallayout class="monospaced">rd.zfcp=0.0.4000,0x5005076300C213e9,0x5022000000000000
rd.zfcp=0.0.4000</literallayout>
</listitem>
</varlistentry>
<varlistentry>
<term>Kickstart options</term>
<listitem>
<simpara>If you are using a Kickstart file to perform an automatic installation, you must always specify the location of the Kickstart file using the <literal role="option">inst.ks=</literal> option. For an unattended, fully automatic Kickstart installation, the <literal role="option">inst.cmdline</literal> option is also useful.</simpara>
</listitem>
</varlistentry>
</variablelist>
<simpara>An example customized <literal>generic.prm</literal> file containing all mandatory parameters look similar to the following example:</simpara>
<example>
<title>Customized generic.prm file</title>
<screen>ro ramdisk_size=40000 cio_ignore=all,!condev
inst.repo=http://example.com/path/to/repository
rd.znet=qeth,0.0.0600,0.0.0601,0.0.0602,layer2=1,portno=0,portname=foo
ip=192.168.17.115::192.168.17.254:24:foobar.systemz.example.com:enc600:none
nameserver=192.168.17.1
rd.dasd=0.0.0200 rd.dasd=0.0.0202
rd.zfcp=0.0.4000,0x5005076300c213e9,0x5022000000000000
rd.zfcp=0.0.5000,0x5005076300dab3e9,0x5022000000000000
inst.ks=http://example.com/path/to/kickstart</screen>
</example>
<simpara>Some installation methods also require a file with a mapping of the location of installation data in the file system of the HMC DVD or FTP server and the memory locations where the data is to be copied.</simpara>
<simpara>The file is typically named <literal>generic.ins</literal>, and contains file names for the initial RAM disk, kernel image, and parameter file (<literal>generic.prm</literal>) and a memory location for each file. An example <literal>generic.ins</literal> will look similar to the following example:</simpara>
<example>
<title>Sample generic.ins file</title>
<literallayout class="monospaced">images/kernel.img 0x00000000
images/initrd.img 0x02000000
images/genericdvd.prm 0x00010480
images/initrd.addrsize 0x00010408</literallayout>
</example>
<simpara>A valid <literal>generic.ins</literal> file is provided by Red Hat along with all other files required to boot the installer. Modify this file only if you want to, for example, load a different kernel version than default.</simpara>
<itemizedlist role="_additional-resources">
<title>Additional resources</title>
<listitem>
<simpara><link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/boot_options_for_rhel_installer#installation-source-boot-options_kickstart-and-advanced-boot-options">Installation source boot options</link></simpara>
</listitem>
</itemizedlist>
</section>
<section xml:id="parameters-and-configuration-files-on-ibm-z_assembly_installing-on-64-bit-ibm-z">
<title>Parameters and configuration files on 64-bit IBM Z</title>
<simpara role="_abstract">This section contains information about the parameters and configuration files on 64-bit IBM Z.</simpara>
<section xml:id="required-configuration-file-parameters-on-ibm-z_parameters-and-configuration-files-on-ibm-z">
<title>Required configuration file parameters on 64-bit IBM Z</title>
<simpara role="_abstract">Several parameters are required and must be included in the parameter file. These parameters are also provided in the file <literal>generic.prm</literal> in directory <literal>images/</literal> of the installation DVD.</simpara>
<itemizedlist>
<listitem>
<simpara><literal>ro</literal></simpara>
<simpara>Mounts the root file system, which is a RAM disk, read-only.</simpara>
</listitem>
<listitem>
<simpara><literal>ramdisk_size=<emphasis>size</emphasis></literal></simpara>
<simpara>Modifies the memory size reserved for the RAM disk to ensure that the Red Hat Enterprise Linux installation program fits within it. For example: <literal>ramdisk_size=40000</literal>.</simpara>
</listitem>
</itemizedlist>
<simpara>The <literal>generic.prm</literal> file also contains the additional parameter <literal>cio_ignore=all,!condev</literal>. This setting speeds up boot and device detection on systems with many devices. The installation program transparently handles the activation of ignored devices.</simpara>
</section>
<section xml:id="ibm-zvm-configuration-file_parameters-and-configuration-files-on-ibm-z">
<title>64-bit IBM Z/VM configuration file</title>
<simpara role="_abstract">Under z/VM, you can use a configuration file on a CMS-formatted disk. The purpose of the CMS configuration file is to save space in the parameter file by moving the parameters that configure the initial network setup, the DASD, and the FCP specification out of the parameter file.</simpara>
<simpara>Each line of the CMS configuration file contains a single variable and its associated value, in the following shell-style syntax: <literal><emphasis>variable</emphasis>=<emphasis>value</emphasis></literal>.</simpara>
<simpara>You must also add the <literal>CMSDASD</literal> and <literal>CMSCONFFILE</literal> parameters to the parameter file. These parameters point the installation program to the configuration file:</simpara>
<variablelist>
<varlistentry>
<term><literal>CMSDASD=<emphasis>cmsdasd_address</emphasis></literal></term>
<listitem>
<simpara>Where <emphasis>cmsdasd_address</emphasis> is the device number of a CMS-formatted disk that contains the configuration file. This is usually the CMS user&#8217;s <literal>A</literal> disk.</simpara>
<simpara>For example: <literal>CMSDASD=191</literal></simpara>
</listitem>
</varlistentry>
<varlistentry>
<term><literal>CMSCONFFILE=<emphasis>configuration_file</emphasis></literal></term>
<listitem>
<simpara>Where <emphasis>configuration_file</emphasis> is the name of the configuration file. <emphasis role="strong">This value must be specified in lower case.</emphasis> It is specified in a Linux file name format: <literal><emphasis>CMS_file_name</emphasis>.<emphasis>CMS_file_type</emphasis></literal>.</simpara>
<simpara>The CMS file <literal>REDHAT CONF</literal> is specified as <literal>redhat.conf</literal>. The CMS file name and the file type can each be from one to eight characters that follow the CMS conventions.</simpara>
<simpara>For example: <literal>CMSCONFFILE=redhat.conf</literal></simpara>
</listitem>
</varlistentry>
</variablelist>
</section>
<section xml:id="installation-network-parameters-on-ibm-z_parameters-and-configuration-files-on-ibm-z">
<title>Installation network, DASD and FCP parameters on 64-bit IBM Z</title>
<simpara role="_abstract">These parameters can be used to automatically set up the preliminary network, and can be defined in the CMS configuration file. These parameters are the only parameters that can also be used in a CMS configuration file. All other parameters in other sections must be specified in the parameter file.</simpara>
<variablelist>
<varlistentry>
<term><literal>NETTYPE="<emphasis>type</emphasis>"</literal></term>
<listitem>
<simpara>Where <emphasis>type</emphasis> must be one of the following: <literal>qeth</literal>, <literal>lcs</literal>, or <literal>ctc</literal>. The default is <literal>qeth</literal>.</simpara>
<simpara>Choose <literal>lcs</literal> for:</simpara>
<itemizedlist>
<listitem>
<simpara>OSA-Express features</simpara>
</listitem>
</itemizedlist>
<simpara>Choose <literal>qeth</literal> for:</simpara>
<itemizedlist>
<listitem>
<simpara>OSA-Express features</simpara>
</listitem>
<listitem>
<simpara>HiperSockets</simpara>
</listitem>
<listitem>
<simpara>Virtual connections on z/VM, including VSWTICH and Guest LAN</simpara>
</listitem>
</itemizedlist>
</listitem>
</varlistentry>
<varlistentry>
<term><literal>SUBCHANNELS="<emphasis>device_bus_IDs</emphasis>"</literal></term>
<listitem>
<simpara>Where <emphasis>device_bus_IDs</emphasis> is a comma-separated list of two or three device bus IDs. The IDs must be specified in lowercase.</simpara>
<simpara>Provides required device bus IDs for the various network interfaces:</simpara>
<literallayout class="monospaced">qeth: SUBCHANNELS="<emphasis>read_device_bus_id</emphasis>,<emphasis>write_device_bus_id</emphasis>,<emphasis>data_device_bus_id</emphasis>"
lcs or ctc: SUBCHANNELS="<emphasis>read_device_bus_id</emphasis>,<emphasis>write_device_bus_id</emphasis>"</literallayout>
<simpara>For example (a sample qeth SUBCHANNEL statement):</simpara>
<literallayout class="monospaced">SUBCHANNELS="0.0.f5f0,0.0.f5f1,0.0.f5f2"</literallayout>
</listitem>
</varlistentry>
<varlistentry>
<term><literal>PORTNAME="<emphasis>osa_portname</emphasis>"</literal> <literal>PORTNAME="<emphasis>lcs_portnumber</emphasis>"</literal></term>
<listitem>
<simpara>This variable supports OSA devices operating in qdio mode or in non-qdio mode.</simpara>
<simpara>When using qdio mode (<literal>NETTYPE="qeth"</literal>), <emphasis>osa_portname</emphasis> is the portname specified on the OSA device when operating in qeth mode.</simpara>
<simpara>When using non-qdio mode (<literal>NETTYPE="lcs"</literal>), <emphasis>lcs_portnumber</emphasis> is used to pass the relative port number as a decimal integer in the range of 0 through 15.</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term><literal>PORTNO="<emphasis>portnumber</emphasis>"</literal></term>
<listitem>
<simpara>You can add either <literal>PORTNO="0"</literal> (to use port 0) or <literal>PORTNO="1"</literal> (to use port 1 of OSA features with two ports per CHPID) to the CMS configuration file to avoid being prompted for the mode.</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term><literal>LAYER2="<emphasis>value</emphasis>"</literal></term>
<listitem>
<simpara>Where <emphasis>value</emphasis> can be <literal>0</literal> or <literal>1</literal>.</simpara>
<simpara>Use <literal>LAYER2="0"</literal> to operate an OSA or HiperSockets device in layer 3 mode (<literal>NETTYPE="qeth"</literal>). Use <literal>LAYER2="1"</literal> for layer 2 mode. For virtual network devices under z/VM this setting must match the definition of the GuestLAN or VSWITCH to which the device is coupled.</simpara>
<simpara>To use network services that operate on layer 2 (the Data Link Layer or its MAC sublayer) such as DHCP, layer 2 mode is a good choice.</simpara>
<simpara>The qeth device driver default for OSA devices is now layer 2 mode. To continue using the previous default of layer 3 mode, set <literal>LAYER2="0"</literal> explicitly.</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term><literal>VSWITCH="<emphasis>value</emphasis>"</literal></term>
<listitem>
<simpara>Where <emphasis>value</emphasis> can be <literal>0</literal> or <literal>1</literal>.</simpara>
<simpara>Specify <literal>VSWITCH="1"</literal> when connecting to a z/VM VSWITCH or GuestLAN, or <literal>VSWITCH="0"</literal> (or nothing at all) when using directly attached real OSA or directly attached real HiperSockets.</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term><literal>MACADDR="<emphasis>MAC_address</emphasis>"</literal></term>
<listitem>
<simpara>If you specify <literal>LAYER2="1"</literal> and <literal>VSWITCH="0"</literal>, you can optionally use this parameter to specify a MAC address. Linux requires six colon-separated octets as pairs lower case hex digits - for example, <literal>MACADDR=62:a3:18:e7:bc:5f</literal>. Note that this is different from the notation used by z/VM.</simpara>
<simpara>If you specify <literal>LAYER2="1"</literal> and <literal>VSWITCH="1"</literal>, you must not specify the <literal>MACADDR</literal>, because z/VM assigns a unique MAC address to virtual network devices in layer 2 mode.</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term><literal>CTCPROT="<emphasis>value</emphasis>"</literal></term>
<listitem>
<simpara>Where <emphasis>value</emphasis> can be <literal>0</literal>, <literal>1</literal>, or <literal>3</literal>.</simpara>
<simpara>Specifies the CTC protocol for <literal>NETTYPE="ctc"</literal>. The default is <literal>0</literal>.</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term><literal>HOSTNAME="<emphasis>string</emphasis>"</literal></term>
<listitem>
<simpara>Where <emphasis>string</emphasis> is the host name of the newly-installed Linux instance.</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term><literal>IPADDR="<emphasis>IP</emphasis>"</literal></term>
<listitem>
<simpara>Where <emphasis>IP</emphasis> is the IP address of the new Linux instance.</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term><literal>NETMASK="<emphasis>netmask</emphasis>"</literal></term>
<listitem>
<simpara>Where <emphasis>netmask</emphasis> is the netmask.</simpara>
<simpara>The netmask supports the syntax of a prefix integer (from 1 to 32) as specified in IPv4 <emphasis>classless interdomain routing</emphasis> (CIDR). For example, you can specify <literal>24</literal> instead of <literal>255.255.255.0</literal>, or <literal>20</literal> instead of <literal>255.255.240.0</literal>.</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term><literal>GATEWAY="<emphasis>gw</emphasis>"</literal></term>
<listitem>
<simpara>Where <emphasis>gw</emphasis> is the gateway IP address for this network device.</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term><literal>MTU="<emphasis>mtu</emphasis>"</literal></term>
<listitem>
<simpara>Where <emphasis>mtu</emphasis> is the <emphasis>Maximum Transmission Unit</emphasis> (MTU) for this network device.</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term><literal>DNS="<emphasis>server1:server2:additional_server_terms:serverN</emphasis>"</literal></term>
<listitem>
<simpara>Where "<emphasis>server1:server2:additional_server_terms:serverN</emphasis>" is a list of DNS servers, separated by colons. For example:</simpara>
<literallayout class="monospaced">DNS="10.1.2.3:10.3.2.1"</literallayout>
</listitem>
</varlistentry>
<varlistentry>
<term><literal>SEARCHDNS="<emphasis>domain1:domain2:additional_dns_terms:domainN</emphasis>"</literal></term>
<listitem>
<simpara>Where "<emphasis>domain1:domain2:additional_dns_terms:domainN</emphasis>" is a list of the search domains, separated by colons. For example:</simpara>
<literallayout class="monospaced">SEARCHDNS="subdomain.domain:domain"</literallayout>
<simpara>You only need to specify <literal>SEARCHDNS=</literal> if you specify the <literal>DNS=</literal> parameter.</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term><literal>DASD=</literal></term>
<listitem>
<simpara>Defines the DASD or range of DASDs to configure for the installation.</simpara>
<simpara>The installation program supports a comma-separated list of device bus IDs, or ranges of device bus IDs with the optional attributes <literal role="option">ro</literal>, <literal role="option">diag</literal>, <literal role="option">erplog</literal>, and <literal role="option">failfast</literal>. Optionally, you can abbreviate device bus IDs to device numbers with leading zeros stripped. Any optional attributes should be separated by colons and enclosed in parentheses. Optional attributes follow a device bus ID or a range of device bus IDs.</simpara>
<simpara>The only supported global option is <literal role="option">autodetect</literal>. This does not support the specification of non-existent DASDs to reserve kernel device names for later addition of DASDs. Use persistent DASD device names such as <literal>/dev/disk/by-path/name</literal> to enable transparent addition of disks later. Other global options such as <literal role="option">probeonly</literal>, <literal role="option">nopav</literal>, or <literal role="option">nofcx</literal> are not supported by the installation program.</simpara>
<simpara>Only specify those DASDs that need to be installed on your system. All unformatted DASDs specified here must be formatted after a confirmation later on in the installation program.</simpara>
<simpara>Add any data DASDs that are not needed for the root file system or the <literal>/boot</literal> partition after installation.</simpara>
<simpara>For example:</simpara>
<literallayout class="monospaced">DASD="eb1c,0.0.a000-0.0.a003,eb10-eb14(diag),0.0.ab1c(ro:diag)"</literallayout>
</listitem>
</varlistentry>
<varlistentry>
<term><literal>FCP_<emphasis>n</emphasis>="<emphasis>device_bus_ID</emphasis> [<emphasis>WWPN</emphasis> <emphasis>FCP_LUN</emphasis>]"</literal></term>
<listitem>
<simpara>For FCP-only environments, remove the <literal role="option">DASD=</literal> option from the CMS configuration file to indicate no DASD is present.</simpara>
<literallayout class="monospaced">FCP_<emphasis>n</emphasis>="<emphasis>device_bus_ID</emphasis> [<emphasis>WWPN</emphasis> <emphasis>FCP_LUN</emphasis>]"</literallayout>
<simpara>Where:</simpara>
<itemizedlist>
<listitem>
<simpara><emphasis>n</emphasis> is typically an integer value (for example <literal>FCP_1</literal> or <literal>FCP_2</literal>) but could be any string with alphabetic or numeric characters or underscores.</simpara>
</listitem>
<listitem>
<simpara><emphasis>device_bus_ID</emphasis> specifies the device bus ID of the FCP device representing the <emphasis>host bus adapter</emphasis> (HBA) (for example <literal>0.0.fc00</literal> for device fc00).</simpara>
</listitem>
<listitem>
<simpara><emphasis>WWPN</emphasis> is the world wide port name used for routing (often in conjunction with multipathing) and is as a 16-digit hex value (for example <literal>0x50050763050b073d</literal>).</simpara>
</listitem>
<listitem>
<simpara><emphasis>FCP_LUN</emphasis> refers to the storage logical unit identifier and is specified as a 16-digit hexadecimal value padded with zeroes to the right (for example <literal>0x4020400100000000</literal>).</simpara>
</listitem>
</itemizedlist>
</listitem>
</varlistentry>
</variablelist>
<note>
<simpara>A target world wide port name (WWPN) and an FCP_LUN have to be provided if the <literal>zFCP</literal> device is not configured in NPIV mode, when auto LUN scanning is disabled by the <literal>zfcp.allow_lun_scan=0</literal> kernel module parameter or when installing RHEL-9.0 or older releases. Otherwise only the <literal>device_bus_ID</literal> value is mandatory.</simpara>
</note>
<itemizedlist>
<listitem>
<simpara>These variables can be used on systems with FCP devices to activate FCP LUNs such as SCSI disks. Additional FCP LUNs can be activated during the installation interactively or by means of a Kickstart file. An example value looks similar to the following:</simpara>
<literallayout class="monospaced">FCP_1="0.0.fc00 0x50050763050b073d 0x4020400100000000"
FCP_2="0.0.4000"</literallayout>
<important>
<simpara>Each of the values used in the FCP parameters (for example <literal>FCP_1</literal> or <literal>FCP_2</literal>) are site-specific and are normally supplied by the FCP storage administrator.</simpara>
</important>
</listitem>
</itemizedlist>
</section>
<section xml:id="parameters-for-kickstart-installations-on-ibm-z_parameters-and-configuration-files-on-ibm-z">
<title>Parameters for kickstart installations on 64-bit IBM Z</title>
<simpara role="_abstract">The following parameters can be defined in a parameter file but do not work in a CMS configuration file.</simpara>
<variablelist>
<varlistentry>
<term><literal>inst.ks=<emphasis>URL</emphasis></literal></term>
<listitem>
<simpara>References a Kickstart file, which usually resides on the network for Linux installations on 64-bit IBM Z. Replace <emphasis>URL</emphasis> with the full path including the file name of the Kickstart file. This parameter activates automatic installation with Kickstart.</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term><literal>inst.cmdline</literal></term>
<listitem>
<simpara>This requires installation with a Kickstart file that answers all questions, because the installation program does not support interactive user input in cmdline mode. Ensure that your Kickstart file contains all required parameters before you use the <literal>inst.cmdline</literal> option. If a required command is missing, the installation will fail.</simpara>
</listitem>
</varlistentry>
</variablelist>
</section>
<section xml:id="miscellaneous-parameters-on-ibm-z_parameters-and-configuration-files-on-ibm-z">
<title>Miscellaneous parameters on 64-bit IBM Z</title>
<simpara role="_abstract">The following parameters can be defined in a parameter file but do not work in a CMS configuration file.</simpara>
<variablelist>
<varlistentry>
<term><literal>rd.live.check</literal></term>
<listitem>
<simpara>Turns on testing of an ISO-based installation source; for example, when using <literal>inst.repo=</literal> with an ISO on local hard disk or mounted with NFS.</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term><literal>inst.nompath</literal></term>
<listitem>
<simpara>Disables support for multipath devices.</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term><literal>inst.proxy=[<emphasis>protocol</emphasis>://][<emphasis>username</emphasis>[:<emphasis>password</emphasis>]@]<emphasis>host</emphasis>[:<emphasis>port</emphasis>]</literal></term>
<listitem>
<simpara>Specify a proxy to use with installation over HTTP, HTTPS or FTP.</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term><literal>inst.rescue</literal></term>
<listitem>
<simpara>Boot into a rescue system running from a RAM disk that can be used to fix and restore an installed system.</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term><literal>inst.stage2=<emphasis>URL</emphasis></literal></term>
<listitem>
<simpara>Specifies a path to a tree containing <literal>install.img</literal>, not to the <literal>install.img</literal> directly. Otherwise, follows the same syntax as <literal>inst.repo=</literal>. If <literal>inst.stage2</literal> is specified, it typically takes precedence over other methods of finding <literal>install.img</literal>. However, if <emphasis role="strong"><phrase role="application">Anaconda</phrase></emphasis> finds <literal>install.img</literal> on local media, the <literal>inst.stage2</literal> URL will be ignored.</simpara>
<simpara>If <literal>inst.stage2</literal> is not specified and <literal>install.img</literal> cannot be found locally, <emphasis role="strong"><phrase role="application">Anaconda</phrase></emphasis> looks to the location given by <literal>inst.repo=</literal> or <literal>method=</literal>.</simpara>
<simpara>If only <literal>inst.stage2=</literal> is given without <literal>inst.repo=</literal> or <literal>method=</literal>, <emphasis role="strong"><phrase role="application">Anaconda</phrase></emphasis> uses whatever repos the installed system would have enabled by default for installation.</simpara>
<simpara>Use the option multiple times to specify multiple HTTP, HTTPS or FTP sources. The HTTP, HTTPS or FTP paths are then tried sequentially until one succeeds:</simpara>
<literallayout class="monospaced">inst.stage2=http://hostname/path_to_install_tree/
inst.stage2=http://hostname/path_to_install_tree/
inst.stage2=http://hostname/path_to_install_tree/</literallayout>
</listitem>
</varlistentry>
<varlistentry>
<term><literal>inst.syslog=<emphasis>IP/hostname</emphasis>[:<emphasis>port</emphasis>]</literal></term>
<listitem>
<simpara>Sends log messages to a remote syslog server.</simpara>
</listitem>
</varlistentry>
</variablelist>
<simpara>The boot parameters described here are the most useful for installations and trouble shooting on 64-bit IBM Z, but only a subset of those that influence the installation program.</simpara>
</section>
<section xml:id="sample-parameter-file-and-cms-configuration-file-on-ibm-z_parameters-and-configuration-files-on-ibm-z">
<title>Sample parameter file and CMS configuration file on 64-bit IBM Z</title>
<simpara role="_abstract">To change the parameter file, begin by extending the shipped <literal>generic.prm</literal> file.</simpara>
<simpara>Example of <literal>generic.prm</literal> file:</simpara>
<literallayout class="monospaced">ro ramdisk_size=40000 cio_ignore=all,!condev
CMSDASD="191" CMSCONFFILE="redhat.conf"
inst.vnc
inst.repo=http://example.com/path/to/dvd-contents</literallayout>
<simpara>Example of <literal>redhat.conf</literal> file configuring a QETH network device (pointed to by <literal>CMSCONFFILE</literal> in <literal>generic.prm</literal>):</simpara>
<literallayout class="monospaced">NETTYPE="qeth"
SUBCHANNELS="0.0.0600,0.0.0601,0.0.0602"
PORTNAME="FOOBAR"
PORTNO="0"
LAYER2="1"
MACADDR="02:00:be:3a:01:f3"
HOSTNAME="foobar.systemz.example.com"
IPADDR="192.168.17.115"
NETMASK="255.255.255.0"
GATEWAY="192.168.17.254"
DNS="192.168.17.1"
SEARCHDNS="systemz.example.com:example.com"
DASD="200-203"</literallayout>
<itemizedlist role="_additional-resources">
<title>Additional resources</title>
<listitem>
<simpara>See section <link linkend="customizing-boot-parameters_assembly_installing-on-64-bit-ibm-z">Customizing Boot Parameters</link>, for example of the <literal>Customized generic.prm</literal> file.</simpara>
</listitem>
</itemizedlist>
</section>
</section>
<section xml:id="installing-in-an-lpar_assembly_installing-on-64-bit-ibm-z">
<title>Installing in an LPAR</title>
<section xml:id="installing-in-an-lpar_installing-in-an-lpar">
<title>Booting the installation in an LPAR</title>
<simpara role="_abstract">When installing in a <emphasis>logical partition</emphasis> (LPAR), you can boot from:</simpara>
<itemizedlist>
<listitem>
<simpara>The FTP server</simpara>
</listitem>
<listitem>
<simpara>The DASD or an FCP-attached SCSI disk prepared with the zipl boot loader</simpara>
</listitem>
</itemizedlist>
<formalpara>
<title>Procedure</title>
<para>Perform these steps to boot the installation.</para>
</formalpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>Log in on the IBM System Z Hardware Management Console (HMC) or the Support Element
(SE) as a user with sufficient privileges to install a new operating system to an LPAR. The
<emphasis role="strong">SYSPROG</emphasis> user is recommended.</simpara>
</listitem>
<listitem>
<simpara>On the Systemstab, select the mainframe you want to work with, then on the Partitions tab select the LPAR to which you wish to install.</simpara>
</listitem>
<listitem>
<simpara>At the bottom of the screen, under Daily, find the Operating System Messages.  Double-click <emphasis role="strong">Operating System Messages</emphasis> to show the text console on which Linux boot
messages will appear.</simpara>
</listitem>
</orderedlist>
<simpara>Continue with the procedure for your installation source.</simpara>
</section>
<section xml:id="connecting-to-the-installation-system_installing-in-an-lpar">
<title>Connecting to the installation system</title>
<simpara role="_abstract">After the Initial Program Load (IPL) of the Anaconda installation program is complete, connect to the 64-bit IBM Z system from a local machine, as an <literal>install</literal> user, using an ssh connection.</simpara>
<simpara>You need to connect to the installation system to continue the installation process. Use a VNC mode to run a GUI-based installation or use the established connection to run a text mode installation.</simpara>
<itemizedlist>
<title>Prerequisite</title>
<listitem>
<simpara>The initial program boot is complete on the 64-bit IBM Z system, and the command prompt displays:</simpara>
<screen>Starting installer, one moment...
        Please ssh install@my-z-system (system ip address) to begin the install.</screen>
</listitem>
<listitem>
<simpara>If you want to restrict VNC access to the installation system, then ensure <literal>inst.vncpassword=<emphasis>PASSWORD</emphasis></literal> boot parameter is configured.</simpara>
</listitem>
</itemizedlist>
<formalpara>
<title>Procedure</title>
<para>From a local machine, run the steps below to set up a remote connection with the 64-bit IBM Z system.</para>
</formalpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>On the command prompt, run the following command:</simpara>
<screen>$ssh install@_my-z-system-domain-name_</screen>
<simpara>or</simpara>
<screen>$ssh install@_my-z-system-IP-address_</screen>
</listitem>
<listitem>
<simpara>Depending on whether or not have you configured the <literal>inst.vnc</literal> parameter, the ssh session displays the following output:</simpara>
<simpara>When <literal>inst.vnc</literal> parameter is configured:</simpara>
<screen>Starting installer, one moment...
Please manually connect your vnc client to my-z-system:1 (_system-ip-address:1_) to begin the install.</screen>
<simpara>When <literal>inst.vnc</literal> parameter is not configured:</simpara>
<screen>Starting installer, one moment...
Graphical installation is not available. Starting text mode.
=============
Text mode provides a limited set of installation options.
It does not offer custom partitioning for full control
over the disk layout. Would you like to use VNC mode instead?
1) Start VNC
2) Use text mode
Please make your choice from above ['q' to quit | 'c' to continue | 'r' to refresh]:</screen>
<simpara>If you have configured the <literal>inst.vnc</literal> parameter, proceed to step 5.</simpara>
</listitem>
<listitem>
<simpara>Enter 1 to start VNC.</simpara>
</listitem>
<listitem>
<simpara>Enter a password, if you have not set the <literal>inst.vncpassword=</literal> boot option, but want to secure the server connection.</simpara>
</listitem>
<listitem>
<simpara>From a new command prompt, connect to the VNC server.</simpara>
<screen>$vncviewer _my-z-system-ip-address:display_number_</screen>
<simpara>If you have secured the connection, use the password that you have entered in the previous step or the one that you had set for <literal>inst.vncpassword=</literal> boot option.</simpara>
<simpara>The RHEL installer is launched in the VNC client.</simpara>
</listitem>
</orderedlist>
</section>
<section xml:id="installing-in-an-lpar-using-an-ftp-server_installing-in-an-lpar">
<title>Installing in an LPAR using an FTP Server</title>
<simpara role="_abstract">Use this procedure when installing Red Hat Enterprise Linux into an LPAR using an FTP server.</simpara>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>Double-click <emphasis role="strong">Load from Removable Media or Server</emphasis>.</simpara>
</listitem>
<listitem>
<simpara>In the dialog box that follows, select <emphasis role="strong">FTP Server</emphasis>, and enter the following information:</simpara>
<itemizedlist>
<listitem>
<simpara><emphasis role="strong">Host Computer</emphasis> - Host name or IP address of the FTP server you want to install from, for
example <emphasis role="strong">ftp.redhat.com</emphasis></simpara>
</listitem>
<listitem>
<simpara><emphasis role="strong">User ID</emphasis> - Your user name on the FTP server. Or, specify anonymous.</simpara>
</listitem>
<listitem>
<simpara><emphasis role="strong">Password</emphasis> - Your password. Use your email address if you are logging in as anonymous.</simpara>
</listitem>
<listitem>
<simpara><emphasis role="strong">File location (optional)</emphasis> - Directory on the FTP server holding the Red Hat
Enterprise Linux for System z, for example <emphasis role="strong">/rhel/s390x/</emphasis>.</simpara>
</listitem>
</itemizedlist>
</listitem>
<listitem>
<simpara>Click <emphasis role="strong">Continue</emphasis>.</simpara>
</listitem>
<listitem>
<simpara>In the dialog that follows, keep the default selection of <emphasis role="strong">generic.ins</emphasis> and click <emphasis role="strong">Continue</emphasis>.</simpara>
</listitem>
</orderedlist>
</section>
<section xml:id="installing-in-an-lpar-using-a-prepared-dasd_installing-in-an-lpar">
<title>Installing in an LPAR using a prepared DASD</title>
<simpara role="_abstract">Use this procedure when installing Red Hat Enterprise Linux into an LPAR using an already prepared DASD.</simpara>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>Double-click <emphasis role="strong">Load</emphasis>.</simpara>
</listitem>
<listitem>
<simpara>In the dialog box that follows, select <emphasis role="strong">Normal</emphasis> as the <emphasis role="strong">Load type</emphasis>.</simpara>
</listitem>
<listitem>
<simpara>As Load <emphasis role="strong">address</emphasis>, fill in the device number of the DASD.</simpara>
</listitem>
<listitem>
<simpara>As <emphasis role="strong">Load parameter</emphasis>, fill in the number corresponding the <emphasis role="strong">zipl</emphasis> boot menu entry that you
prepared for booting the Red Hat Enterprise Linux installation program.</simpara>
</listitem>
<listitem>
<simpara>Click the <emphasis role="strong">OK</emphasis> button.</simpara>
</listitem>
</orderedlist>
</section>
<section xml:id="installing-in-an-lpar-using-a-prepared-fcp-attached-scsi-disk_installing-in-an-lpar">
<title>Installing in an LPAR using a prepared FCP attached SCSI disk</title>
<simpara role="_abstract">Use this procedure when installing Red Hat Enterprise Linux into and LPAR using an already prepared FCP attached SCSI disk.</simpara>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>Double-click <emphasis role="strong">Load</emphasis>.</simpara>
</listitem>
<listitem>
<simpara>In the dialog box that follows, select <emphasis role="strong">SCSI</emphasis> as the <emphasis role="strong">Load type</emphasis>.</simpara>
</listitem>
<listitem>
<simpara>As <emphasis role="strong">Load address</emphasis>, fill in the device number of the FCP channel connected with the SCSI disk.</simpara>
</listitem>
<listitem>
<simpara>As <emphasis role="strong">World wide port name</emphasis>, fill in the WWPN of the storage system containing the disk as a
16-digit hexadecimal number.</simpara>
</listitem>
<listitem>
<simpara>As <emphasis role="strong">Logical unit number</emphasis>, fill in the LUN of the disk as a 16-digit hexadecimal number.</simpara>
</listitem>
<listitem>
<simpara>As <emphasis role="strong">Boot program selector</emphasis>, fill in the number corresponding the <emphasis role="strong">zipl</emphasis> boot menu entry that
you prepared for booting the Red Hat Enterprise Linux installation program.</simpara>
</listitem>
<listitem>
<simpara>Leave the <emphasis role="strong">Boot record logical block address</emphasis> as <emphasis role="strong">0</emphasis> and the <emphasis role="strong">Operating system specific load parameters</emphasis> empty.</simpara>
</listitem>
<listitem>
<simpara>Click the <emphasis role="strong">OK</emphasis> button.</simpara>
</listitem>
</orderedlist>
</section>
</section>
<section xml:id="installing-under-z-vm_assembly_installing-on-64-bit-ibm-z">
<title>Installing under z/VM</title>
<simpara role="_abstract">Use the <emphasis role="strong"><phrase role="application">x3270</phrase></emphasis> or <emphasis role="strong"><phrase role="application">c3270</phrase></emphasis> terminal emulator, to log in to z/VM from other Linux systems, or use the IBM 3270 terminal emulator on the 64-bit IBM Z Hardware Management Console (HMC). If you are running Microsoft Windows operating system, there are several options available, and can be found through an internet search. A free native Windows port of <emphasis role="strong"><phrase role="application">c3270</phrase></emphasis> called <emphasis role="strong"><phrase role="application">wc3270</phrase></emphasis> also exists.</simpara>
<simpara>When installing under z/VM, you can boot from:</simpara>
<itemizedlist>
<listitem>
<simpara>The z/VM virtual reader</simpara>
</listitem>
<listitem>
<simpara>A DASD or an FCP-attached SCSI disk prepared with the <emphasis role="strong"><phrase role="application">zipl</phrase></emphasis> boot loader</simpara>
</listitem>
</itemizedlist>
<simpara>Log on to the z/VM guest virtual machine chosen for the Linux installation.</simpara>
<note>
<simpara>If your 3270 connection is interrupted and you cannot log in again because the previous session is still active, you can replace the old session with a new one by entering the following command on the z/VM logon screen:</simpara>
<literallayout class="monospaced"><literal role="command">logon <emphasis>user</emphasis> here</literal></literallayout>
<simpara>Replace <emphasis>user</emphasis> with the name of the z/VM guest virtual machine. Depending on whether an external security manager, for example RACF, is used, the logon command might vary.</simpara>
</note>
<simpara>If you are not already running <emphasis role="strong"><phrase role="application">CMS</phrase></emphasis> (single-user operating system shipped with z/VM) in your guest, boot it now by entering the command:</simpara>
<literallayout class="monospaced"><literal role="command">cp ipl cms</literal></literallayout>
<simpara>Be sure not to use CMS disks such as your A disk (often device number 0191) as installation targets. To find out which disks are in use by CMS, use the following query:</simpara>
<literallayout class="monospaced"><literal role="command">query disk</literal></literallayout>
<simpara>You can use the following CP (z/VM Control Program, which is the z/VM hypervisor) query commands to find out about the device configuration of your z/VM guest virtual machine:</simpara>
<itemizedlist>
<listitem>
<simpara>Query the available main memory, which is called <emphasis>storage</emphasis> in 64-bit IBM Z terminology. Your guest should have at least 1 GiB of main memory.</simpara>
<literallayout class="monospaced"><literal role="command">cp query virtual storage</literal></literallayout>
</listitem>
<listitem>
<simpara>Query available network devices by type:</simpara>
<variablelist>
<varlistentry>
<term><literal role="command">osa</literal></term>
<listitem>
<simpara>OSA - CHPID type OSD, real or virtual (VSWITCH or GuestLAN), both in QDIO mode</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term><literal role="command">hsi</literal></term>
<listitem>
<simpara>HiperSockets - CHPID type IQD, real or virtual (GuestLAN type Hipers)</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term><literal role="command">lcs</literal></term>
<listitem>
<simpara>LCS - CHPID type OSE</simpara>
<simpara>For example, to query all of the network device types mentioned above, run:</simpara>
<literallayout class="monospaced"><literal role="command">cp query virtual osa</literal></literallayout>
</listitem>
</varlistentry>
</variablelist>
</listitem>
<listitem>
<simpara>Query available DASDs. Only those that are flagged <literal>RW</literal> for read-write mode can be used as installation targets:</simpara>
<literallayout class="monospaced"><literal role="command">cp query virtual dasd</literal></literallayout>
</listitem>
<listitem>
<simpara>Query available FCP devices (vHBAs):</simpara>
<literallayout class="monospaced"><literal role="command">cp query virtual fcp</literal></literallayout>
</listitem>
</itemizedlist>
<section xml:id="using-the-zvm-reader_installing-under-z-vm">
<title>Using the z/VM Reader</title>
<simpara role="_abstract">Perform the following steps to boot from the z/VM reader:</simpara>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>If necessary, add the device containing the z/VM TCP/IP tools to your CMS disk list. For example:</simpara>
<literallayout class="monospaced"><literal role="command">cp link tcpmaint 592 592</literal>
<literal role="command">acc 592 <emphasis>fm</emphasis></literal></literallayout>
<simpara>Replace <emphasis>fm</emphasis> with any <literal>FILEMODE</literal> letter.</simpara>
</listitem>
<listitem>
<simpara>Execute the command:</simpara>
<literallayout class="monospaced"><literal role="command">ftp <emphasis>host</emphasis></literal></literallayout>
<simpara>Where <literal>host</literal> is the host name or IP address of the FTP server that hosts the boot images (<literal>kernel.img</literal> and <literal>initrd.img</literal>).</simpara>
</listitem>
<listitem>
<simpara>Log in and execute the following commands. Use the <literal>(repl</literal> option if you are overwriting existing <literal>kernel.img</literal>, <literal>initrd.img</literal>, <literal>generic.prm</literal>, or <literal>redhat.exec</literal> files:</simpara>
<literallayout class="monospaced"><literal role="command">cd /<emphasis>location/of/install-tree</emphasis>/images/</literal>
<literal role="command">ascii</literal>
<literal role="command">get generic.prm (repl</literal>
<literal role="command">get redhat.exec (repl</literal>
<literal role="command">locsite fix 80</literal>
<literal role="command">binary</literal>
<literal role="command">get kernel.img (repl</literal>
<literal role="command">get initrd.img (repl</literal>
<literal role="command">quit</literal></literallayout>
</listitem>
<listitem>
<simpara>Optionally, check whether the files were transferred correctly by using the CMS command <literal>filelist</literal> to show the received files and their format. It is important that <literal>kernel.img</literal> and <literal>initrd.img</literal> have a fixed record length format denoted by F in the Format column and a record length of 80 in the Lrecl column. For example:</simpara>
<literallayout class="monospaced">VMUSER FILELIST A0 V 169 Trunc=169 Size=6 Line=1 Col=1 Alt=0
Cmd Filename	Filetype	Fm	Format	Lrecl	Records	Blocks	Date	Time
REDHAT	EXEC		B1	V	22	1 	1	4/15/10	9:30:40
GENERIC	PRM		B1	V	44	1	1	4/15/10	9:30:32
INITRD	IMG		B1	F	80	118545	2316	4/15/10	9:30:25
KERNEL	IMG		B1	F	80	74541	912	4/15/10	9:30:17</literallayout>
<simpara>Press <keycap>PF3</keycap> to quit filelist and return to the CMS prompt.</simpara>
</listitem>
<listitem>
<simpara>Customize boot parameters in <literal>generic.prm</literal> as necessary. See <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_a_standard_rhel_9_installation/index#customizing-boot-parameters_installing-RHEL">Customizing boot parameters</link> for details.</simpara>
<simpara>Another way to configure storage and network devices is by using a CMS configuration file. In such a case, add the <literal><emphasis>CMSDASD=</emphasis></literal> and <literal><emphasis>CMSCONFFILE=</emphasis></literal> parameters to <literal>generic.prm</literal>. See <link linkend="ibm-zvm-configuration-file_parameters-and-configuration-files-on-ibm-z">IBM Z/VM configuration file</link> for more details.</simpara>
</listitem>
<listitem>
<simpara>Finally, execute the REXX script redhat.exec to boot the installation program:</simpara>
<literallayout class="monospaced"><literal role="command">redhat</literal></literallayout>
</listitem>
</orderedlist>
</section>
<section xml:id="using-a-prepared-dasd_installing-under-z-vm">
<title>Using a Prepared DASD</title>
<simpara>Perform the following steps to use a Prepared DASD:</simpara>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>Boot from the prepared DASD and select the <emphasis role="strong">zipl</emphasis> boot menu entry referring to the Red Hat Enterprise Linux installation program. Use a command of the following form:</simpara>
<literallayout class="monospaced"><literal role="command">cp ipl <emphasis>DASD_device_number</emphasis> loadparm <emphasis>boot_entry_number</emphasis></literal></literallayout>
<simpara>Replace <emphasis>DASD_device_number</emphasis> with the device number of the boot device, and <emphasis>boot_entry_number</emphasis> with the <emphasis role="strong">zipl</emphasis> configuration menu for this device. For example:</simpara>
<literallayout class="monospaced"><literal role="command">cp ipl eb1c loadparm 0</literal></literallayout>
</listitem>
</orderedlist>
</section>
<section xml:id="using-a-prepared-fcp-attached-scsi-disk_installing-under-z-vm">
<title>Using a Prepared FCP attached SCSI Disk</title>
<simpara role="_abstract">Perform the following steps to boot from a prepared FCP-attached SCSI disk:</simpara>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>Configure the SCSI boot loader of z/VM to access the prepared SCSI disk in the FCP Storage Area Network. Select the prepared <emphasis role="strong">zipl</emphasis> boot menu entry referring to the Red Hat Enterprise Linux installation program. Use a command of the following form:</simpara>
<literallayout class="monospaced"><literal role="command">cp set loaddev portname <emphasis>WWPN</emphasis> lun LUN bootprog <emphasis>boot_entry_number</emphasis></literal></literallayout>
<simpara>Replace <emphasis>WWPN</emphasis> with the World Wide Port Name of the storage system and <emphasis>LUN</emphasis> with the Logical Unit Number of the disk. The 16-digit hexadecimal numbers must be split into two pairs of eight digits each. For example:</simpara>
<literallayout class="monospaced"><literal role="command">cp set loaddev portname 50050763 050b073d lun 40204011 00000000 bootprog 0</literal></literallayout>
</listitem>
<listitem>
<simpara>Optionally, confirm your settings with the command:</simpara>
<literallayout class="monospaced"><literal role="command">query loaddev</literal></literallayout>
</listitem>
<listitem>
<simpara>Boot the FCP device connected with the storage system containing the disk with the following command:</simpara>
<literallayout class="monospaced"><literal role="command">cp ipl <emphasis>FCP_device</emphasis></literal></literallayout>
<simpara>For example:</simpara>
<literallayout class="monospaced"><literal role="command">cp ipl fc00</literal></literallayout>
</listitem>
</orderedlist>
</section>
<section xml:id="using-parameter-and-configuration-files-on-ibm-z_installing-under-z-vm">
<title>Using parameter and configuration files on 64-bit IBM Z</title>
<simpara role="_abstract">The 64-bit IBM Z architecture can use a customized parameter file to pass boot parameters to the kernel and the installation program.</simpara>
<simpara>You need to change the parameter file if you want to:</simpara>
<itemizedlist>
<listitem>
<simpara>Install unattended with Kickstart.</simpara>
</listitem>
<listitem>
<simpara>Choose non-default installation settings that are not accessible through the installation program&#8217;s interactive user interface, such as rescue mode.</simpara>
</listitem>
</itemizedlist>
<simpara>The parameter file can be used to set up networking non-interactively before the installation program (<emphasis role="strong"><phrase role="application">Anaconda</phrase></emphasis>) starts.</simpara>
<simpara>The kernel parameter file is limited to 895 characters plus an end-of-line character. The parameter file can be variable or fixed record format. Fixed record format increases the file size by padding each line up to the record length. Should you encounter problems with the installation program not recognizing all specified parameters in LPAR environments, you can try to put all parameters in one single line or start and end each line with a space character.</simpara>
<simpara>The parameter file contains kernel parameters, such as <literal>ro</literal>, and parameters for the installation process, such as <literal>vncpassword=test</literal> or <literal>vnc</literal>.</simpara>
</section>
</section>
<section xml:id="installing-under-kvm_assembly_installing-on-64-bit-ibm-z">
<title>Installing under KVM</title>
<simpara role="_abstract">This section describes how to install Red Hat Enterprise Linux 9 in the KVM host.</simpara>
<itemizedlist>
<title>Prerequisites</title>
<listitem>
<simpara>Set up the Red Hat Enterprise Linux in LPAR mode as a KVM host. For more details, see the <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/performing_a_standard_rhel_9_installation/assembly_installing-on-64-bit-ibm-z_installing-rhel#installing-in-an-lpar_assembly_installing-on-64-bit-ibm-z">Installing in an LPAR</link> section.</simpara>
</listitem>
</itemizedlist>
<itemizedlist>
<title>Procedure</title>
<listitem>
<simpara>Create virtual machine with the instance of Red Hat Enterprise Linux as a KVM guest operating system, use the following <literal role="command">virt-install</literal> command on the KVM host:</simpara>
<literallayout class="monospaced">$ virt-install --name=&lt;guest_name&gt; --disk size=&lt;disksize_in_GB&gt; --memory=&lt;memory_size_in_MB&gt; --cdrom &lt;filepath_to_iso&gt; --graphics vnc</literallayout>
</listitem>
</itemizedlist>
<itemizedlist role="_additional-resources">
<title>Additional resources</title>
<listitem>
<simpara><link xl:href="https://www.ibm.com/support/knowledgecenter/linuxonibm/com.ibm.linux.z.lkdd/lkdd_r_pt_kvm.html">KVM on 64-bit IBM Z</link></simpara>
</listitem>
<listitem>
<simpara>The <literal role="command">virt-install</literal> man page</simpara>
</listitem>
<listitem>
<simpara><link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/configuring_and_managing_virtualization/assembly_creating-virtual-machines_configuring-and-managing-virtualization#creating-virtual-machines-using-the-command-line-interface_assembly_creating-virtual-machines">Creating virtual machines using the command-line interface</link></simpara>
</listitem>
</itemizedlist>
</section>
<section xml:id="configuring-a-linux-instance-on-ibm-z_assembly_installing-on-64-bit-ibm-z">
<title>Configuring a Linux instance on 64-bit IBM Z</title>
<simpara role="_abstract">This section describes most of the common tasks for installing Red Hat Enterprise Linux on 64-bit IBM Z.</simpara>
<section xml:id="adding-dasds_configuring-a-linux-instance-on-ibm-z">
<title>Adding DASDs</title>
<simpara role="_abstract">Direct Access Storage Devices (DASDs) are a type of storage commonly used with 64-bit IBM Z. For more information, see  <link xl:href="https://www.ibm.com/support/knowledgecenter/linuxonibm/com.ibm.linux.z.lkdd/lkdd_t_dasd_wrk.html">Working with DASDs</link> in the IBM Knowledge Center.
The following example is how to set a DASD online, format it, and make the change persistent.</simpara>
<simpara>Verify that the device is attached or linked to the Linux system if running under z/VM.</simpara>
<literallayout class="monospaced">CP ATTACH EB1C TO *</literallayout>
<simpara>To link a mini disk to which you have access, run the following commands:</simpara>
<literallayout class="monospaced"><literal role="command">CP LINK RHEL7X 4B2E 4B2E MR</literal>
<literal role="command">DASD 4B2E LINKED R/W</literal></literallayout>
</section>
<section xml:id="dynamically-setting-dasds-online_configuring-a-linux-instance-on-ibm-z">
<title>Dynamically setting DASDs online</title>
<simpara role="_abstract">This section contains information about setting a DASD online.</simpara>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>Use the <literal role="application">cio_ignore</literal> utility to remove the DASD from the list of ignored devices and make it visible to Linux:</simpara>
<literallayout class="monospaced"># cio_ignore -r device_number</literallayout>
<simpara>Replace <emphasis>device_number</emphasis> with the device number of the DASD. For example:</simpara>
<literallayout class="monospaced"># cio_ignore -r 4b2e</literallayout>
</listitem>
<listitem>
<simpara>Set the device online. Use a command of the following form:</simpara>
<literallayout class="monospaced"># chccwdev -e device_number</literallayout>
<simpara>Replace <emphasis>device_number</emphasis> with the device number of the DASD. For example:</simpara>
<literallayout class="monospaced"># chccwdev -e 4b2e</literallayout>
<simpara>As an alternative, you can set the device online using sysfs attributes:</simpara>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>Use the <literal role="command">cd</literal> command to change to the /sys/ directory that represents that volume:</simpara>
<literallayout class="monospaced"><literal>#</literal> cd /sys/bus/ccw/drivers/dasd-eckd/0.0.4b2e/
<literal>#</literal> ls -l
total 0
-r--r--r--  1 root root 4096 Aug 25 17:04 availability
-rw-r--r--  1 root root 4096 Aug 25 17:04 cmb_enable
-r--r--r--  1 root root 4096 Aug 25 17:04 cutype
-rw-r--r--  1 root root 4096 Aug 25 17:04 detach_state
-r--r--r--  1 root root 4096 Aug 25 17:04 devtype
-r--r--r--  1 root root 4096 Aug 25 17:04 discipline
-rw-r--r--  1 root root 4096 Aug 25 17:04 online
-rw-r--r--  1 root root 4096 Aug 25 17:04 readonly
-rw-r--r--  1 root root 4096 Aug 25 17:04 use_diag</literallayout>
</listitem>
<listitem>
<simpara>Check to see if the device is already online:</simpara>
<literallayout class="monospaced"><literal>#</literal> cat online
0</literallayout>
</listitem>
<listitem>
<simpara>If it is not online, enter the following command to bring it online:</simpara>
<literallayout class="monospaced"><literal>#</literal> echo 1 &gt; online
<literal>#</literal> cat online
1</literallayout>
</listitem>
</orderedlist>
</listitem>
<listitem>
<simpara>Verify which block devnode it is being accessed as:</simpara>
<literallayout class="monospaced"><literal>#</literal> ls -l
total 0
-r--r--r--  1 root root 4096 Aug 25 17:04 availability
lrwxrwxrwx  1 root root    0 Aug 25 17:07 block -&gt; ../../../../block/dasdb
-rw-r--r--  1 root root 4096 Aug 25 17:04 cmb_enable
-r--r--r--  1 root root 4096 Aug 25 17:04 cutype
-rw-r--r--  1 root root 4096 Aug 25 17:04 detach_state
-r--r--r--  1 root root 4096 Aug 25 17:04 devtype
-r--r--r--  1 root root 4096 Aug 25 17:04 discipline
-rw-r--r--  1 root root    0 Aug 25 17:04 online
-rw-r--r--  1 root root 4096 Aug 25 17:04 readonly
-rw-r--r--  1 root root 4096 Aug 25 17:04 use_diag</literallayout>
<simpara>As shown in this example, device 4B2E is being accessed as /dev/dasdb.</simpara>
</listitem>
</orderedlist>
<simpara>These instructions set a DASD online for the current session, but this is not persistent across reboots.</simpara>
<simpara>For instructions on how to set a DASD online persistently, see <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_a_standard_rhel_9_installation/index#persistently-setting-dasds-online_configuring-a-linux-instance-on-ibm-z">Persistently setting DASDs online</link>. When you work with DASDs, use the persistent device symbolic links under <literal>/dev/disk/by-path/</literal>.</simpara>
</section>
<section xml:id="preparing-a-new-dasd-with-low-level-formatting_configuring-a-linux-instance-on-ibm-z">
<title>Preparing a new DASD with low-level formatting</title>
<simpara role="_abstract">Once the disk is online, change back to the <literal>/root</literal> directory and low-level format the device. This is only required once for a DASD during its entire lifetime:</simpara>
<literallayout class="monospaced"><literal>#</literal> cd /root
<literal>#</literal> dasdfmt -b 4096 -d cdl -p /dev/disk/by-path/ccw-0.0.4b2e
Drive Geometry: 10017 Cylinders * 15 Heads =  150255 Tracks

I am going to format the device /dev/disk/by-path/ccw-0.0.4b2e in the following way:
Device number of device : 0x4b2e
Labelling device        : yes
Disk label              : VOL1
Disk identifier         : 0X4B2E
Extent start (trk no)   : 0
Extent end (trk no)     : 150254
Compatible Disk Layout  : yes
Blocksize               : 4096

---&gt;&gt; ATTENTION! &lt;&lt;---
All data of that device will be lost.
Type "yes" to continue, no will leave the disk untouched: yes
cyl    97 of  3338 |#----------------------------------------------|   2%</literallayout>
<simpara>When the progress bar reaches the end and the format is complete, <emphasis role="strong"><phrase role="application">dasdfmt</phrase></emphasis> prints the following output:</simpara>
<literallayout class="monospaced">Rereading the partition table...
Exiting...</literallayout>
<simpara>Now, use <emphasis role="strong"><phrase role="application">fdasd</phrase></emphasis> to partition the DASD. You can create up to three partitions on a DASD. In our example here, we create one partition spanning the whole disk:</simpara>
<literallayout class="monospaced"># fdasd -a /dev/disk/by-path/ccw-0.0.4b2e
reading volume label ..: VOL1
reading vtoc ..........: ok

auto-creating one partition for the whole disk...
writing volume label...
writing VTOC...
rereading partition table...</literallayout>
<simpara>After a (low-level formatted) DASD is online, it can be used like any other disk under Linux. For example, you can create file systems, LVM physical volumes, or swap space on its partitions, for example <literal>/dev/disk/by-path/ccw-0.0.4b2e-part1</literal>. Never use the full DASD device (<literal>dev/dasdb</literal>) for anything but the commands <literal role="command">dasdfmt</literal> and <literal role="command">fdasd</literal>. If you want to use the entire DASD, create one partition spanning the entire drive as in the <literal>fdasd</literal> example above.</simpara>
<simpara>To add additional disks later without breaking existing disk entries in, for example, <literal>/etc/fstab</literal>, use the persistent device symbolic links under <literal>/dev/disk/by-path/</literal>.</simpara>
</section>
<section xml:id="persistently-setting-dasds-online_configuring-a-linux-instance-on-ibm-z">
<title>Persistently setting DASDs online</title>
<simpara>The above instructions described how to activate DASDs dynamically in a running system. However, such changes are not persistent and do not survive a reboot. Making changes to the DASD configuration persistent in your Linux system depends on whether the DASDs belong to the root file system. Those DASDs required for the root file system need to be activated very early during the boot process by the <literal>initramfs</literal> to be able to mount the root file system.</simpara>
<simpara role="_abstract">The <literal role="command">cio_ignore</literal> commands are handled transparently for persistent device configurations and you do not need to free devices from the ignore list manually.</simpara>
</section>
<section xml:id="dasds-that-are-part-of-the-root-file-system_configuring-a-linux-instance-on-ibm-z">
<title>DASDs that are part of the root file system</title>
<simpara role="_abstract">The file you have to modify to add DASDs that are part of the root file system has changed in Red Hat Enterprise Linux 9. Instead of editing the <literal>/etc/zipl.conf</literal> file, the new file to be edited, and its location, may be found by running the following commands:</simpara>
<literallayout class="monospaced"># machine_id=$(cat /etc/machine-id)
# kernel_version=$(uname -r)
# ls /boot/loader/entries/$machine_id-$kernel_version.conf</literallayout>
<simpara>There is one boot option to activate DASDs early in the boot process: <literal>rd.dasd=</literal>. This option takes a Direct Access Storage Device (DASD) adapter device bus identifier.
For multiple DASDs, specify the parameter multiple times, or use a comma separated list of bus IDs. To specify a range of DASDs, specify the first and the last bus ID.
Below is an example of the <literal>/boot/loader/entries/4ab74e52867b4f998e73e06cf23fd761-4.18.0-80.el8.s390x.conf</literal> file for a system that uses physical volumes on partitions of two DASDs for an LVM volume group <literal>vg_devel1</literal> that contains a logical volume <literal>lv_root</literal> for the root file system.</simpara>
<literallayout class="monospaced">title Red Hat Enterprise Linux (4.18.0-80.el8.s390x) 8.0 (Ootpa)
version 4.18.0-80.el8.s390x
linux /boot/vmlinuz-4.18.0-80.el8.s390x
initrd /boot/initramfs-4.18.0-80.el8.s390x.img
options root=/dev/mapper/vg_devel1-lv_root crashkernel=auto rd.dasd=0.0.0200 rd.dasd=0.0.0207 rd.lvm.lv=vg_devel1/lv_root rd.lvm.lv=vg_devel1/lv_swap cio_ignore=all,!condev rd.znet=qeth,0.0.0a00,0.0.0a01,0.0.0a02,layer2=1,portno=0
id rhel-20181027190514-4.18.0-80.el8.s390x
grub_users $grub_users
grub_arg --unrestricted
grub_class kernel</literallayout>
<simpara>To add another physical volume on a partition of a third DASD with device bus ID <literal>0.0.202b</literal>. To do this, add <literal>rd.dasd=0.0.202b</literal> to the parameters line of your boot kernel in <literal>/boot/loader/entries/4ab74e52867b4f998e73e06cf23fd761-4.18.0-32.el8.s390x.conf</literal>:</simpara>
<literallayout class="monospaced">title Red Hat Enterprise Linux (4.18.0-80.el8.s390x) 8.0 (Ootpa)
version 4.18.0-80.el8.s390x
linux /boot/vmlinuz-4.18.0-80.el8.s390x
initrd /boot/initramfs-4.18.0-80.el8.s390x.img
options root=/dev/mapper/vg_devel1-lv_root crashkernel=auto rd.dasd=0.0.0200 rd.dasd=0.0.0207 rd.dasd=0.0.202b rd.lvm.lv=vg_devel1/lv_root rd.lvm.lv=vg_devel1/lv_swap cio_ignore=all,!condev rd.znet=qeth,0.0.0a00,0.0.0a01,0.0.0a02,layer2=1,portno=0
id rhel-20181027190514-4.18.0-80.el8.s390x
grub_users $grub_users
grub_arg --unrestricted
grub_class kernel</literallayout>
<warning>
<simpara>Make sure the length of the kernel command line in the configuration file does not exceed 896 bytes. Otherwise, the boot loader cannot be saved, and the installation fails.</simpara>
</warning>
<simpara>Run <literal role="command">zipl</literal> to apply the changes of the configuration file for the next IPL:</simpara>
<literallayout class="monospaced"># zipl -V
Using config file '/etc/zipl.conf'
Using BLS config file '/boot/loader/entries/4ab74e52867b4f998e73e06cf23fd761-4.18.0-80.el8.s390x.conf'
Target device information
  Device..........................: 5e:00
  Partition.......................: 5e:01
  Device name.....................: dasda
  Device driver name..............: dasd
  DASD device number..............: 0201
  Type............................: disk partition
  Disk layout.....................: ECKD/compatible disk layout
  Geometry - heads................: 15
  Geometry - sectors..............: 12
  Geometry - cylinders............: 13356
  Geometry - start................: 24
  File system block size..........: 4096
  Physical block size.............: 4096
  Device size in physical blocks..: 262152
Building bootmap in '/boot'
Building menu 'zipl-automatic-menu'
Adding #1: IPL section '4.18.0-80.el8.s390x' (default)
  initial ramdisk...: /boot/initramfs-4.18.0-80.el8.s390x.img
  kernel image......: /boot/vmlinuz-4.18.0-80.el8.s390x
  kernel parmline...: 'root=/dev/mapper/vg_devel1-lv_root crashkernel=auto rd.dasd=0.0.0200 rd.dasd=0.0.0207 rd.dasd=0.0.202b rd.lvm.lv=vg_devel1/lv_root rd.lvm.lv=vg_devel1/lv_swap cio_ignore=all,!condev rd.znet=qeth,0.0.0a00,0.0.0a01,0.0.0a02,layer2=1,portno=0'
  component address:
    kernel image....: 0x00010000-0x0049afff
    parmline........: 0x0049b000-0x0049bfff
    initial ramdisk.: 0x004a0000-0x01a26fff
    internal loader.: 0x0000a000-0x0000cfff
Preparing boot menu
  Interactive prompt......: enabled
  Menu timeout............: 5 seconds
  Default configuration...: '4.18.0-80.el8.s390x'
Preparing boot device: dasda (0201).
Syncing disks...
Done.</literallayout>
</section>
<section xml:id="dasds-not-part-of-root-filesystem_configuring-a-linux-instance-on-ibm-z">
<title>DASDs that are not part of the root file system</title>
<simpara role="_abstract">Direct Access Storage Devices (DASDs) that are not part of the root file system, that is, <emphasis>data disks</emphasis>, are persistently configured in the <literal role="filename">/etc/dasd.conf</literal> file. This file contains one DASD per line, where each line begins with the DASD&#8217;s bus ID.</simpara>
<simpara>When adding a DASD to the <literal role="filename">/etc/dasd.conf</literal> file, use key-value pairs to specify the options for each entry. Separate the key and its value with an equal (=) sign. When adding multiple options, use a space or a tab to separate each option.</simpara>
<formalpara>
<title>Example <literal role="filename">/etc/dasd.conf</literal> file</title>
<para>
<screen>0.0.0207
0.0.0200 use_diag=1 readonly=1</screen>
</para>
</formalpara>
<simpara>Changes to the <literal role="filename">/etc/dasd.conf</literal> file take effect after a system reboot or after a new DASD is dynamically added by changing the system&#8217;s I/O configuration (that is, the DASD is attached under z/VM).</simpara>
<simpara>Alternatively, to activate a DASD that you have added to the <literal role="filename">/etc/dasd.conf</literal> file, complete the following steps:</simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>Remove the DASD from the list of ignored devices and make it visible using the <literal>cio_ignore</literal> utility:</simpara>
<screen># cio_ignore -r <emphasis>device_number</emphasis></screen>
<simpara>where <literal><emphasis>device_number</emphasis></literal> is the DASD device number.</simpara>
<simpara>For example, if the device number is <literal>021a</literal>, run:</simpara>
<screen># cio_ignore -r 021a</screen>
</listitem>
<listitem>
<simpara>Activate the DASD by writing to the device&#8217;s <literal>uevent</literal> attribute:</simpara>
<screen># echo add > /sys/bus/ccw/devices/<emphasis>dasd-bus-ID</emphasis>/uevent</screen>
<simpara>where <literal><emphasis>dasd-bus-ID</emphasis></literal> is the DASD&#8217;s bus ID.</simpara>
<simpara>For example, if the bus ID is <literal>0.0.021a</literal>, run:</simpara>
<screen># echo add &gt; /sys/bus/ccw/devices/0.0.021a/uevent</screen>
</listitem>
</orderedlist>
</section>
<section xml:id="fcp-luns-that-are-part-of-the-root-file-system_configuring-a-linux-instance-on-ibm-z">
<title>FCP LUNs that are part of the root file system</title>
<simpara role="_abstract">The only file you have to modify for adding FCP LUNs that are part of the root file system has changed in Red Hat Enterprise Linux 9. Instead of editing the <literal>/etc/zipl.conf</literal> file, the new file to be edited, and its location, may be found by running the following commands:</simpara>
<literallayout class="monospaced"># machine_id=$(cat /etc/machine-id)
# kernel_version=$(uname -r)
# ls /boot/loader/entries/$machine_id-$kernel_version.conf</literallayout>
<simpara>Red Hat Enterprise Linux provides a parameter to activate FCP LUNs early in the boot process: <literal>rd.zfcp=</literal>. The value is a comma-separated list containing the FCP device bus ID, the target WWPN as 16 digit hexadecimal number prefixed with <literal>0x</literal>, and the FCP LUN prefixed with 0x and padded with zeroes to the right to have 16 hexadecimal digits.</simpara>
<simpara>The WWPN and FCP LUN values are only necessary if the <literal>zFCP</literal> device is not configured in NPIV mode, when auto LUN scanning is disabled by the <literal>zfcp.allow_lun_scan=0</literal> kernel module parameter or when installing RHEL-9.0 or older releases. Otherwise they can be omitted, for example, <literal>rd.zfcp=0.0.4000</literal>. Below is an example of the <literal>/boot/loader/entries/4ab74e52867b4f998e73e06cf23fd761-5.14.0-55.el9.s390x.conf</literal> file for a system that uses a physical volume on a partition of an FCP-attached SCSI disk, with two paths, for an LVM volume group <literal>vg_devel1</literal> that contains a logical volume <literal>lv_root</literal> for the root file system.</simpara>
<literallayout class="monospaced">title Red Hat Enterprise Linux (5.14.0-55.el9.s390x) 9.0 (Plow)
version 5.14.0-55.el9.s390x
linux /boot/vmlinuz-5.14.0-55.el9.s390x
initrd /boot/initramfs-5.14.0-55.el9.s390x.img
options root=/dev/mapper/vg_devel1-lv_root crashkernel=auto rd.zfcp=0.0.fc00,0x5105074308c212e9,0x401040a000000000 rd.zfcp=0.0.fcd0,0x5105074308c2aee9,0x401040a000000000 rd.lvm.lv=vg_devel1/lv_root rd.lvm.lv=vg_devel1/lv_swap cio_ignore=all,!condev rd.znet=qeth,0.0.0a00,0.0.0a01,0.0.0a02,layer2=1,portno=0
id rhel-20181027190514-5.14.0-55.el9.s390x
grub_users $grub_users
grub_arg --unrestricted
grub_class kernel</literallayout>
<orderedlist numeration="arabic">
<listitem>
<simpara>To add another physical volume on a partition of a second FCP-attached SCSI disk with FCP LUN <literal>0x401040a300000000</literal> using the same two paths as the already existing physical volume, add <literal>rd.zfcp=0.0.fc00,0x5105074308c212e9</literal>,<literal>0x401040a300000000</literal> and <literal>rd.zfcp=0.0.fcd0</literal>,<literal>0x5105074308c2aee9</literal>,<literal>0x401040a300000000</literal> to the parameters line of your boot kernel in <literal>/boot/loader/entries/4ab74e52867b4f998e73e06cf23fd761-5.14.0-55.el9.s390x.conf</literal>. For example:</simpara>
</listitem>
</orderedlist>
<literallayout class="monospaced">title Red Hat Enterprise Linux (5.14.0-55.el9.s390x) 9.0 (Plow)
version 5.14.0-55.el9.s390x
linux /boot/vmlinuz-5.14.0-55.el9.s390x
initrd /boot/initramfs-5.14.0-55.el9.s390x.img
options root=/dev/mapper/vg_devel1-lv_root crashkernel=auto rd.zfcp=0.0.fc00,0x5105074308c212e9,0x401040a000000000 rd.zfcp=0.0.fcd0,0x5105074308c2aee9,0x401040a000000000 rd.zfcp=0.0.fc00,0x5105074308c212e9,0x401040a300000000 rd.zfcp=0.0.fcd0,0x5105074308c2aee9,0x401040a300000000 rd.lvm.lv=vg_devel1/lv_root rd.lvm.lv=vg_devel1/lv_swap cio_ignore=all,!condev rd.znet=qeth,0.0.0a00,0.0.0a01,0.0.0a02,layer2=1,portno=0
id rhel-20181027190514-5.14.0-55.el9.s390x
grub_users $grub_users
grub_arg --unrestricted
grub_class kernel</literallayout>
<warning>
<simpara>Make sure the length of the kernel command line in the configuration file does not exceed 896 bytes. Otherwise, the boot loader cannot be saved, and the installation fails.</simpara>
</warning>
<itemizedlist>
<listitem>
<simpara>Run <literal>dracut -f</literal> to update the initial RAM disk of your target kernel.</simpara>
</listitem>
<listitem>
<simpara>Run <literal role="command">zipl</literal> to apply the changes of the configuration file for the next IPL:</simpara>
</listitem>
</itemizedlist>
<literallayout class="monospaced"># zipl -V
Using config file '/etc/zipl.conf'
Using BLS config file '/boot/loader/entries/4ab74e52867b4f998e73e06cf23fd761-5.14.0-55.el9.s390x.conf'
Run /lib/s390-tools/zipl_helper.device-mapper /boot
Target device information
Device..........................: fd:00
Partition.......................: fd:01
Device name.....................: dm-0
Device driver name..............: device-mapper
Type............................: disk partition
Disk layout.....................: SCSI disk layout
Geometry - start................: 2048
File system block size..........: 4096
Physical block size.............: 512
Device size in physical blocks..: 10074112
Building bootmap in '/boot/'
Building menu 'zipl-automatic-menu'
Adding #1: IPL section '5.14.0-55.el9.s390x' (default)
kernel image......: /boot/vmlinuz-5.14.0-55.el9.s390x
kernel parmline...: 'root=/dev/mapper/vg_devel1-lv_root crashkernel=auto rd.zfcp=0.0.fc00,0x5105074308c212e9,0x401040a000000000 rd.zfcp=0.0.fcd0,0x5105074308c2aee9,0x401040a000000000 rd.zfcp=0.0.fc00,0x5105074308c212e9,0x401040a300000000 rd.zfcp=0.0.fcd0,0x5105074308c2aee9,0x401040a300000000 rd.lvm.lv=vg_devel1/lv_root rd.lvm.lv=vg_devel1/lv_swap cio_ignore=all,!condev rd.znet=qeth,0.0.0a00,0.0.0a01,0.0.0a02,layer2=1,portno=0'
initial ramdisk...: /boot/initramfs-5.14.0-55.el9.s390x.img component address:
kernel image....: 0x00010000-0x007a21ff
parmline........: 0x00001000-0x000011ff
initial ramdisk.: 0x02000000-0x028f63ff
internal loader.: 0x0000a000-0x0000a3ff
Preparing boot device: dm-0.
Detected SCSI PCBIOS disk layout.
Writing SCSI master boot record.
Syncing disks...
Done.</literallayout>
</section>
<section xml:id="fcp-luns-that-are-not-part-of-the-root-file-system_configuring-a-linux-instance-on-ibm-z">
<title>FCP LUNs that are not part of the root file system</title>
<simpara role="_abstract">FCP LUNs that are not part of the root file system, such as data disks, are persistently configured in the file <literal>/etc/zfcp.conf</literal>. It contains one FCP LUN per line. Each line contains the device bus ID of the FCP adapter, the target WWPN as 16 digit hexadecimal number prefixed with <literal>0x</literal>, and the FCP LUN prefixed with <literal>0x</literal> and padded with zeroes to the right to have 16 hexadecimal digits, separated by a space or tab.</simpara>
<simpara>The WWPN and FCP LUN values are only necessary if the <literal>zFCP</literal> device is not configured in NPIV mode, when <literal>auto LUN</literal> scanning is disabled by the <literal>zfcp.allow_lun_scan=0</literal> kernel module parameter or when installing RHEL-9.0 or older releases. Otherwise they can be omitted and only the device bus ID is mandatory.</simpara>
<simpara>Entries in <literal>/etc/zfcp.conf</literal> are activated and configured by udev when an FCP adapter is added to the system. At boot time, all FCP adapters visible to the system are added and trigger <emphasis role="strong"><phrase role="application">udev</phrase></emphasis>.</simpara>
<simpara>Example content of <literal>/etc/zfcp.conf</literal>:</simpara>
<literallayout class="monospaced">0.0.fc00 0x5105074308c212e9 0x401040a000000000
0.0.fc00 0x5105074308c212e9 0x401040a100000000
0.0.fc00 0x5105074308c212e9 0x401040a300000000
0.0.fcd0 0x5105074308c2aee9 0x401040a000000000
0.0.fcd0 0x5105074308c2aee9 0x401040a100000000
0.0.fcd0 0x5105074308c2aee9 0x401040a300000000
0.0.4000
0.0.5000</literallayout>
<simpara>Modifications of <literal>/etc/zfcp.conf</literal> only become effective after a reboot of the system or after the dynamic addition of a new FCP channel by changing the system&#8217;s I/O configuration (for example, a channel is attached under z/VM). Alternatively, you can trigger the activation of a new entry in <literal>/etc/zfcp.conf</literal> for an FCP adapter which was previously not active, by executing the following commands:</simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>Use the <literal>zfcp_cio_free</literal> utility to remove the FCP adapters from the list of ignored devices and make them visible to Linux:</simpara>
<literallayout class="monospaced"># zfcp_cio_free</literallayout>
</listitem>
<listitem>
<simpara>To apply the additions from <literal>/etc/zfcp.conf</literal> to the running system, issue:</simpara>
<literallayout class="monospaced"># zfcpconf.sh</literallayout>
</listitem>
</orderedlist>
</section>
<section xml:id="adding-a-qeth-device_configuring-a-linux-instance-on-ibm-z">
<title>Adding a qeth device</title>
<simpara role="_abstract">The <literal>qeth</literal> network device driver supports 64-bit IBM Z OSA-Express features in QDIO mode, HiperSockets, z/VM guest LAN, and z/VM VSWITCH.</simpara>
<simpara>For more information about the qeth device driver naming scheme, see <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_a_standard_rhel_9_installation/index#customizing-boot-parameters_installing-RHEL">Customizing boot parameters</link>.</simpara>
</section>
<section xml:id="dynamically-adding-a-qeth-device_configuring-a-linux-instance-on-ibm-z">
<title>Dynamically adding a qeth device</title>
<simpara role="_abstract">This section contains information about how to add a <literal>qeth</literal> device dynamically.</simpara>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>Determine whether the <literal>qeth</literal> device driver modules are loaded. The following example shows loaded <literal>qeth</literal> modules:</simpara>
<literallayout class="monospaced"><literal>#</literal> lsmod | grep qeth
qeth_l3                69632  0
qeth_l2                49152  1
qeth                  131072  2 qeth_l3,qeth_l2
qdio                   65536  3 qeth,qeth_l3,qeth_l2
ccwgroup               20480  1 qeth</literallayout>
<simpara>If the output of the <literal role="command">lsmod</literal> command shows that the <literal>qeth</literal> modules are not loaded, run the <literal role="command">modprobe</literal> command to load them:</simpara>
<literallayout class="monospaced"><literal>#</literal> modprobe qeth</literallayout>
</listitem>
<listitem>
<simpara>Use the <literal role="command">cio_ignore</literal> utility to remove the network channels from the list of ignored devices and make them visible to Linux:</simpara>
<literallayout class="monospaced"><literal>#</literal> cio_ignore -r read_device_bus_id,write_device_bus_id,data_device_bus_id</literallayout>
<simpara>Replace <emphasis>read_device_bus_id</emphasis>,<emphasis>write_device_bus_id</emphasis>,<emphasis>data_device_bus_id</emphasis> with the three device bus IDs representing a network device. For example, if the <emphasis>read_device_bus_id</emphasis> is <literal>0.0.f500</literal>, the <emphasis>write_device_bus_id</emphasis> is <literal>0.0.f501</literal>, and the <emphasis>data_device_bus_id</emphasis> is <literal>0.0.f502</literal>:</simpara>
<literallayout class="monospaced"><literal>#</literal> cio_ignore -r 0.0.f500,0.0.f501,0.0.f502</literallayout>
</listitem>
<listitem>
<simpara>Use the <emphasis role="strong"><phrase role="application">znetconf</phrase></emphasis> utility to sense and list candidate configurations for network devices:</simpara>
<literallayout class="monospaced"><literal>#</literal> znetconf -u
Scanning for network devices...
Device IDs                 Type    Card Type      CHPID Drv.
------------------------------------------------------------
0.0.f500,0.0.f501,0.0.f502 1731/01 OSA (QDIO)        00 qeth
0.0.f503,0.0.f504,0.0.f505 1731/01 OSA (QDIO)        01 qeth
0.0.0400,0.0.0401,0.0.0402 1731/05 HiperSockets      02 qeth</literallayout>
</listitem>
<listitem>
<simpara>Select the configuration you want to work with and use <emphasis role="strong"><phrase role="application">znetconf</phrase></emphasis> to apply the configuration and to bring the configured group device online as network device.</simpara>
<literallayout class="monospaced"><literal>#</literal> znetconf -a f500
Scanning for network devices...
Successfully configured device 0.0.f500 (encf500)</literallayout>
</listitem>
<listitem>
<simpara>Optionally, you can also pass arguments that are configured on the group device before it is set online:</simpara>
<literallayout class="monospaced"><literal>#</literal> znetconf -a f500 -o portname=myname
Scanning for network devices...
Successfully configured device 0.0.f500 (encf500)</literallayout>
<simpara>Now you can continue to configure the <literal>encf500</literal> network interface.</simpara>
</listitem>
</orderedlist>
<simpara>Alternatively, you can use <literal>sysfs</literal> attributes to set the device online as follows:</simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>Create a <literal>qeth</literal> group device:</simpara>
<literallayout class="monospaced"><literal>#</literal> echo read_device_bus_id,write_device_bus_id,data_device_bus_id &gt; /sys/bus/ccwgroup/drivers/qeth/group</literallayout>
<simpara>For example:</simpara>
<literallayout class="monospaced"><literal>#</literal> echo 0.0.f500,0.0.f501,0.0.f502 &gt; /sys/bus/ccwgroup/drivers/qeth/group</literallayout>
</listitem>
<listitem>
<simpara>Next, verify that the <literal>qeth</literal> group device was created properly by looking for the read channel:</simpara>
<literallayout class="monospaced"><literal>#</literal> ls /sys/bus/ccwgroup/drivers/qeth/0.0.f500</literallayout>
<simpara>You can optionally set additional parameters and features, depending on the way you are setting up your system and the features you require, such as:</simpara>
<itemizedlist>
<listitem>
<simpara><literal>portno</literal></simpara>
</listitem>
<listitem>
<simpara><literal>layer2</literal></simpara>
</listitem>
<listitem>
<simpara><literal>portname</literal></simpara>
</listitem>
</itemizedlist>
</listitem>
<listitem>
<simpara>Bring the device online by writing <literal>1</literal> to the online <literal>sysfs</literal> attribute:</simpara>
<literallayout class="monospaced"><literal>#</literal> echo 1 &gt; /sys/bus/ccwgroup/drivers/qeth/0.0.f500/online</literallayout>
</listitem>
<listitem>
<simpara>Then verify the state of the device:</simpara>
<literallayout class="monospaced"><literal>#</literal> cat /sys/bus/ccwgroup/drivers/qeth/0.0.f500/online
											1</literallayout>
<simpara>A return value of <literal>1</literal> indicates that the device is online, while a return value <literal>0</literal> indicates that the device is offline.</simpara>
</listitem>
<listitem>
<simpara>Find the interface name that was assigned to the device:</simpara>
<literallayout class="monospaced"><literal>#</literal> cat /sys/bus/ccwgroup/drivers/qeth/0.0.f500/if_name
encf500</literallayout>
<simpara>Now you can continue to configure the <literal>encf500</literal> network interface.</simpara>
<simpara>The following command from the <emphasis role="strong"><phrase role="package">s390utils</phrase></emphasis> package shows the most important settings of your <literal>qeth</literal> device:</simpara>
<literallayout class="monospaced"><literal>#</literal> lsqeth encf500
Device name                     : encf500
-------------------------------------------------
card_type               : OSD_1000
cdev0                   : 0.0.f500
cdev1                   : 0.0.f501
cdev2                   : 0.0.f502
chpid                   : 76
online                  : 1
portname                : OSAPORT
portno                  : 0
state                   : UP (LAN ONLINE)
priority_queueing       : always queue 0
buffer_count            : 16
layer2                  : 1
isolation               : none</literallayout>
</listitem>
</orderedlist>
</section>
<section xml:id="persistently-adding-a-qeth-device_configuring-a-linux-instance-on-ibm-z">
<title>Persistently adding a qeth device</title>
<simpara role="_abstract">To make a new <literal>qeth</literal> device persistent, create a configuration file for the new interface. The network interface configuration files are placed in the <literal>/etc/NetworkManager/system-connections/</literal> directory.</simpara>
<simpara>The network configuration files use the naming convention <emphasis>device</emphasis>.nmconnection, where <emphasis>device</emphasis> is the value found in the interface-name file in the <emphasis>qeth</emphasis> group device that was created earlier, for example <emphasis>enc9a0</emphasis>. The <emphasis>cio_ignore</emphasis> commands are handled transparently for persistent device configurations and you do not need to free devices from the ignore list manually.</simpara>
<simpara>If a configuration file for another device of the same type already exists, copy it to the new name and edit it:</simpara>
<literallayout class="monospaced"># cd /etc/NetworkManager/system-connections/
# cp enc9a0.nmconnection enc600.nmconnection</literallayout>
<simpara>To learn IDs of your network devices, use the <emphasis>lsqeth</emphasis> utility:</simpara>
<literallayout class="monospaced"># lsqeth -p
devices                    CHPID interface        cardtype       port chksum prio-q'ing rtr4 rtr6 lay'2 cnt
-------------------------- ----- ---------------- -------------- ---- ------ ---------- ---- ---- ----- -----
0.0.09a0/0.0.09a1/0.0.09a2 x00   enc9a0    Virt.NIC QDIO  0    sw     always_q_2 n/a  n/a  1     64
0.0.0600/0.0.0601/0.0.0602 x00   enc600    Virt.NIC QDIO  0    sw     always_q_2 n/a  n/a  1     64</literallayout>
<simpara>If you do not have a similar device defined, create a new file. Use this example:</simpara>
<literallayout class="monospaced">[connection]
type=ethernet
interface-name=enc600

[ipv4]
address1=10.12.20.136/24,10.12.20.1
dns=10.12.20.53;
method=manual

[ethernet]
mac-address=00:53:00:8f:fa:66</literallayout>
<simpara>Edit the new <emphasis>enc600.nmconnection</emphasis> file as follows:</simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>Ensure the new connection file is owned by <literal>root:root</literal>:</simpara>
<literallayout class="monospaced"># chown root:root /etc/NetworkManager/system-connections/enc600.nmconnection</literallayout>
</listitem>
<listitem>
<simpara>Add more details in this file or modify these parameters based on your connection requirements.</simpara>
</listitem>
<listitem>
<simpara>Save the file.</simpara>
</listitem>
<listitem>
<simpara>Reload the connection profile:</simpara>
<literallayout class="monospaced"># nmcli connection reload</literallayout>
</listitem>
<listitem>
<simpara>To view complete details of the connection newly added, enter:</simpara>
<literallayout class="monospaced"># nmcli connection show enc600</literallayout>
</listitem>
</orderedlist>
<simpara>Changes to the <emphasis>enc600.nmconnection</emphasis> file become effective after either rebooting the system, dynamic addition of new network device channels by changing the systems I/O configuration (for example, attaching under z/VM), or reloading network connections. Alternatively, you can trigger the activation of <emphasis>enc600.nmconnection</emphasis> for network channels, which were previously not active yet, by executing the following commands:</simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>Use the <literal role="command">cio_ignore</literal> utility to remove the network channels from the list of ignored devices and make them visible to Linux:</simpara>
<literallayout class="monospaced"># cio_ignore -r read_device_bus_id,write_device_bus_id,data_device_bus_id</literallayout>
<simpara>Replace <emphasis>read_device_bus_id</emphasis>, <emphasis>write_device_bus_id</emphasis>, <emphasis>data_device_bus_id</emphasis> with the three device bus IDs representing a network device. For example, if the <emphasis>read_device_bus_id</emphasis> is <literal>0.0.0600</literal>, the <emphasis>write_device_bus_id</emphasis> is <literal>0.0.0601</literal>, and the <emphasis>data_device_bus_id</emphasis> is <literal>0.0.0602</literal>:</simpara>
<literallayout class="monospaced">#  cio_ignore -r 0.0.0600,0.0.0601,0.0.0602</literallayout>
</listitem>
<listitem>
<simpara>To trigger the uevent that activates the change, issue:</simpara>
<literallayout class="monospaced"># echo add &gt; /sys/bus/ccw/devices/read-channel/uevent</literallayout>
<simpara>For example:</simpara>
<literallayout class="monospaced"># echo add &gt; /sys/bus/ccw/devices/0.0.0600/uevent</literallayout>
</listitem>
<listitem>
<simpara>Check the status of the network device:</simpara>
<literallayout class="monospaced"># lsqeth</literallayout>
</listitem>
<listitem>
<simpara>If the default route information has changed, you must also update the <emphasis>ipaddress1</emphasis> parameters in both the <literal>[ipv4]</literal> and <literal>[ipv6]</literal> sections of the <literal>/etc/NetworkManager/system-connections/&lt;profile_name&gt;.nmconnection</literal> file accordingly:</simpara>
<literallayout class="monospaced">[ipv4]
address1=10.12.20.136/24,10.12.20.1
[ipv6]
address1=2001:db8:1::1,2001:db8:1::fffe</literallayout>
</listitem>
<listitem>
<simpara>Now start the new interface:</simpara>
<literallayout class="monospaced"># nmcli connection up enc600</literallayout>
</listitem>
<listitem>
<simpara>Check the status of the interface:</simpara>
<literallayout class="monospaced"># ip addr show enc600
3: enc600:  &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP group default qlen 1000
link/ether 3c:97:0e:51:38:17 brd ff:ff:ff:ff:ff:ff
10.12.20.136/24 brd 10.12.20.1 scope global dynamic enc600
valid_lft 81487sec preferred_lft 81487sec
inet6 1574:12:5:1185:3e97:eff:fe51:3817/64 scope global noprefixroute dynamic
valid_lft 2591994sec preferred_lft 604794sec
inet6 fe45::a455:eff:d078:3847/64 scope link
valid_lft forever preferred_lft forever</literallayout>
</listitem>
<listitem>
<simpara>Check the routing for the new interface:</simpara>
<literallayout class="monospaced"># ip route
default via 10.12.20.136 dev enc600 proto dhcp src</literallayout>
</listitem>
<listitem>
<simpara>Verify your changes by using the <literal>ping</literal> utility to ping the gateway or another host on the subnet of the new device:</simpara>
<literallayout class="monospaced"># ping -c 1 10.12.20.136
PING 10.12.20.136 (10.12.20.136) 56(84) bytes of data.
64 bytes from 10.12.20.136: icmp_seq=0 ttl=63 time=8.07 ms</literallayout>
</listitem>
<listitem>
<simpara>If the default route information has changed, you must also update <literal>/etc/sysconfig/network</literal> accordingly.</simpara>
</listitem>
</orderedlist>
<itemizedlist role="_additional-resources">
<title>Additional resources</title>
<listitem>
<simpara>The <literal>nm-settings-keyfile</literal> man page</simpara>
</listitem>
</itemizedlist>
</section>
<section xml:id="configuring-an-ibm-z-network-device-for-network-root-file-system_configuring-a-linux-instance-on-ibm-z">
<title>Configuring an 64-bit IBM Z network device for network root file system</title>
<simpara role="_abstract">To add a network device that is required to access the root file system, you only have to change the boot options. The boot options can be in a parameter file, however, the <literal>/etc/zipl.conf</literal> file no longer contains specifications of the boot records. The file that needs to be modified can be located using the following commands:</simpara>
<literallayout class="monospaced"># machine_id=$(cat /etc/machine-id)
# kernel_version=$(uname -r)
# ls /boot/loader/entries/$machine_id-$kernel_version.conf</literallayout>
<simpara><emphasis role="strong"><phrase role="application">Dracut</phrase></emphasis>, the <emphasis role="strong"><phrase role="application">mkinitrd</phrase></emphasis> successor that provides the functionality in the initramfs that in turn replaces <emphasis role="strong"><phrase role="application">initrd</phrase></emphasis>, provides a boot parameter to activate network devices on 64-bit IBM Z early in the boot process: <literal>rd.znet=</literal>.</simpara>
<simpara>As input, this parameter takes a comma-separated list of the <literal>NETTYPE</literal> (qeth, lcs, ctc), two (lcs, ctc) or three (qeth) device bus IDs, and optional additional parameters consisting of key-value pairs corresponding to network device sysfs attributes. This parameter configures and activates the 64-bit IBM Z network hardware. The configuration of IP addresses and other network specifics works the same as for other platforms. See the <emphasis role="strong"><phrase role="application">dracut</phrase></emphasis> documentation for more details.</simpara>
<simpara>The <emphasis role="strong"><phrase role="application">cio_ignore</phrase></emphasis> commands for the network channels are handled transparently on boot.</simpara>
<simpara>Example boot options for a root file system accessed over the network through NFS:</simpara>
<literallayout class="monospaced">root=10.16.105.196:/nfs/nfs_root cio_ignore=all,!condev rd.znet=qeth,0.0.0a00,0.0.0a01,0.0.0a02,layer2=1,portno=0,portname=OSAPORT ip=10.16.105.197:10.16.105.196:10.16.111.254:255.255.248.0:nfsserver.subdomain.domain:enc9a0:none rd_NO_LUKS rd_NO_LVM rd_NO_MD rd_NO_DM LANG=en_US.UTF-8 SYSFONT=latarcyrheb-sun16 KEYTABLE=us</literallayout>
</section>
</section>
<section xml:id="booting-a-system-with-uefi-secure-boot_assembly_installing-on-64-bit-ibm-z">
<title>Booting a system with UEFI Secure Boot</title>
<simpara role="_abstract">To enhance the security of your operating system, use the UEFI Secure Boot feature for signature verification when booting a Red Hat Enterprise Linux release on systems having UEFI Secure Boot enabled.</simpara>
<section xml:id="uefi-secure-boot_booting-a-system-with-uefi-secure-boot">
<title>UEFI Secure Boot and RHEL releases</title>
<simpara role="_abstract">UEFI Secure Boot requires that the operating system kernel is signed with a recognized private key. UEFI Secure Boot then verifies the signature using the corresponding public key.</simpara>
<simpara>A custom key can be added to the system using the Machine Owner Key (MOK) facility.</simpara>
</section>
<section xml:id="adding-a-custom-public-key-for-uefi-secure-boot_booting-a-system-with-uefi-secure-boot">
<title>Adding a custom public key for UEFI Secure Boot</title>
<simpara role="_abstract">This section contains information about how to add an existing custom public key for UEFI Secure Boot.</simpara>
<itemizedlist>
<title>Prerequisites</title>
<listitem>
<simpara>You have disabled UEFI Secure Boot on the system.</simpara>
</listitem>
<listitem>
<simpara>You are logged in to the system and have completed the tasks in the <emphasis role="strong">Initial Setup</emphasis> window.</simpara>
</listitem>
</itemizedlist>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>Generate a public key and store it on a local drive. For example, <emphasis>my_signing_key_pub.der</emphasis>.</simpara>
</listitem>
<listitem>
<simpara>Enroll the Red Hat custom public key in the system&#8217;s Machine Owner Key (MOK) list:</simpara>
<screen># mokutil --import <emphasis>my_signing_key_pub.der</emphasis></screen>
</listitem>
<listitem>
<simpara>Enter a password when prompted.</simpara>
</listitem>
<listitem>
<simpara>Reboot the system and press any key to continue the startup.
The Shim UEFI key management utility starts during the system startup.</simpara>
</listitem>
<listitem>
<simpara>Select <emphasis role="strong">Enroll MOK</emphasis>.</simpara>
</listitem>
<listitem>
<simpara>Select <emphasis role="strong">Continue</emphasis>.</simpara>
</listitem>
<listitem>
<simpara>Select <emphasis role="strong">Yes</emphasis> and enter the password.</simpara>
<simpara>The key is imported into the system&#8217;s firmware.</simpara>
</listitem>
<listitem>
<simpara>Select <emphasis role="strong">Reboot</emphasis>.</simpara>
</listitem>
<listitem>
<simpara>Enable Secure Boot on the system.</simpara>
</listitem>
</orderedlist>
<itemizedlist role="_additional-resources">
<title>Additional resources</title>
<listitem>
<simpara><link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_monitoring_and_updating_the_kernel/signing-a-kernel-and-modules-for-secure-boot_managing-monitoring-and-updating-the-kernel#generating-a-public-and-private-key-pair_signing-a-kernel-and-modules-for-secure-boot">Generating public and private keys</link></simpara>
</listitem>
</itemizedlist>
</section>
<section xml:id="removing-a-custom-public-key_booting-a-system-with-uefi-secure-boot">
<title>Removing a custom public key</title>
<simpara role="_abstract">The procedure describes how to remove a custom public key.</simpara>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>Remove the Red Hat custom public key from the system&#8217;s Machine Owner Key (MOK) list:</simpara>
<literallayout class="monospaced"><literal>#</literal> mokutil --reset</literallayout>
</listitem>
<listitem>
<simpara>Enter a password when prompted.</simpara>
</listitem>
<listitem>
<simpara>Reboot the system and press any key to continue the startup.
The Shim UEFI key management utility starts during the system startup.</simpara>
</listitem>
<listitem>
<simpara>Select <literal>Reset MOK</literal>.</simpara>
</listitem>
<listitem>
<simpara>Select <literal>Continue</literal>.</simpara>
</listitem>
<listitem>
<simpara>Select <literal>Yes</literal> and enter the password that you had specified in step 2.
The key is removed from the system&#8217;s firmware.</simpara>
</listitem>
<listitem>
<simpara>Select <literal>Reboot</literal>.</simpara>
</listitem>
</orderedlist>
</section>
</section>
</section>
<section xml:id="assembly_performing-a-remote-installation-using-vnc_{context}">
<title>Performing a remote RHEL installation using VNC</title>
<simpara>This section describes how to install RHEL remotely using VNC.</simpara>
<section xml:id="performing-a-remote-installation-using-vnc_assembly_performing-a-remote-installation-using-vnc">
<title>Performing a remote RHEL installation by using VNC</title>
<simpara role="_abstract">This section describes how to perform a remote RHEL installation using Virtual Network Computing (VNC).</simpara>
<section xml:id="vnc-overview_performing-a-remote-installation-using-vnc">
<title>Overview</title>
<simpara role="_abstract">The graphical user interface is the recommended method of installing RHEL when you boot the system from a CD, DVD, or USB flash drive, or from a network using PXE. However, many enterprise systems, for example, IBM Power Systems and 64-bit IBM Z, are located in remote data center environments that are run autonomously and are not connected to a display, keyboard, and mouse. These systems are often referred to as <emphasis>headless systems</emphasis> and they are typically controlled over a network connection. The RHEL installation program includes a Virtual Network Computing (VNC) installation that runs the graphical installation on the target machine, but control of the graphical installation is handled by another system on the network. The RHEL installation program offers two VNC installation modes: <emphasis role="strong">Direct</emphasis> and <emphasis role="strong">Connect</emphasis>. Once a connection is established, the two modes do not differ. The mode you select depends on your environment.</simpara>
<variablelist>
<varlistentry>
<term>Direct mode</term>
<listitem>
<simpara>In Direct mode, the RHEL installation program is configured to start on the target system and wait for a VNC viewer that is installed on another system before proceeding. As part of the Direct mode installation, the IP address and port are displayed on the target system. You can use the VNC viewer to connect to the target system remotely using the IP address and port, and complete the graphical installation.</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>Connect mode</term>
<listitem>
<simpara>In Connect mode, the VNC viewer is started on a remote system in <emphasis>listening</emphasis> mode. The VNC viewer waits for an incoming connection from the target system on a specified port. When the RHEL installation program starts on the target system, the system host name and port number are provided by using a boot option or a Kickstart command. The installation program then establishes a connection with the listening VNC viewer using the specified system host name and port number. To use Connect mode, the system with the listening VNC viewer must be able to accept incoming network connections.</simpara>
</listitem>
</varlistentry>
</variablelist>
</section>
<section xml:id="vnc-considerations_performing-a-remote-installation-using-vnc">
<title>Considerations</title>
<simpara role="_abstract">Consider the following items when performing a remote RHEL installation using VNC:</simpara>
<itemizedlist>
<listitem>
<simpara><emphasis role="strong">VNC client application:</emphasis> A VNC client application is required to perform both a VNC Direct and Connect installation. VNC client applications are available in the repositories of most Linux distributions, and free VNC client applications are also available for other operating systems such as Windows. The following VNC client applications are available in RHEL:</simpara>
<itemizedlist>
<listitem>
<simpara><literal>tigervnc</literal> is independent of your desktop environment and is installed as part of the <literal>tigervnc</literal> package.</simpara>
</listitem>
<listitem>
<simpara><literal>vinagre</literal> is part of the GNOME desktop environment and is installed as part of the <literal>vinagre</literal> package.</simpara>
</listitem>
</itemizedlist>
</listitem>
</itemizedlist>
<note>
<simpara>A VNC server is included in the installation program and does not need to be installed.</simpara>
</note>
<itemizedlist>
<listitem>
<simpara><emphasis role="strong">Network and firewall:</emphasis></simpara>
<itemizedlist>
<listitem>
<simpara>If the target system is not allowed inbound connections by a firewall, then you must use Connect mode or disable the firewall. Disabling a firewall can have security implications.</simpara>
</listitem>
<listitem>
<simpara>If the system that is running the VNC viewer is not allowed incoming connections by a firewall, then you must use Direct mode, or disable the firewall. Disabling a firewall can have security implications. See the <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/security_hardening/index/">Security hardening</link> document for more information about configuring the firewall.</simpara>
</listitem>
</itemizedlist>
</listitem>
<listitem>
<simpara><emphasis role="strong">Custom Boot Options:</emphasis> You must specify custom boot options to start a VNC installation and the installation instructions might differ depending on your system architecture.</simpara>
</listitem>
</itemizedlist>
<itemizedlist>
<listitem>
<simpara><emphasis role="strong">VNC in Kickstart installations:</emphasis> You can use VNC-specific commands in Kickstart installations. Using only the <literal>vnc</literal> command runs a RHEL installation in Direct mode. Additional options are available to set up an installation using Connect mode.</simpara>
</listitem>
</itemizedlist>
</section>
<section xml:id="performing-a-rhel-install-in-vnc-direct-mode_performing-a-remote-installation-using-vnc">
<title>Performing a remote RHEL installation in VNC Direct mode</title>
<simpara role="_abstract">Use this procedure to perform a remote RHEL installation in VNC Direct mode. Direct mode expects the VNC viewer to initiate a connection to the target system that is being installed with RHEL. In this procedure, the system with the VNC viewer is called the <emphasis role="strong">remote</emphasis> system. You are prompted by the RHEL installation program to initiate the connection from the VNC viewer on the remote system to the target system.</simpara>
<note>
<simpara>This procedure uses <emphasis role="strong">TigerVNC</emphasis> as the VNC viewer. Specific instructions for other viewers might differ, but the general principles apply.</simpara>
</note>
<itemizedlist>
<title>Prerequisites</title>
<listitem>
<simpara>You have installed a VNC viewer on a remote system as a root user.</simpara>
</listitem>
<listitem>
<simpara>You have set up a network boot server and booted the installation on the target system.</simpara>
</listitem>
</itemizedlist>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>From the RHEL boot menu on the target system, press the <literal>Tab</literal> key on your keyboard to edit the boot options.</simpara>
</listitem>
<listitem>
<simpara>Append the <literal>inst.vnc</literal> option to the end of the command line.</simpara>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>If you want to restrict VNC access to the system that is being installed, add the <literal>inst.vncpassword=PASSWORD</literal> boot option to the end of the command line. Replace <emphasis role="strong">PASSWORD</emphasis> with the password you want to use for the installation. The VNC password must be between 6 and 8 characters long.</simpara>
<important>
<simpara>Use a temporary password for the <literal>inst.vncpassword=</literal> option. It should not be an existing or root password.</simpara>
</important>
</listitem>
</orderedlist>
</listitem>
<listitem>
<simpara>Press <emphasis role="strong">Enter</emphasis> to start the installation. The target system initializes the installation program and starts the necessary services. When the system is ready, a message is displayed providing the IP address and port number of the system.</simpara>
</listitem>
<listitem>
<simpara>Open the VNC viewer on the remote system.</simpara>
</listitem>
<listitem>
<simpara>Enter the IP address and the port number into the <emphasis role="strong">VNC server</emphasis> field.</simpara>
</listitem>
<listitem>
<simpara>Click <emphasis role="strong">Connect</emphasis>.</simpara>
</listitem>
<listitem>
<simpara>Enter the VNC password and click <emphasis role="strong">OK</emphasis>. A new window opens with the VNC connection established, displaying the RHEL installation menu. From this window, you can install RHEL on the target system using the graphical user interface.</simpara>
</listitem>
</orderedlist>
</section>
<section xml:id="performing-a-rhel-installation-in-vnc-connect-mode_performing-a-remote-installation-using-vnc">
<title>Performing a remote RHEL installation in VNC Connect mode</title>
<simpara role="_abstract">Use this procedure to perform a remote RHEL installation in VNC Connect mode. In Connect mode, the target system that is being installed with RHEL initiates a connect to the VNC viewer that is installed on another system. In this procedure, the system with the VNC viewer is called the <emphasis role="strong">remote</emphasis> system.</simpara>
<note>
<simpara>This procedure uses <emphasis role="strong">TigerVNC</emphasis> as the VNC viewer. Specific instructions for other viewers might differ, but the general principles apply.</simpara>
</note>
<itemizedlist>
<title>Prerequisites</title>
<listitem>
<simpara>You have installed a VNC viewer on a remote system as a root user.</simpara>
</listitem>
<listitem>
<simpara>You have set up a network boot server to start the installation on the target system.</simpara>
</listitem>
<listitem>
<simpara>You have configured the target system to use the boot options for a VNC Connect installation.</simpara>
</listitem>
<listitem>
<simpara>You have verified that the remote system with the VNC viewer is configured to accept an incoming connection on the required port. Verification is dependent on your network and system configuration. For more information, see <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/security_hardening/index/">Security hardening</link> and <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/securing_networks/index/">Securing networks</link>.</simpara>
</listitem>
</itemizedlist>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>Start the VNC viewer on the remote system in <emphasis>listening mode</emphasis> by running the following command:</simpara>
<screen>$ vncviewer -listen PORT</screen>
</listitem>
<listitem>
<simpara>Replace PORT with the port number used for the connection.</simpara>
</listitem>
<listitem>
<simpara>The terminal displays a message indicating that it is waiting for an incoming connection from the target system.</simpara>
<screen>TigerVNC Viewer 64-bit v1.8.0
Built on: 2017-10-12 09:20
Copyright (C) 1999-2017 TigerVNC Team and many others (see README.txt)
See http://www.tigervnc.org for information about TigerVNC.

Thu Jun 27 11:30:57 2019
 main:        Listening on port 5500</screen>
</listitem>
<listitem>
<simpara>Boot the target system from the network.</simpara>
</listitem>
<listitem>
<simpara>From the RHEL boot menu on the target system, press the <literal>Tab</literal> key on your keyboard to edit the boot options.</simpara>
</listitem>
<listitem>
<simpara>Append the <literal>inst.vnc inst.vncconnect=HOST:PORT</literal> option to the end of the command line.</simpara>
</listitem>
<listitem>
<simpara>Replace <emphasis>HOST</emphasis> with the IP address of the remote system that is running the listening VNC viewer, and <emphasis>PORT</emphasis> with the port number that the VNC viewer is listening on.</simpara>
</listitem>
<listitem>
<simpara>Press <emphasis role="strong">Enter</emphasis> to start the installation. The system initializes the installation program and starts the necessary services. When the initialization process is finished, the installation program attempts to connect to the IP address and port provided.</simpara>
</listitem>
<listitem>
<simpara>When the connection is successful, a new window opens with the VNC connection established, displaying the RHEL installation menu. From this window, you can install RHEL on the target system using the graphical user interface.</simpara>
</listitem>
</orderedlist>
</section>
</section>
</section>
<section xml:id="rhel-installations-on-ibm-power-servers_{context}">
<title>RHEL Installations on IBM Power Servers</title>
<simpara>You can install Red Hat Enterprise Linux on various IBM Power System servers.</simpara>
<section xml:id="supported-ibm-power-servers_rhel-installations-on-ibm-power-servers">
<title>Supported IBM Power Servers</title>
<simpara>You can install Red Hat Enterprise Linux on IBM Power Systems. You can find the complete list of supported IBM Power servers on the <link xl:href="https://catalog.redhat.com/hardware/search?p=1&amp;c_catalog_channel=Server&amp;chArchitectures=ppc64le&amp;c_version=Red%20Hat%20Enterprise%20Linux%209&amp;rows=60">Red Hat Ecosystem Catalog</link>.</simpara>
</section>
<section xml:id="preparing-installation-media-for-installing-rhel-on-ibm-power-servers_rhel-installations-on-ibm-power-servers">
<title>Preparing installation media for installing RHEL on IBM Power Servers</title>
<simpara>You can install RHEL on IBM Power servers by using a virtual DVD (vDVD), bootable USB drive, or network. To prepare the installation media, you must download the ISO file from the <link xl:href="https://access.redhat.com/front">Red Hat Customer portal</link>.</simpara>
<itemizedlist>
<title>Prerequisites</title>
<listitem>
<simpara>You have an active Red Hat subscription.</simpara>
</listitem>
<listitem>
<simpara>You are logged in to the <emphasis role="strong">Product Downloads</emphasis> section of the Red Hat Customer Portal at <link xl:href="https://access.redhat.com/downloads">Product Downloads</link>.</simpara>
</listitem>
</itemizedlist>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>From the <emphasis role="strong">Product Downloads</emphasis> page, select the <emphasis role="strong">By Category</emphasis> tab.</simpara>
</listitem>
<listitem>
<simpara>Click <emphasis role="strong">Red Hat Enterprise Linux</emphasis>.</simpara>
<simpara>The <emphasis role="strong">Download Red Hat Enterprise Linux</emphasis> web page opens.</simpara>
</listitem>
<listitem>
<simpara>From the <emphasis role="strong">Product Variant</emphasis> drop-down menu, select <emphasis role="strong">Red Hat Enterprise Linux for Power, Little Endian</emphasis>.</simpara>
</listitem>
<listitem>
<simpara>From the <emphasis role="strong">Version</emphasis> drop-down menu, select the RHEL version you want to download.</simpara>
<simpara>By default, the latest version for the selected variant and architecture is selected.</simpara>
<simpara>The <emphasis role="strong">Product Software</emphasis> tab displays the image files, which include:</simpara>
<itemizedlist>
<listitem>
<simpara><emphasis role="strong">Red Hat Enterprise Linux Binary DVD</emphasis> image,</simpara>
</listitem>
<listitem>
<simpara><emphasis role="strong">Red Hat Enterprise Linux Boot ISO</emphasis> image, and</simpara>
</listitem>
<listitem>
<simpara><emphasis role="strong">Red Hat Enterprise Linux KVM Guest</emphasis> Image.</simpara>
</listitem>
</itemizedlist>
</listitem>
<listitem>
<simpara>Click <emphasis role="strong">Download Now</emphasis> beside the ISO image that you require.</simpara>
<simpara>You can prepare a bootable physical installation medium, such as a USB or DVD, based on the installation method you choose to install RHEL on IBM Power Servers. For more information, see
* <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/performing_a_standard_rhel_9_installation/assembly_preparing-for-your-installation_installing-rhel#assembly_creating-a-bootable-installation-medium_assembly_preparing-for-your-installation">Creating a bootable installation medium for RHEL</link>.</simpara>
</listitem>
</orderedlist>
</section>
<section xml:id="overview-of-the-installation-process-on-powervm-lpar-by-using-the-hmc_rhel-installations-on-ibm-power-servers">
<title>Overview of the installation process on PowerVM LPAR by using the HMC</title>
<simpara>You can install RHEL on the PowerVM logical partition (LPAR) by using the Hardware Management Console. A Hardware Management Console (HMC) is a hardware appliance that you can use to administer IBM Power Systems servers.</simpara>
<simpara>The installation workflow involves the following general steps:</simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara><link linkend="preparing-installation-media-for-installing-rhel-on-ibm-power-servers_rhel-installations-on-ibm-power-servers">Download the RHEL installation ISO</link>.</simpara>
</listitem>
<listitem>
<simpara>Prepare a bootable physical installation medium based on your installation method.</simpara>
</listitem>
<listitem>
<simpara>Verify that the Power System is added to the HMC.</simpara>
<simpara>For more information, see <link xl:href="https://www.ibm.com/docs/en/power10/7063-CR2?topic=connections-reset-remove">add or remove connections to HMC</link> in the IBM documentation.</simpara>
</listitem>
<listitem>
<simpara>Configure VIOS and LPAR on the managed system or configure full system LPAR based on the requirements.</simpara>
</listitem>
<listitem>
<simpara>Log in to the HMC console.</simpara>
</listitem>
<listitem>
<simpara>Install Red Hat Enterprise Linux.</simpara>
</listitem>
</orderedlist>
<simpara>For detailed instructions, see <link xl:href="https://www.ibm.com/docs/en/linux-on-systems?topic=systems-installing-linux-powervm-lpar-by-using-hmc">Installing Linux on PowerVM LPAR by using the HMC</link> in the IBM documentation.</simpara>
</section>
<section xml:id="overview-of-the-installation-process-on-ibm-power-servers-with-the-graphics-card_rhel-installations-on-ibm-power-servers">
<title>Overview of the installation process on IBM Power Servers with the graphics card</title>
<simpara>You can install RHEL on IBM Power Systems servers with the graphics card.</simpara>
<simpara>The installation workflow involves the following general steps:</simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara><link linkend="preparing-installation-media-for-installing-rhel-on-ibm-power-servers_rhel-installations-on-ibm-power-servers">Download the RHEL installation ISO</link>.</simpara>
</listitem>
<listitem>
<simpara>Prepare a bootable physical installation medium based on your installation method.</simpara>
</listitem>
<listitem>
<simpara>Prepare the machine for RHEL installation.</simpara>
</listitem>
<listitem>
<simpara>Boot the installer kernel.</simpara>
</listitem>
<listitem>
<simpara>Install Red Hat Enterprise Linux.</simpara>
</listitem>
<listitem>
<simpara>Optional: Install IBM Tools Repository to use Service and Productivity tools, IBM Advance Toolchain for Linux on Power, and IBM SDK for PowerLinux.</simpara>
</listitem>
</orderedlist>
<simpara>For detailed instructions, see <link xl:href="https://www.ibm.com/docs/en/linux-on-systems?topic=systems-installing-linux-power-servers-graphics-card">Installing Linux on Power Systems servers with a graphics card</link> in the IBM documentation.</simpara>
<itemizedlist role="_additional-resources">
<title>Additional resources</title>
<listitem>
<simpara>For instructions to install hardware in a rack, see <link xl:href="https://www.ibm.com/docs/en">IBM Knowledge Center</link> and search for your power hardware.</simpara>
</listitem>
</itemizedlist>
</section>
<section xml:id="overview-of-the-installation-process-on-ibm-power-servers-by-using-the-serial-console_rhel-installations-on-ibm-power-servers">
<title>Overview of the installation process on IBM Power Servers by using the serial console</title>
<simpara>You can install RHEL on IBM Power Systems servers by using the serial console.</simpara>
<simpara>The installation workflow involves the following general steps:</simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara><link linkend="preparing-installation-media-for-installing-rhel-on-ibm-power-servers_rhel-installations-on-ibm-power-servers">Download the RHEL installation ISO</link>.</simpara>
</listitem>
<listitem>
<simpara>Prepare a bootable physical installation medium based on your installation method.</simpara>
</listitem>
<listitem>
<simpara>Prepare your machine for the RHEL installation.</simpara>
</listitem>
<listitem>
<simpara>Boot the installer kernel.</simpara>
</listitem>
<listitem>
<simpara>Start a VNC session.</simpara>
<simpara>For more information, see <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/performing_a_standard_rhel_9_installation/assembly_performing-a-remote-installation-using-vnc_installing-rhel">Performing a remote RHEL installation by using VNC</link>.</simpara>
</listitem>
<listitem>
<simpara>Install Red Hat Enterprise Linux.</simpara>
</listitem>
<listitem>
<simpara>Optional: Install IBM Tools Repository to use additional software. For more information, see <link xl:href="https://www.ibm.com/docs/en/linux-on-systems?topic=servers-linux-power-tools-repository">IBM Linux on Power tools repository</link>.</simpara>
</listitem>
</orderedlist>
<simpara>For detailed instructions, see <link xl:href="https://www.ibm.com/docs/en/linux-on-systems?topic=ilps-installing-linux-power-systems-servers-by-using-serial-console">Installing Linux on Power Systems servers by using the serial console</link> in the IBM documentation.</simpara>
</section>
</section>
<appendix xml:id="system-requirements-reference_{context}">
<title>System requirements reference</title>
<simpara role="_abstract">This section provides information and guidelines for hardware, installation target, system, memory, and RAID when installing Red Hat Enterprise Linux.</simpara>
<section xml:id="supported-installation-targets_system-requirements-reference">
<title>Supported installation targets</title>
<simpara role="_abstract">An installation target is a storage device that stores Red Hat Enterprise Linux and boots the system.
Red Hat Enterprise Linux supports the following installation targets for AMD64, Intel 64, and 64-bit ARM systems:</simpara>
<itemizedlist>
<listitem>
<simpara>Storage connected by a standard internal interface, such as SCSI, SATA, or SAS</simpara>
</listitem>
<listitem>
<simpara>BIOS/firmware RAID devices</simpara>
</listitem>
<listitem>
<simpara>NVDIMM devices in sector mode on the Intel64 and AMD64 architectures, supported by the nd_pmem driver.</simpara>
</listitem>
<listitem>
<simpara>Fibre Channel Host Bus Adapters and multipath devices. Some can require vendor-provided drivers.</simpara>
</listitem>
<listitem>
<simpara>Xen block devices on Intel processors in Xen virtual machines.</simpara>
</listitem>
<listitem>
<simpara>VirtIO block devices on Intel processors in KVM virtual machines.</simpara>
</listitem>
</itemizedlist>
<simpara>Red Hat does not support installation to USB drives or SD memory cards. For information about support for third-party virtualization technologies, see the <link xl:href="https://hardware.redhat.com/">Red Hat Hardware Compatibility List</link>.</simpara>
</section>
<section xml:id="check-disk-and-memory-requirements_system-requirements-reference">
<title>Disk and memory requirements</title>
<simpara role="_abstract">If several operating systems are installed, it is important that you verify that the allocated disk space is separate from the disk space required by Red Hat Enterprise Linux.</simpara>
<note>
<itemizedlist>
<listitem>
<simpara>For AMD64, Intel 64, and 64-bit ARM, at least two partitions (<literal>/</literal> and <literal>swap</literal>) must be dedicated to Red Hat Enterprise Linux.</simpara>
</listitem>
<listitem>
<simpara>For IBM Power Systems servers, at least three partitions (<literal>/</literal>, <literal>swap</literal>, and a <literal>PReP</literal> boot partition) must be dedicated to Red Hat Enterprise Linux.</simpara>
</listitem>
</itemizedlist>
</note>
<simpara>You must have a minimum of 10 GiB of available disk space. To install Red Hat Enterprise Linux, you must have a minimum of 10 GiB of space in either unpartitioned disk space or in partitions that can be deleted.</simpara>
<simpara>See <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_a_standard_rhel_9_installation/index#partitioning-reference_installing-RHEL">Partitioning reference</link></simpara>
<table frame="all" rowsep="1" colsep="1">
<title>Minimum RAM requirements</title>
<tgroup cols="2">
<colspec colname="col_1" colwidth="50*"/>
<colspec colname="col_2" colwidth="50*"/>
<thead>
<row>
<entry align="left" valign="top">Installation type</entry>
<entry align="left" valign="top">Recommended minimum RAM</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left" valign="top"><simpara>Local media installation (USB, DVD)</simpara></entry>
<entry align="left" valign="top"><itemizedlist>
<listitem>
<simpara>1.5 GiB for aarch64, s390x and x86_64 architectures</simpara>
</listitem>
<listitem>
<simpara>3 GiB for ppc64le architecture</simpara>
</listitem>
</itemizedlist></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>NFS network installation</simpara></entry>
<entry align="left" valign="top"><itemizedlist>
<listitem>
<simpara>1.5 GiB for aarch64, s390x and x86_64 architectures</simpara>
</listitem>
<listitem>
<simpara>3 GiB for ppc64le architecture</simpara>
</listitem>
</itemizedlist></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>HTTP, HTTPS or FTP network installation</simpara></entry>
<entry align="left" valign="top"><itemizedlist>
<listitem>
<simpara>3 GiB for s390x and x86_64 architectures</simpara>
</listitem>
<listitem>
<simpara>4 GiB for aarch64 and ppc64le architectures</simpara>
</listitem>
</itemizedlist></entry>
</row>
</tbody>
</tgroup>
</table>
<note>
<simpara>It is possible to complete the installation with less memory than the recommended minimum requirements. The exact requirements depend on your environment and installation path. It is recommended that you test various configurations to determine the minimum required RAM for your environment. Installing Red Hat Enterprise Linux using a Kickstart file has the same recommended minimum RAM requirements as a standard installation. However, additional RAM may be required if your Kickstart file includes commands that require additional memory, or write data to the RAM disk. See the <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_an_advanced_rhel_9_installation/index/"><emphasis>Performing an advanced RHEL 9 installation</emphasis></link> document for more information.</simpara>
</note>
</section>
<section xml:id="display-resolution_system-requirements-reference">
<title>Graphics display resolution requirements</title>
<simpara>Your system must have the following minimum resolution to ensure a smooth and error-free installation of Red Hat Enterprise Linux.</simpara>
<table frame="all" rowsep="1" colsep="1">
<title>Display resolution</title>
<tgroup cols="2">
<colspec colname="col_1" colwidth="50*"/>
<colspec colname="col_2" colwidth="50*"/>
<thead>
<row>
<entry align="left" valign="top">Product version</entry>
<entry align="left" valign="top">Resolution</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left" valign="top"><simpara>Red Hat Enterprise Linux 9</simpara></entry>
<entry align="left" valign="top"><simpara><emphasis role="strong">Minimum</emphasis>: 800 x 600</simpara><simpara><emphasis role="strong">Recommended</emphasis>: 1026 x 768</simpara></entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section xml:id="uefi-secure-boot-and-beta-release-requirements_system-requirements-reference">
<title>UEFI Secure Boot and Beta release requirements</title>
<simpara role="_abstract">If you plan to install a Beta release of Red Hat Enterprise Linux, on systems having UEFI Secure Boot enabled, then first disable the UEFI Secure Boot option and then begin the installation.</simpara>
<simpara>UEFI Secure Boot requires that the operating system kernel is signed with a recognized private key, which the system&#8217;s firware verifies using the corresponding public key.
For Red Hat Enterprise Linux Beta releases, the kernel is signed with a Red Hat Beta-specific public key, which the system fails to recognize by default.
As a result, the system fails to even boot the installation media.</simpara>
</section>
</appendix>
<appendix xml:id="partitioning-reference_{context}">
<title>Partitioning reference</title>
<section xml:id="supported-device-types_partitioning-reference">
<title>Supported device types</title>
<variablelist role="_abstract">
<varlistentry>
<term>Standard partition</term>
<listitem>
<simpara>A standard partition can contain a file system or swap space. Standard partitions are most commonly used for <literal>/boot</literal> and the <literal>BIOS Boot</literal> and <literal>EFI System partitions</literal>. LVM logical volumes are recommended for most other uses.</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>LVM</term>
<listitem>
<simpara>Choosing <literal>LVM</literal> (or Logical Volume Management) as the device type creates an LVM logical volume. LVM can improve performance when using physical disks, and it allows for advanced setups such as using multiple physical disks for one mount point, and setting up software RAID for increased performance, reliability, or both.</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>LVM thin provisioning</term>
<listitem>
<simpara>Using thin provisioning, you can manage a storage pool of free space, known as a thin pool, which can be allocated to an arbitrary number of devices when needed by applications. You can dynamically expand the pool when needed for cost-effective allocation of storage space.</simpara>
</listitem>
</varlistentry>
</variablelist>
<warning>
<simpara>The installation program does not support overprovisioned LVM thin pools.</simpara>
</warning>
</section>
<section xml:id="supported-file-systems_partitioning-reference">
<title>Supported file systems</title>
<simpara role="_abstract">This section describes the file systems available in Red Hat Enterprise Linux.</simpara>
<variablelist>
<varlistentry>
<term>xfs</term>
<listitem>
<simpara><literal>XFS</literal> is a highly scalable, high-performance file system that supports file systems up to 16 exabytes (approximately 16 million terabytes), files up to 8 exabytes (approximately 8 million terabytes), and directory structures containing tens of millions of entries. <literal>XFS</literal> also supports metadata journaling, which facilitates quicker crash recovery. The maximum supported size of a single XFS file system is 500 TB. <literal>XFS</literal> is the default and recommended file system on Red Hat Enterprise Linux. The XFS filesystem cannot be shrunk to get free space.</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>ext4</term>
<listitem>
<simpara>The <literal>ext4</literal> file system is based on the <literal>ext3</literal> file system and features a number of improvements. These include support for larger file systems and larger files, faster and more efficient allocation of disk space, no limit on the number of subdirectories within a directory, faster file system checking, and more robust journaling. The maximum supported size of a single <literal>ext4</literal> file system is 50 TB.</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>ext3</term>
<listitem>
<simpara>The <literal>ext3</literal> file system is based on the <literal>ext2</literal> file system and has one main advantage - journaling. Using a journaling file system reduces the time spent recovering a file system after it terminates unexpectedly, as there is no need to check the file system for metadata consistency by running the fsck utility every time.</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>ext2</term>
<listitem>
<simpara>An <literal>ext2</literal> file system supports standard Unix file types, including regular files, directories, or symbolic links. It provides the ability to assign long file names, up to 255 characters.</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>swap</term>
<listitem>
<simpara>Swap partitions are used to support virtual memory. In other words, data is written to a swap partition when there is not enough RAM to store the data your system is processing.</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>vfat</term>
<listitem>
<simpara>The <literal>VFAT</literal> file system is a Linux file system that is compatible with Microsoft Windows long file names on the FAT file system.</simpara>
<note>
<simpara>Support for <literal>VFAT</literal> file system is not available for Linux system partitions. For example, <literal>/</literal>, <literal>/var</literal>, <literal>/usr</literal> and so on.</simpara>
</note>
</listitem>
</varlistentry>
<varlistentry>
<term>BIOS Boot</term>
<listitem>
<simpara>A very small partition required for booting from a device with a GUID partition table (GPT) on BIOS systems and UEFI systems in BIOS compatibility mode.</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>EFI System Partition</term>
<listitem>
<simpara>A small partition required for booting a device with a GUID partition table (GPT) on a UEFI system.</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>PReP</term>
<listitem>
<simpara>This small boot partition is located on the first partition of the hard drive. The <literal>PReP</literal> boot partition contains the GRUB2 boot loader, which allows other IBM Power Systems servers to boot Red Hat Enterprise Linux.</simpara>
</listitem>
</varlistentry>
</variablelist>
</section>
<section xml:id="supported-raid-types_partitioning-reference">
<title>Supported RAID types</title>
<simpara role="_abstract">RAID stands for Redundant Array of Independent Disks, a technology which allows you to combine multiple physical disks into logical units. Some setups are designed to enhance performance at the cost of reliability, while others improve reliability at the cost of requiring more disks for the same amount of available space.</simpara>
<simpara>This section describes supported software RAID types which you can use with LVM and LVM Thin Provisioning to set up storage on the installed system.</simpara>
<variablelist>
<varlistentry>
<term>RAID 0</term>
<listitem>
<simpara>Performance: Distributes data across multiple disks. RAID 0 offers increased performance over standard partitions and can be used to pool the storage of multiple disks into one large virtual device. Note that RAID 0 offers no redundancy and that the failure of one device in the array destroys data in the entire array. RAID 0 requires at least two disks.</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>RAID 1</term>
<listitem>
<simpara>Redundancy: Mirrors all data from one partition onto one or more other disks. Additional devices in the array provide increasing levels of redundancy. RAID 1 requires at least two disks.</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>RAID 4</term>
<listitem>
<simpara>Error checking: Distributes data across multiple disks and uses one disk in the array to store parity information which safeguards the array in case any disk in the array fails. As all parity information is stored on one disk, access to this disk creates a "bottleneck" in the arrays performance. RAID 4 requires at least three disks.</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>RAID 5</term>
<listitem>
<simpara>Distributed error checking: Distributes data and parity information across multiple disks. RAID 5 offers the performance advantages of distributing data across multiple disks, but does not share the performance bottleneck of RAID 4 as the parity information is also distributed through the array. RAID 5 requires at least three disks.</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>RAID 6</term>
<listitem>
<simpara>Redundant error checking: RAID 6 is similar to RAID 5, but instead of storing only one set of parity data, it stores two sets. RAID 6 requires at least four disks.</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>RAID 10</term>
<listitem>
<simpara>Performance and redundancy: RAID 10 is nested or hybrid RAID. It is constructed by distributing data over mirrored sets of disks. For example, a RAID 10 array constructed from four RAID partitions consists of two mirrored pairs of striped partitions. RAID 10 requires at least four disks.</simpara>
</listitem>
</varlistentry>
</variablelist>
</section>
<section xml:id="recommended-partitioning-scheme_partitioning-reference">
<title>Recommended partitioning scheme</title>
<simpara role="_abstract">Red Hat recommends that you create separate file systems at the following mount points. However, if required, you can also create the file systems at <literal>/usr</literal>, <literal>/var</literal>, and <literal>/tmp</literal> mount points.</simpara>
<itemizedlist>
<listitem>
<simpara><literal>/boot</literal></simpara>
</listitem>
<listitem>
<simpara><literal>/</literal> (root)</simpara>
</listitem>
<listitem>
<simpara><literal>/home</literal></simpara>
</listitem>
<listitem>
<simpara><literal>swap</literal></simpara>
</listitem>
<listitem>
<simpara><literal>/boot/efi</literal></simpara>
</listitem>
<listitem>
<simpara><literal>PReP</literal></simpara>
</listitem>
</itemizedlist>
<simpara>This partition scheme is recommended for bare metal deployments and it does not apply to virtual and cloud deployments.</simpara>
<variablelist>
<varlistentry>
<term><literal>/boot</literal> partition - recommended size at least 1 GiB</term>
<listitem>
<simpara>The partition mounted on <literal>/boot</literal> contains the operating system kernel, which allows your system to boot Red Hat Enterprise Linux 9, along with files used during the bootstrap process. Due to the limitations of most firmwares, creating a small partition to hold these is recommended. In most scenarios, a 1 GiB boot partition is adequate. Unlike other mount points, using an LVM volume for <literal>/boot</literal> is not possible - <literal>/boot</literal> must be located on a separate disk partition.</simpara>
<warning>
<simpara>Normally, the <literal>/boot</literal> partition is created automatically by the installation program. However, if the <literal>/</literal> (root) partition is larger than 2 TiB and (U)EFI is used for booting, you need to create a separate <literal>/boot</literal> partition that is smaller than 2 TiB to boot the machine successfully.</simpara>
</warning>
<note>
<simpara>If you have a RAID card, be aware that some BIOS types do not support booting from the RAID card. In such a case, the <literal>/boot</literal> partition must be created on a partition outside of the RAID array, such as on a separate hard drive.</simpara>
</note>
</listitem>
</varlistentry>
<varlistentry>
<term><literal>root</literal> - recommended size of 10 GiB</term>
<listitem>
<simpara>This is where "<literal>/</literal>", or the root directory, is located. The root directory is the top-level of the directory structure. By default, all files are written to this file system unless a different file system is mounted in the path being written to, for example, <literal>/boot</literal> or <literal>/home</literal>.</simpara>
<simpara>While a 5 GiB root file system allows you to install a minimal installation, it is recommended to allocate at least 10 GiB so that you can install as many package groups as you want.</simpara>
<important>
<simpara>Do not confuse the <literal>/</literal> directory with the <literal>/root</literal> directory. The <literal>/root</literal> directory is the home directory of the root user. The <literal>/root</literal> directory is sometimes referred to as <emphasis>slash root</emphasis> to distinguish it from the root directory.</simpara>
</important>
</listitem>
</varlistentry>
<varlistentry>
<term><literal>/home</literal> - recommended size at least 1 GiB</term>
<listitem>
<simpara>To store user data separately from system data, create a dedicated file system for the <literal>/home</literal> directory. Base the file system size on the amount of data that is stored locally, number of users, and so on. You can upgrade or reinstall Red Hat Enterprise Linux 9 without erasing user data files. If you select automatic partitioning, it is recommended to have at least 55 GiB of disk space available for the installation, to ensure that the <literal>/home</literal> file system is created.</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term><literal>swap</literal> partition - recommended size at least 1 GiB</term>
<listitem>
<simpara>Swap file systems support virtual memory; data is written to a swap file system when there is not enough RAM to store the data your system is processing. Swap size is a function of system memory workload, not total system memory and therefore is not equal to the total system memory size. It is important to analyze what applications a system will be running and the load those applications will serve in order to determine the system memory workload. Application providers and developers can provide guidance.</simpara>
<simpara>When the system runs out of swap space, the kernel terminates processes as the system RAM memory is exhausted. Configuring too much swap space results in storage devices being allocated but idle and is a poor use of resources. Too much swap space can also hide memory leaks. The maximum size for a swap partition and other additional information can be found in the <literal>mkswap(8)</literal> manual page.</simpara>
<simpara>The following table provides the recommended size of a swap partition depending on the amount of RAM in your system and if you want sufficient memory for your system to hibernate. If you let the installation program partition your system automatically, the swap partition size is established using these guidelines. Automatic partitioning setup assumes hibernation is not in use. The maximum size of the swap partition is limited to 10 percent of the total size of the hard drive, and the installation program cannot create swap partitions more than 1TiB. To set up enough swap space to allow for hibernation, or if you want to set the swap partition size to more than 10 percent of the system&#8217;s storage space, or more than 1TiB, you must edit the partitioning layout manually.</simpara>
</listitem>
</varlistentry>
</variablelist>
<table frame="all" rowsep="1" colsep="1">
<title>Recommended system swap space</title>
<tgroup cols="3">
<colspec colname="col_1" colwidth="33.3333*"/>
<colspec colname="col_2" colwidth="33.3333*"/>
<colspec colname="col_3" colwidth="33.3334*"/>
<thead>
<row>
<entry align="left" valign="top">Amount of RAM in the system</entry>
<entry align="left" valign="top">Recommended swap space</entry>
<entry align="left" valign="top">Recommended swap space if allowing for hibernation</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left" valign="top"><simpara>Less than 2 GiB</simpara></entry>
<entry align="left" valign="top"><simpara>2 times the amount of RAM</simpara></entry>
<entry align="left" valign="top"><simpara>3 times the amount of RAM</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>2 GiB - 8 GiB</simpara></entry>
<entry align="left" valign="top"><simpara>Equal to the amount of RAM</simpara></entry>
<entry align="left" valign="top"><simpara>2 times the amount of RAM</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>8 GiB - 64 GiB</simpara></entry>
<entry align="left" valign="top"><simpara>4 GiB to 0.5 times the amount of RAM</simpara></entry>
<entry align="left" valign="top"><simpara>1.5 times the amount of RAM</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>More than 64 GiB</simpara></entry>
<entry align="left" valign="top"><simpara>Workload dependent (at least 4GiB)</simpara></entry>
<entry align="left" valign="top"><simpara>Hibernation not recommended</simpara></entry>
</row>
</tbody>
</tgroup>
</table>
<variablelist>
<varlistentry>
<term><literal>/boot/efi</literal> partition - recommended size of 200 MiB</term>
<listitem>
<simpara>UEFI-based AMD64, Intel 64, and 64-bit ARM require a 200 MiB EFI system partition. The recommended minimum size is 200 MiB, the default size is 600 MiB, and the maximum size is 600 MiB.
BIOS systems do not require an EFI system partition.</simpara>
</listitem>
</varlistentry>
</variablelist>
<simpara>At the border between each range, for example, a system with 2 GiB, 8 GiB, or 64 GiB of system RAM, discretion can be exercised with regard to chosen swap space and hibernation support. If your system resources allow for it, increasing the swap space can lead to better performance.</simpara>
<simpara>Distributing swap space over multiple storage devices - particularly on systems with fast drives, controllers and interfaces - also improves swap space performance.</simpara>
<simpara>Many systems have more partitions and volumes than the minimum required. Choose partitions based on your particular system needs.</simpara>
<note>
<itemizedlist>
<listitem>
<simpara>Only assign storage capacity to those partitions you require immediately. You can allocate free space at any time, to meet needs as they occur.</simpara>
</listitem>
<listitem>
<simpara>If you are unsure about how to configure partitions, accept the automatic default partition layout provided by the installation program.</simpara>
</listitem>
</itemizedlist>
</note>
<variablelist>
<varlistentry>
<term><literal>PReP</literal> boot partition - recommended size of 4 to 8 MiB</term>
<listitem>
<simpara>When installing Red Hat Enterprise Linux on IBM Power System servers, the first partition of the hard drive should include a <literal>PReP</literal> boot partition. This contains the GRUB2 boot loader, which allows other IBM Power Systems servers to boot Red Hat Enterprise Linux.</simpara>
</listitem>
</varlistentry>
</variablelist>
</section>
<section xml:id="advice-on-partitions_partitioning-reference">
<title>Advice on partitions</title>
<simpara role="_abstract">There is no best way to partition every system; the optimal setup depends on how you plan to use the system being installed. However, the following tips may help you find the optimal layout for your needs:</simpara>
<itemizedlist>
<listitem>
<simpara>Create partitions that have specific requirements first, for example, if a particular partition must be on a specific disk.</simpara>
</listitem>
<listitem>
<simpara>Consider encrypting any partitions and volumes which might contain sensitive data. Encryption prevents unauthorized people from accessing the data on the partitions, even if they have access to the physical storage device. In most cases, you should at least encrypt the <literal role="filename">/home</literal> partition, which contains user data.</simpara>
</listitem>
<listitem>
<simpara>In some cases, creating separate mount points for directories other than <literal role="filename">/</literal>, <literal role="filename">/boot</literal> and <literal role="filename">/home</literal> may be useful; for example, on a server running a <literal role="application">MySQL</literal> database, having a separate mount point for <literal role="filename">/var/lib/mysql</literal> allows you to preserve the database during a re-installation without having to restore it from backup afterward. However, having unnecessary separate mount points will make storage administration more difficult.</simpara>
</listitem>
<listitem>
<simpara>Some special restrictions apply to certain directories with regards on which partitioning layouts can they be placed. Notably, the <literal role="filename">/boot</literal> directory must always be on a physical partition (not on an LVM volume).</simpara>
</listitem>
<listitem>
<simpara>If you are new to Linux, consider reviewing the <link xl:href="http://refspecs.linuxfoundation.org/FHS_2.3/fhs-2.3.html">Linux Filesystem Hierarchy Standard</link> for information about various system directories and their contents.</simpara>
</listitem>
<listitem>
<simpara>Each kernel requires approximately: 60MiB (initrd 34MiB, 11MiB vmlinuz, and 5MiB System.map)</simpara>
</listitem>
<listitem>
<simpara>For rescue mode: 100MiB (initrd 76MiB, 11MiB vmlinuz, and 5MiB System map)</simpara>
</listitem>
<listitem>
<simpara>When <literal>kdump</literal> is enabled in system it will take approximately another 40MiB (another initrd with 33MiB)</simpara>
<simpara>The default partition size of 1 GiB for <literal role="filename">/boot</literal> should suffice for most common use cases. However, it is recommended that you increase the size of this partition if you are planning on retaining multiple kernel releases or errata kernels.</simpara>
</listitem>
<listitem>
<simpara>The <literal role="filename">/var</literal> directory holds content for a number of applications, including the Apache web server, and is used by the DNF package manager to temporarily store downloaded package updates. Make sure that the partition or volume containing <literal role="filename">/var</literal> has at least 5 GiB.</simpara>
</listitem>
<listitem>
<simpara>The <literal role="filename">/usr</literal> directory holds the majority of software on a typical Red Hat Enterprise Linux installation. The partition or volume containing this directory should therefore be at least 5 GiB for minimal installations, and at least 10 GiB for installations with a graphical environment.</simpara>
</listitem>
<listitem>
<simpara>If <literal role="filename">/usr</literal> or <literal role="filename">/var</literal> is partitioned separately from the rest of the root volume, the boot process becomes much more complex because these directories contain boot-critical components. In some situations, such as when these directories are placed on an iSCSI drive or an FCoE location, the system may either be unable to boot, or it may hang with a <literal role="literal">Device is busy</literal> error when powering off or rebooting.</simpara>
<simpara>This limitation only applies to <literal role="filename">/usr</literal> or <literal role="filename">/var</literal>, not to directories under them. For example, a separate partition for <literal role="filename">/var/www</literal> works without issues.</simpara>
<important>
<simpara>Some security policies require the separation of <literal role="filename">/usr</literal> and <literal role="filename">/var</literal>, even though it makes administration more complex.</simpara>
</important>
</listitem>
<listitem>
<simpara>Consider leaving a portion of the space in an LVM volume group unallocated. This unallocated space gives you flexibility if your space requirements change but you do not wish to remove data from other volumes. You can also select the <literal role="gui">LVM Thin Provisioning</literal> device type for the partition to have the unused space handled automatically by the volume.</simpara>
</listitem>
<listitem>
<simpara>The size of an XFS file system cannot be reduced - if you need to make a partition or volume with this file system smaller, you must back up your data, destroy the file system, and create a new, smaller one in its place. Therefore, if you plan to alter your partitioning layout later, you should use the ext4 file system instead.</simpara>
</listitem>
<listitem>
<simpara>Use Logical Volume Management (LVM) if you anticipate expanding your storage by adding more hard drives or expanding virtual machine hard drives after the installation. With LVM, you can create physical volumes on the new drives, and then assign them to any volume group and logical volume as you see fit - for example, you can easily expand your system&#8217;s <literal role="filename">/home</literal> (or any other directory residing on a logical volume).</simpara>
</listitem>
<listitem>
<simpara>Creating a BIOS Boot partition or an EFI System Partition may be necessary, depending on your system&#8217;s firmware, boot drive size, and boot drive disk label. Note that you cannot create a BIOS Boot or EFI System Partition in graphical installation if your system does <emphasis role="strong">not</emphasis> require one - in that case, they are hidden from the menu.</simpara>
</listitem>
</itemizedlist>
<itemizedlist role="_additional-resources">
<title>Additional resources</title>
<listitem>
<simpara><link xl:href="https://www.ibm.com/docs/en/linux-on-systems?topic=volumes-creating-volume-pervasive-encryption">How to use dm-crypt on IBM Z, LinuxONE and with the PAES cipher</link></simpara>
</listitem>
</itemizedlist>
</section>
<section xml:id="raid-and-other-disk-devices-x86_partitioning-reference">
<title>Supported hardware storage</title>
<simpara role="_abstract">It is important to understand how storage technologies are configured and how support for them may have changed between major versions of Red Hat Enterprise Linux.</simpara>
<formalpara>
<title>Hardware RAID</title>
<para>Any RAID functions provided by the mainboard of your computer, or attached controller cards, need to be configured before you begin the installation process. Each active RAID array appears as one drive within Red Hat Enterprise Linux.</para>
</formalpara>
<formalpara>
<title>Software RAID</title>
<para>On systems with more than one hard drive, you can use the Red Hat Enterprise Linux installation program to operate several of the drives as a Linux software RAID array. With a software RAID array, RAID functions are controlled by the operating system rather than the dedicated hardware.</para>
</formalpara>
<note>
<simpara>When a pre-existing RAID array&#8217;s member devices are all unpartitioned disks/drives, the installation program treats the array as a disk and there is no method to remove the array.</simpara>
</note>
<formalpara>
<title>USB Disks</title>
<para>You can connect and configure external USB storage after installation. Most devices are recognized by the kernel, but some devices may not be recognized.
If it is not a requirement to configure these disks during installation, disconnect them to avoid potential problems.</para>
</formalpara>
<formalpara>
<title>NVDIMM devices</title>
<para>To use a Non-Volatile Dual In-line Memory Module (NVDIMM) device as storage, the following conditions must be satisfied:</para>
</formalpara>
<itemizedlist>
<listitem>
<simpara>The architecture of the system is Intel 64 or AMD64.</simpara>
</listitem>
<listitem>
<simpara>The device is configured to sector mode. Anaconda can reconfigure NVDIMM devices to this mode.</simpara>
</listitem>
<listitem>
<simpara>The device must be supported by the nd_pmem driver.</simpara>
</listitem>
</itemizedlist>
<simpara>Booting from an NVDIMM device is possible under the following additional conditions:</simpara>
<itemizedlist>
<listitem>
<simpara>The system uses UEFI.</simpara>
</listitem>
<listitem>
<simpara>The device must be supported by firmware available on the system, or by a UEFI driver. The UEFI driver may be loaded from an option ROM of the device itself.</simpara>
</listitem>
<listitem>
<simpara>The device must be made available under a namespace.</simpara>
</listitem>
</itemizedlist>
<simpara>To take advantage of the high performance of NVDIMM devices during booting, place the <literal>/boot</literal> and <literal>/boot/efi</literal> directories on the device.</simpara>
<note>
<simpara>The Execute-in-place (XIP) feature of NVDIMM devices is not supported during booting and the kernel is loaded into conventional memory.</simpara>
</note>
<formalpara>
<title>Considerations for Intel BIOS RAID Sets</title>
<para>Red Hat Enterprise Linux uses <literal>mdraid</literal> for installing on Intel BIOS RAID sets. These sets are automatically detected during the boot process and their device node paths can change across several booting processes. It is recommended that you replace device node paths (such as <literal>/dev/sda</literal>) with file system labels or device UUIDs. You can find the file system labels and device UUIDs using the <literal>blkid</literal> command.</para>
</formalpara>
</section>
</appendix>
<appendix xml:id="changing-a-subscripton-service_{context}">
<title>Changing a subscription service</title>
<simpara role="_abstract">To manage the subscriptions, you can register a RHEL system with either Red Hat Subscription Management Server or Red Hat Satellite Server.
If required, you can change the subscription service at a later point.
To change the subscription service under which you are registered, unregister the system from the current service and then register it with a new service.</simpara>
<simpara>This section contains information about how to unregister your RHEL system from the Red Hat Subscription Management Server and Red Hat Satellite Server.</simpara>
<formalpara>
<title>Prerequisites</title>
<para>You have registered your system with any one of the following:</para>
</formalpara>
<itemizedlist>
<listitem>
<simpara>Red Hat Subscription Management Server</simpara>
</listitem>
<listitem>
<simpara>Red Hat Satellite Server version 6.11</simpara>
</listitem>
</itemizedlist>
<note>
<simpara>To receive the system updates, register your system with either of the management server.</simpara>
</note>
<section xml:id="unregistering-from-subscription-management-server_changing-a-subscripton-service">
<title>Unregistering from Subscription Management Server</title>
<simpara>This section contains information about how to unregister a RHEL system from Red Hat Subscription Management Server, using a command line and the Subscription Manager user interface.</simpara>
<section xml:id="unregistering-using-command-line_changing-a-subscripton-service">
<title>Unregistering using command line</title>
<simpara>Use the <literal role="command">unregister</literal> command to unregister a RHEL system from Red Hat Subscription Management Server.</simpara>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>Run the unregister command as a root user, without any additional parameters.</simpara>
<literallayout class="monospaced"><literal>#</literal> subscription-manager unregister</literallayout>
</listitem>
<listitem>
<simpara>When prompted, provide a root password.</simpara>
</listitem>
</orderedlist>
<simpara>The system is unregistered from the Subscription Management Server, and the status 'The system is currently not registered' is displayed with the <guibutton>Register</guibutton> button enabled.</simpara>
<note>
<simpara>To continue uninterrupted services, re-register the system with either of the management services. If you do not register the system with a management service, you may fail to receive the system updates.
For more information about registering a system, see
<link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/performing_a_standard_rhel_9_installation/assembly_installing-on-amd64-intel-64-and-64-bit-arm_installing-rhel#proc_registering-your-system-using-the-command-line_post-installation-tasks">Registering your system using the command line</link>.</simpara>
</note>
<itemizedlist role="_additional-resources">
<title>Additional resources</title>
<listitem>
<simpara><link xl:href="https://access.redhat.com/documentation/en-us/red_hat_subscription_management/1/html-single/rhsm/index/"><emphasis>Using and Configuring Red Hat Subscription Manager</emphasis></link></simpara>
</listitem>
</itemizedlist>
</section>
<section xml:id="unregistering-using-gui_changing-a-subscripton-service">
<title>Unregistering using Subscription Manager user interface</title>
<simpara role="_abstract">This section contains information about how to unregister a RHEL system from Red Hat Subscription Management Server, using Subscription Manager user interface.</simpara>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>Log in to your system.</simpara>
</listitem>
<listitem>
<simpara>From the top left-hand side of the window, click <emphasis role="strong">Activities</emphasis>.</simpara>
</listitem>
<listitem>
<simpara>From the menu options, click the <emphasis role="strong">Show Applications</emphasis> icon.</simpara>
</listitem>
<listitem>
<simpara>Click the <emphasis role="strong">Red Hat Subscription Manager</emphasis> icon, or enter <emphasis role="strong">Red Hat Subscription Manager</emphasis> in the search.</simpara>
</listitem>
<listitem>
<simpara>Enter your administrator password in the <emphasis role="strong">Authentication Required</emphasis> dialog box.
The <emphasis role="strong">Subscriptions</emphasis> window appears and displays the current status of Subscriptions, System Purpose, and installed products. Unregistered products display a red X.</simpara>
<note>
<simpara>Authentication is required to perform privileged tasks on the system.</simpara>
</note>
</listitem>
<listitem>
<simpara>Click the <guibutton>Unregister</guibutton> button.</simpara>
</listitem>
</orderedlist>
<simpara>The system is unregistered from the Subscription Management Server, and the status 'The system is currently not registered' is displayed with the <guibutton>Register</guibutton> button enabled.</simpara>
<note>
<simpara>To continue uninterrupted services, re-register the system with either of the management services. If you do not register the system with a management service, you may fail to receive the system updates.
For more information about registering a system, see
<link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/performing_a_standard_rhel_9_installation/assembly_installing-on-amd64-intel-64-and-64-bit-arm_installing-rhel#subscription-manager-post-install-ui_post-installation-tasks">Registering your system using the Subscription Manager User Interface</link>.</simpara>
</note>
<itemizedlist role="_additional-resources">
<title>Additional resources</title>
<listitem>
<simpara><link xl:href="https://access.redhat.com/documentation/en-us/red_hat_subscription_management/1/html-single/rhsm/index/"><emphasis>Using and Configuring Red Hat Subscription Manager</emphasis></link></simpara>
</listitem>
</itemizedlist>
</section>
</section>
<section xml:id="unregistering-from-satellite-server_{context}">
<title>Unregistering from Satellite Server</title>
<simpara role="_abstract">To unregister a Red Hat Enterprise Linux system from Satellite Server, remove the system from Satellite Server.</simpara>
<simpara>For more information, see <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_satellite/6.6/html/managing_hosts/index">Removing a Host from Red Hat Satellite</link> in the <emphasis>Managing Hosts</emphasis> guide from Satellite Server documentation.</simpara>
</section>
</appendix>
<appendix xml:id="iscsi-disks-in-installation-program_{context}">
<title>iSCSI disks in installation program</title>
<simpara role="_abstract">The Red Hat Enterprise Linux installer can discover and log in to iSCSI disks in two ways:</simpara>
<itemizedlist>
<listitem>
<simpara>When the installer starts, it checks if the BIOS or add-on boot ROMs of the system support iSCSI Boot Firmware Table (iBFT), a BIOS extension for systems that can boot from iSCSI.
If the BIOS supports iBFT, the installer reads the iSCSI target information for the configured boot disk from the BIOS and logs in to this target, making it available as an installation target.</simpara>
<important>
<simpara>To connect automatically to an iSCSI target, activate a network device for accessing the target. To do so, use <literal>ip=ibft</literal> boot option.
For more information, see <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_an_advanced_rhel_9_installation/index#network-boot-options_kickstart-and-advanced-boot-options">Network boot options</link>.</simpara>
</important>
</listitem>
<listitem>
<simpara>You can discover and add iSCSI targets manually in the installer&#8217;s graphical user interface.
For more information, see <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_a_standard_rhel_9_installation/index#storage-devices_graphical-installation">Configuring storage devices</link>.</simpara>
<important>
<simpara>You cannot place the <literal>/boot</literal> partition on iSCSI targets that you have manually added using this method - an iSCSI target containing a <literal>/boot</literal> partition must be configured for use with iBFT.
However, in instances where the installed system is expected to boot from iSCSI with iBFT configuration provided by a method other than firmware iBFT, for example using iPXE, you can remove the <literal>/boot</literal> partition restriction using the <literal role="option">inst.nonibftiscsiboot</literal> installer boot option.</simpara>
</important>
</listitem>
</itemizedlist>
<simpara>While the installer uses <literal>iscsiadm</literal> to find and log into iSCSI targets, <literal>iscsiadm</literal> automatically stores any information about these targets in the <literal>iscsiadm</literal> iSCSI database.
The installer then copies this database to the installed system and marks any iSCSI targets that are not used for root partition, so that the system automatically logs in to them when it starts.
If the root partition is placed on an iSCSI target, initrd logs into this target and the installer does not include this target in start up scripts to avoid multiple attempts to log into the same target.</simpara>
</appendix>
<appendix xml:id="troubleshooting-at-the-start-of-the-installation_{context}">
<title>Tools and tips for troubleshooting and bug reporting</title>
<simpara role="_abstract">The troubleshooting information in the following sections might be helpful when diagnosing issues at the start of the installation process. The following sections are for all supported architectures. However, if an issue is for a particular architecture, it is specified at the start of the section.</simpara>
<section xml:id="dracut_troubleshooting-at-the-start-of-the-installation">
<title>Dracut</title>
<simpara role="_abstract"><literal>Dracut</literal> is a tool that manages the <literal>initramfs</literal> image during the Linux operating system boot process. The <literal>dracut</literal> emergency shell is an interactive mode that can be initiated while the <literal>initramfs</literal> image is loaded. You can run basic troubleshooting commands from the <literal>dracut</literal> emergency shell. For more information, see the <emphasis role="strong">Troubleshooting</emphasis> section of the <literal>dracut</literal> man page.</simpara>
</section>
<section xml:id="using-installation-log-files_troubleshooting-at-the-start-of-the-installation">
<title>Using installation log files</title>
<simpara role="_abstract">For debugging purposes, the installation program logs installation actions in files that are located in the <literal>/tmp</literal> directory. These log files are listed in the following table.</simpara>
<table frame="all" rowsep="1" colsep="1">
<title>Log files generated during the installation</title>
<tgroup cols="2">
<colspec colname="col_1" colwidth="50*"/>
<colspec colname="col_2" colwidth="50*"/>
<thead>
<row>
<entry align="left" valign="top">Log file</entry>
<entry align="left" valign="top">Contents</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left" valign="top"><simpara><literal>/tmp/anaconda.log</literal></simpara></entry>
<entry align="left" valign="top"><simpara>General messages.</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>/tmp/program.log</literal></simpara></entry>
<entry align="left" valign="top"><simpara>All external programs run during the installation.</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>/tmp/storage.log</literal></simpara></entry>
<entry align="left" valign="top"><simpara>Extensive storage module information.</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>/tmp/packaging.log</literal></simpara></entry>
<entry align="left" valign="top"><simpara>dnf and rpm package installation messages.</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>/tmp/dbus.log</literal></simpara></entry>
<entry align="left" valign="top"><simpara>Information about the <literal>dbus</literal> session that is used for installation program modules.</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>/tmp/sensitive-info.log</literal></simpara></entry>
<entry align="left" valign="top"><simpara>Configuration information that is not part of other logs and not copied to the installed system.</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>/tmp/syslog</literal></simpara></entry>
<entry align="left" valign="top"><simpara>Hardware-related system messages. This file contains messages from other Anaconda files.</simpara></entry>
</row>
</tbody>
</tgroup>
</table>
<simpara>If the installation fails, the messages are consolidated into <literal>/tmp/anaconda-tb-identifier</literal>, where identifier is a random string.
After a successful installation, these files are copied to the installed system under the directory <literal>/var/log/anaconda/</literal>. However, if the installation is unsuccessful, or if the <literal>inst.nosave=all</literal> or <literal>inst.nosave=logs</literal> options are used when booting the installation system, these logs only exist in the installation program&#8217;s RAM disk. This means that the logs are not saved permanently and are lost when the system is powered down. To store them permanently, copy the files to another system on the network or copy them to a mounted storage device such as a USB flash drive.</simpara>
<section xml:id="creating-pre-installation-log-files_using-installation-log-files">
<title>Creating pre-installation log files</title>
<simpara role="_abstract">Use this procedure to set the <literal>inst.debug</literal> option to create log files before the installation process starts. These log files contain, for example, the current storage configuration.</simpara>
<itemizedlist>
<title>Prerequisites</title>
<listitem>
<simpara>The Red Hat Enterprise Linux boot menu is open.</simpara>
</listitem>
</itemizedlist>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>Select the <emphasis role="strong">Install Red Hat Enterprise Linux</emphasis> option from the boot menu.</simpara>
</listitem>
<listitem>
<simpara>Press the <keycap>Tab</keycap> key on BIOS-based systems or the <keycap>e</keycap> key on UEFI-based systems to edit the selected boot options.</simpara>
</listitem>
<listitem>
<simpara>Append <literal>inst.debug</literal> to the options. For example:</simpara>
<screen>vmlinuz ... inst.debug</screen>
</listitem>
<listitem>
<simpara>Press the <keycap>Enter</keycap> key on your keyboard. The system stores the pre-installation log files in the <literal>/tmp/pre-anaconda-logs/</literal> directory before the installation program starts.</simpara>
</listitem>
<listitem>
<simpara>To access the log files, switch to the console.</simpara>
</listitem>
<listitem>
<simpara>Change to the <literal>/tmp/pre-anaconda-logs/</literal> directory:</simpara>
<screen># cd /tmp/pre-anaconda-logs/</screen>
</listitem>
</orderedlist>
<itemizedlist role="_additional-resources">
<title>Additional resources</title>
<listitem>
<simpara><link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/boot_options_for_rhel_installer/index">Boot options reference</link></simpara>
</listitem>
<listitem>
<simpara><link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_a_standard_rhel_9_installation/index#consoles-logging-during-install_troubleshooting-at-the-start-of-the-installation">Console logging during installation</link></simpara>
</listitem>
</itemizedlist>
</section>
<section xml:id="transferring-log-files-to-usb_using-installation-log-files">
<title>Transferring installation log files to a USB drive</title>
<simpara role="_abstract">Use this procedure to transfer installation log files to a USB drive.</simpara>
<itemizedlist>
<title>Prerequisites</title>
<listitem>
<simpara>You have backed up data from the USB drive.</simpara>
</listitem>
<listitem>
<simpara>You are logged into a root account and you have access to the installation program&#8217;s temporary file system.</simpara>
</listitem>
</itemizedlist>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>Press <keycap>Ctrl</keycap> + <keycap>Alt</keycap> + <keycap>F2</keycap> to access a shell prompt on the system you are installing.</simpara>
</listitem>
<listitem>
<simpara>Connect a USB flash drive to the system and run the <literal>dmesg</literal> command:</simpara>
<screen># dmesg</screen>
<simpara>A log detailing all recent events is displayed. At the end of this log, a set of messages is displayed. For example:</simpara>
<screen>[ 170.171135] sd 5:0:0:0: [sdb] Attached SCSI removable disk</screen>
</listitem>
<listitem>
<simpara>Note the name of the connected device. In the above example, it is <literal>sdb</literal>.</simpara>
</listitem>
<listitem>
<simpara>Navigate to the <literal>/mnt</literal> directory and create a new directory that serves as the mount target for the USB drive. This example uses the name <literal>usb</literal>:</simpara>
<screen># mkdir usb</screen>
</listitem>
<listitem>
<simpara>Mount the USB flash drive onto the newly created directory. In most cases, you do not want to mount the whole drive, but a partition on it. Do not use the name <literal>sdb</literal>, use the name of the partition you want to write the log files to. In this example, the name <literal>sdb1</literal> is used:</simpara>
<screen># mount /dev/sdb1 /mnt/usb</screen>
</listitem>
<listitem>
<simpara>Verify that you mounted the correct device and partition by accessing it and listing its contents:</simpara>
<screen># cd /mnt/usb</screen>
<screen># ls</screen>
</listitem>
<listitem>
<simpara>Copy the log files to the mounted device.</simpara>
<screen># cp /tmp/*log /mnt/usb</screen>
</listitem>
<listitem>
<simpara>Unmount the USB flash drive. If you receive an error message that the target is busy, change your working directory to outside the mount (for example, /).</simpara>
<screen># umount /mnt/usb</screen>
</listitem>
</orderedlist>
</section>
<section xml:id="transferring-log-files-over-the-network_using-installation-log-files">
<title>Transferring installation log files over the network</title>
<simpara role="_abstract">Use this procedure to transfer installation log files over the network.</simpara>
<itemizedlist>
<title>Prerequisites</title>
<listitem>
<simpara>You are logged into a root account and you have access to the installation program&#8217;s temporary file system.</simpara>
</listitem>
</itemizedlist>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>Press <keycap>Ctrl</keycap> + <keycap>Alt</keycap> + <keycap>F2</keycap> to access a shell prompt on the system you are installing.</simpara>
</listitem>
<listitem>
<simpara>Switch to the <literal>/tmp</literal> directory where the log files are located:</simpara>
<screen># cd /tmp</screen>
</listitem>
<listitem>
<simpara>Copy the log files onto another system on the network using the <literal>scp</literal> command:</simpara>
<screen># scp *log user@address:path</screen>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>Replace <emphasis role="strong">user</emphasis> with a valid user name on the target system, <emphasis role="strong">address</emphasis> with the target system&#8217;s address or host name, and <emphasis role="strong">path</emphasis> with the path to the directory where you want to save the log files. For example, if you want to log in as <literal>john</literal> on a system with an IP address of 192.168.0.122 and place the log files into the <literal>/home/john/logs/</literal> directory on that system, the command is as follows:</simpara>
<screen># scp *log john@192.168.0.122:/home/john/logs/</screen>
<simpara>When connecting to the target system for the first time, the SSH client asks you to confirm that the fingerprint of the remote system is correct and that you want to continue:</simpara>
<screen>The authenticity of host '192.168.0.122 (192.168.0.122)' can't be established.
ECDSA key fingerprint is a4:60:76:eb:b2:d0:aa:23:af:3d:59:5c:de:bb:c4:42.
Are you sure you want to continue connecting (yes/no)?</screen>
</listitem>
<listitem>
<simpara>Type <emphasis role="strong">yes</emphasis> and press <keycap>Enter</keycap> to continue. Provide a valid password when prompted. The files are transferred to the specified directory on the target system.</simpara>
</listitem>
</orderedlist>
</listitem>
</orderedlist>
</section>
</section>
<section xml:id="memtest86_troubleshooting-at-the-start-of-the-installation">
<title>Detecting memory faults using the Memtest86 application</title>
<simpara role="_abstract">Faults in memory (RAM) modules can cause your system to fail unpredictably. In certain situations, memory faults might only cause errors with particular combinations of software. For this reason, you should test your system&#8217;s memory before you install Red Hat Enterprise Linux.</simpara>
<note>
<simpara>Red Hat Enterprise Linux includes the <literal>Memtest86+</literal> memory testing application for BIOS systems only. Support for UEFI systems is currently unavailable.</simpara>
</note>
<section xml:id="running-memtest86_memtest86">
<title>Running Memtest86</title>
<simpara role="_abstract">Use this procedure to run the <literal>Memtest86</literal> application to test your system&#8217;s memory for faults before you install Red Hat Enterprise Linux.</simpara>
<itemizedlist>
<title>Prerequisites</title>
<listitem>
<simpara>You have accessed the Red Hat Enterprise Linux boot menu.</simpara>
</listitem>
</itemizedlist>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>From the Red Hat Enterprise Linux boot menu, select <emphasis role="strong">Troubleshooting &gt; Run a memory test</emphasis>. The <literal>Memtest86</literal> application window is displayed and testing begins immediately. By default, <literal>Memtest86</literal> performs ten tests in every pass. After the first pass is complete, a message is displayed in the lower part of the window informing you of the current status. Another pass starts automatically.</simpara>
<simpara>If <literal>Memtest86+</literal> detects an error, the error is displayed in the central pane of the window and is highlighted in red. The message includes detailed information such as which test detected a problem, the memory location that is failing, and others. In most cases, a single successful pass of all 10 tests is sufficient to verify that your RAM is in good condition. In rare circumstances, however, errors that went undetected during the first pass might appear on subsequent passes. To perform a thorough test on important systems, run the tests overnight or for a few days to complete multiple passes.</simpara>
<note>
<simpara>The amount of time it takes to complete a single full pass of <literal>Memtest86+</literal> varies depending on your system&#8217;s configuration, notably the RAM size and speed. For example, on a system with 2 GiB of DDR2 memory at 667 MHz, a single pass takes 20 minutes to complete.</simpara>
</note>
</listitem>
<listitem>
<simpara>Optional: Follow the on-screen instructions to access the <emphasis role="strong">Configuration</emphasis> window and specify a different configuration.</simpara>
</listitem>
<listitem>
<simpara>To halt the tests and reboot your computer, press the <keycap>Esc</keycap> key at any time.</simpara>
</listitem>
</orderedlist>
<itemizedlist role="_additional-resources">
<title>Additional resources</title>
<listitem>
<simpara><link xl:href="http://www.memtest.org/">How to use <literal>Memtest86</literal></link></simpara>
</listitem>
</itemizedlist>
</section>
</section>
<section xml:id="verifying-boot-media_troubleshooting-at-the-start-of-the-installation">
<title>Verifying boot media</title>
<simpara role="_abstract">Verifying ISO images helps to avoid problems that are sometimes encountered during installation. These sources include DVD and ISO images stored on a hard drive or NFS server.
Use this procedure to test the integrity of an ISO-based installation source before using it to install Red Hat Enterprise Linux.</simpara>
<itemizedlist>
<title>Prerequisites</title>
<listitem>
<simpara>You have accessed the Red Hat Enterprise Linux boot menu.</simpara>
</listitem>
</itemizedlist>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>From the boot menu, select <emphasis role="strong">Test this media &amp; install Red Hat Enterprise Linux 9</emphasis> to test the boot media.</simpara>
</listitem>
<listitem>
<simpara>The boot process tests the media and highlights any issues.</simpara>
</listitem>
<listitem>
<simpara>Optional: You can start the verification process by appending <literal>rd.live.check</literal> to the boot command line.</simpara>
</listitem>
</orderedlist>
</section>
<section xml:id="consoles-logging-during-install_troubleshooting-at-the-start-of-the-installation">
<title>Consoles and logging during installation</title>
<simpara role="_abstract">The Red Hat Enterprise Linux installer uses the <emphasis role="strong"><phrase role="application">tmux</phrase></emphasis> terminal multiplexer to display and control several windows in addition to the main interface. Each of these windows serve a different purpose; they display several different logs, which can be used to troubleshoot issues during the installation process. One of the windows provides an interactive shell prompt with <literal role="systemitem">root</literal> privileges, unless this prompt was specifically disabled using a boot option or a Kickstart command.</simpara>
<note>
<simpara>In general, there is no reason to leave the default graphical installation environment unless you need to diagnose an installation problem.</simpara>
</note>
<simpara>The terminal multiplexer is running in virtual console 1. To switch from the actual installation environment to <emphasis role="strong"><phrase role="application">tmux</phrase></emphasis>, press <keycombo><keycap>Ctrl</keycap><keycap>Alt</keycap><keycap>F1</keycap></keycombo>. To go back to the main installation interface which runs in virtual console 6, press <keycombo><keycap>Ctrl</keycap><keycap>Alt</keycap><keycap>F6</keycap></keycombo>.</simpara>
<note>
<simpara>If you choose text mode installation, you will start in virtual console 1 (<emphasis role="strong"><phrase role="application">tmux</phrase></emphasis>), and switching to console 6 will open a shell prompt instead of a graphical interface.</simpara>
</note>
<simpara>The console running <emphasis role="strong"><phrase role="application">tmux</phrase></emphasis> has five available windows; their contents are described in the following table, along with keyboard shortcuts. Note that the keyboard shortcuts are two-part: first press <keycombo><keycap>Ctrl</keycap><keycap>b</keycap></keycombo>, then release both keys, and press the number key for the window you want to use.</simpara>
<simpara>You can also use <keycombo><keycap>Ctrl</keycap><keycap>b</keycap></keycombo> <keycap>n</keycap>, <keycap>Alt+</keycap> <keycap>Tab</keycap>, and  <keycombo><keycap>Ctrl</keycap><keycap>b</keycap></keycombo> <keycap>p</keycap> to switch to the next or previous <emphasis role="strong"><phrase role="application">tmux</phrase></emphasis> window, respectively.</simpara>
<table frame="all" rowsep="1" colsep="1">
<title>Available tmux windows</title>
<tgroup cols="2">
<colspec colname="col_1" colwidth="50*"/>
<colspec colname="col_2" colwidth="50*"/>
<thead>
<row>
<entry align="left" valign="top">Shortcut</entry>
<entry align="left" valign="top">Contents</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left" valign="top"><simpara><keycombo><keycap>Ctrl</keycap><keycap>b</keycap></keycombo> <keycap>1</keycap></simpara></entry>
<entry align="left" valign="top"><simpara>Main installation program window. Contains text-based prompts (during text mode installation or if you use VNC direct mode), and also some debugging information.</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><keycombo><keycap>Ctrl</keycap><keycap>b</keycap></keycombo> <keycap>2</keycap></simpara></entry>
<entry align="left" valign="top"><simpara>Interactive shell prompt with <literal role="systemitem">root</literal> privileges.</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><keycombo><keycap>Ctrl</keycap><keycap>b</keycap></keycombo> <keycap>3</keycap></simpara></entry>
<entry align="left" valign="top"><simpara>Installation log; displays messages stored in <literal role="filename">/tmp/anaconda.log</literal>.</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><keycombo><keycap>Ctrl</keycap><keycap>b</keycap></keycombo> <keycap>4</keycap></simpara></entry>
<entry align="left" valign="top"><simpara>Storage log; displays messages related to storage devices and configuration, stored in <literal role="filename">/tmp/storage.log</literal>.</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><keycombo><keycap>Ctrl</keycap><keycap>b</keycap></keycombo> <keycap>5</keycap></simpara></entry>
<entry align="left" valign="top"><simpara>Program log; displays messages from utilities executed during the installation process, stored in <literal role="filename">/tmp/program.log</literal>.</simpara></entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section xml:id="saving-screenshots_troubleshooting-at-the-start-of-the-installation">
<title>Saving screenshots</title>
<simpara role="_abstract">You can press <keycombo><keycap>Shift</keycap><keycap>Print Screen</keycap></keycombo> at any time during the graphical installation to capture the current screen. The screenshots are saved to <literal role="filename">/tmp/anaconda-screenshots</literal>.</simpara>
</section>
<section xml:id="cannot-boot-into-the-graphical-installation_troubleshooting-at-the-start-of-the-installation">
<title>Display settings and device drivers</title>
<simpara role="_abstract">Some video cards have trouble booting into the Red Hat Enterprise Linux graphical installation program. If the installation program does not run using its default settings, it attempts to run in a lower resolution mode. If that fails, the installation program attempts to run in text mode.</simpara>
<simpara>There are several possible solutions to resolve display issues, most of which involve specifying custom boot options:</simpara>
<simpara>For more information, see <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_a_standard_rhel_9_installation/index#console-environment-and-display-boot-options_custom-boot-options">Console boot options</link>.</simpara>
<table frame="all" rowsep="1" colsep="1">
<title>Solutions</title>
<tgroup cols="2">
<colspec colname="col_1" colwidth="50*"/>
<colspec colname="col_2" colwidth="50*"/>
<thead>
<row>
<entry align="left" valign="top">Solution</entry>
<entry align="left" valign="top">Description</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left" valign="top"><simpara>Use the text mode</simpara></entry>
<entry align="left" valign="top"><simpara>You can attempt to perform the installation using the text mode. For details, refer to <link xl:href="https://access.redhat.com/articles/4323781">Installing RHEL in text mode</link>.</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>Specify the display resolution manually</simpara></entry>
<entry align="left" valign="top"><simpara>If the installation program fails to detect your screen resolution, you can override the automatic detection and specify it manually. To do this, append the <emphasis role="strong">inst.resolution=x</emphasis> option at the boot menu, where <emphasis role="strong">x</emphasis> is your display&#8217;s resolution, for example, 1024x768.</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>Use an alternate video driver</simpara></entry>
<entry align="left" valign="top"><simpara>You can attempt to specify a custom video driver, overriding the installation program&#8217;s automatic detection. To specify a driver, use the <emphasis role="strong">inst.xdriver=x</emphasis> option, where <emphasis role="strong">x</emphasis> is the device driver you want to use (for example, nouveau)*.</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>Perform the installation using VNC</simpara></entry>
<entry align="left" valign="top"><simpara>If the above options fail, you can use a separate system to access the graphical installation over the network, using the Virtual Network Computing (VNC) protocol. For details on installing using VNC, see the <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_a_standard_rhel_9_installation/index#assembly_performing-a-remote-installation-using-vnc_installing-RHEL"><emphasis>Performing a remote RHEL installation using VNC</emphasis></link> section of the <emphasis>Performing a standard RHEL 9 installation</emphasis> document.</simpara></entry>
</row>
</tbody>
</tgroup>
</table>
<simpara>*If specifying a custom video driver solves your problem, you should report it as a bug in <link xl:href="https://issues.redhat.com/projects/RHEL/issues">Jira</link>. The installation program should be able to detect your hardware automatically and use the appropriate driver without intervention.</simpara>
</section>
<section xml:id="reporting-traceback-messages_troubleshooting-at-the-start-of-the-installation">
<title>Reporting error messages to Red Hat Customer Support</title>
<simpara role="_abstract">If the graphical installation encounters an error, it displays the <emphasis role="strong">unknown error</emphasis> dialog box. You can send information about the error to Red Hat Customer Support. To send a report, you must enter your Customer Portal credentials. If you do not have a Customer Portal account, you can register at <link xl:href="https://www.redhat.com/wapps/ugc/register.html">https://www.redhat.com/wapps/ugc/register.html</link>. Automated error reporting requires a network connection.</simpara>
<formalpara>
<title>Prerequisite</title>
<para>The graphical installation program encountered an error and displayed the <emphasis role="strong">unknown error</emphasis> dialog box.</para>
</formalpara>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>From the <emphasis role="strong">unknown error</emphasis> dialog box, click <guibutton>Report Bug</guibutton> to report the problem, or <guibutton>Quit</guibutton> to exit the installation.</simpara>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>Optionally, click <guibutton>More Info&#8230;&#8203;</guibutton> to display a detailed output that might help determine the cause of the error. If you are familiar with debugging, click <guibutton>Debug</guibutton>. This displays the virtual terminal <literal>tty1</literal>, where you can request additional information. To return to the graphical interface from <literal>tty1</literal>, use the <literal>continue</literal> command.</simpara>
</listitem>
</orderedlist>
</listitem>
<listitem>
<simpara>Click <guibutton>Report a bug to Red Hat Customer Support</guibutton>.</simpara>
</listitem>
<listitem>
<simpara>The <emphasis role="strong">Red Hat Customer Support - Reporting Configuration</emphasis> dialog box is displayed. From the <emphasis role="strong">Basic</emphasis> tab, enter your Customer Portal user name and password. If your network settings require you to use an HTTP or HTTPS proxy, you can configure it by selecting the <emphasis role="strong">Advanced</emphasis> tab and entering the address of the proxy server.</simpara>
</listitem>
<listitem>
<simpara>Complete all fields and click <guibutton>OK</guibutton>.</simpara>
</listitem>
<listitem>
<simpara>A text box is displayed. Explain each step that was taken before the <emphasis role="strong">unknown error</emphasis> dialog box was displayed.</simpara>
</listitem>
<listitem>
<simpara>Select an option from the <emphasis role="strong">How reproducible is this problem</emphasis> drop-down menu and provide additional information in the text box.</simpara>
</listitem>
<listitem>
<simpara>Click <guibutton>Forward</guibutton>.</simpara>
</listitem>
<listitem>
<simpara>Verify that all the information you provided is in the <emphasis role="strong">Comment</emphasis> tab. The other tabs include information such as your system&#8217;s host name and other details about your installation environment. You can remove any of the information that you do not want to send to Red Hat, but be aware that providing less detail might affect the investigation of the issue.</simpara>
</listitem>
<listitem>
<simpara>Click <emphasis role="strong">Forward</emphasis> when you have finished reviewing all tabs.</simpara>
</listitem>
<listitem>
<simpara>A dialog box displays all the files that will be sent to Red Hat. Clear the check boxes beside the files that you do not want to send to Red Hat. To add a file, click <emphasis role="strong">Attach a file</emphasis>.</simpara>
</listitem>
<listitem>
<simpara>Select the check box <emphasis role="strong">I have reviewed the data and agree with submitting it.</emphasis></simpara>
</listitem>
<listitem>
<simpara>Click <guibutton>Forward</guibutton> to send the report and attachments to Red Hat.</simpara>
</listitem>
<listitem>
<simpara>Click <guibutton>Show log</guibutton> to view the details of the reporting process or click <guibutton>Close</guibutton> to return to the <emphasis role="strong">unknown error</emphasis> dialog box.</simpara>
</listitem>
<listitem>
<simpara>Click <guibutton>Quit</guibutton> to exit the installation.</simpara>
</listitem>
</orderedlist>
</section>
</appendix>
<appendix xml:id="troubleshooting-after-installation_{context}">
<title>Troubleshooting</title>
<simpara role="_abstract">The troubleshooting information in the following sections might be helpful when diagnosing issues after the installation process. The following sections are for all supported architectures. However, if an issue is for a particular architecture, it is specified at the start of the section.</simpara>
<section xml:id="resuming-an-interrupted-download-attempt_troubleshooting-after-installation">
<title>Resuming an interrupted download attempt</title>
<simpara role="_abstract">You can resume an interrupted download using the <literal role="command">curl</literal> command.</simpara>
<itemizedlist>
<title>Prerequisite</title>
<listitem>
<simpara>You have navigated to the <emphasis role="strong">Product Downloads</emphasis> section of the Red Hat Customer Portal at <link xl:href="https://access.redhat.com/downloads">https://access.redhat.com/downloads</link>, and selected the required variant, version, and architecture.</simpara>
</listitem>
<listitem>
<simpara>You have right-clicked on the required ISO file, and selected <emphasis role="strong">Copy Link Location</emphasis> to copy the URL of the ISO image file to your clipboard.</simpara>
</listitem>
</itemizedlist>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>Download the ISO image from the new link. Add the <literal>--continue-at -</literal> option to automatically resume the download:</simpara>
<screen>$ curl --output <emphasis>directory-path/filename.iso</emphasis> <emphasis>'new_copied_link_location'</emphasis> --continue-at -</screen>
</listitem>
<listitem>
<simpara>Use a checksum utility such as <emphasis role="strong"><phrase role="application">sha256sum</phrase></emphasis> to verify the integrity of the image file after the download finishes:</simpara>
<literallayout class="monospaced">$ sha256sum <emphasis>rhel-x.x-x86_64-dvd.iso</emphasis>
			<emphasis>`85a...46c  rhel-x.x-x86_64-dvd.iso`</emphasis></literallayout>
<simpara>Compare the output with reference checksums provided on the Red Hat Enterprise Linux <emphasis role="strong">Product Download</emphasis> web page.</simpara>
</listitem>
</orderedlist>
<example>
<title>Resuming an interrupted download attempt</title>
<simpara>The following is an example of a <literal role="command">curl</literal> command for a partially downloaded ISO image:</simpara>
<literallayout class="monospaced">$ curl --output <emphasis>_rhel-x.x-x86_64-dvd.iso 'https://access.cdn.redhat.com//content/origin/files/sha256/85/85a...46c/rhel-x.x-x86_64-dvd.iso?_auth</emphasis>=141...963' --continue-at -</literallayout>
</example>
</section>
<section xml:id="disks-are-not-detected_troubleshooting-after-installation">
<title>Disks are not detected</title>
<simpara role="_abstract">If the installation program cannot find a writable storage device to install to, it returns the following error message in the <emphasis role="strong">Installation Destination</emphasis> window: <emphasis role="strong">No disks detected. Please shut down the computer, connect at least one disk, and restart to complete installation.</emphasis></simpara>
<simpara>Check the following items:</simpara>
<itemizedlist>
<listitem>
<simpara>Your system has at least one storage device attached.</simpara>
</listitem>
<listitem>
<simpara>If your system uses a hardware RAID controller; verify that the controller is properly configured and working as expected. See your controller&#8217;s documentation for instructions.</simpara>
</listitem>
<listitem>
<simpara>If you are installing into one or more iSCSI devices and there is no local storage present on the system, verify that all required LUNs are presented to the appropriate Host Bus Adapter (HBA).</simpara>
</listitem>
</itemizedlist>
<simpara>If the error message is still displayed after rebooting the system and starting the installation process, the installation program failed to detect the storage. In many cases the error message is a result of attempting to install on an iSCSI device that is not recognized by the installation program.</simpara>
<simpara>In this scenario, you must perform a driver update before starting the installation. Check your hardware vendor&#8217;s website to determine if a driver update is available. For more general information about driver updates, see the <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_an_advanced_rhel_9_installation/index#updating-drivers-during-installation_installing-rhel-as-an-experienced-user"><emphasis>Updating drivers during installation</emphasis></link> section of the <emphasis>Performing an advanced RHEL 9 installation</emphasis> document.</simpara>
<simpara>You can also consult the RedHat Hardware Compatibility List, available at <link xl:href="https://access.redhat.com/ecosystem/search/#/category/Server">https://access.redhat.com/ecosystem/search/#/category/Server</link>.</simpara>
</section>
<section xml:id="unable-to-boot-with-a-raid-card_troubleshooting-after-installation">
<title>Cannot boot with a RAID card</title>
<simpara role="_abstract">If you cannot boot your system after the installation, you might need to reinstall and repartition your system&#8217;s storage. Some BIOS types do not support booting from RAID cards. After you finish the installation and reboot the system for the first time, a text-based screen displays the boot loader prompt (for example, <literal>grub&gt;</literal>) and a flashing cursor might be displayed. If this is the case, you must repartition your system and move your <literal>/boot</literal> partition and the boot loader outside of the RAID array. The <literal>/boot</literal> partition and the boot loader must be on the same drive. Once these changes have been made, you should be able to finish your installation and boot the system properly.</simpara>
</section>
<section xml:id="graphical-boot-sequence-not-responding_troubleshooting-after-installation">
<title>Graphical boot sequence is not responding</title>
<simpara role="_abstract">When rebooting your system for the first time after installation, the system might be unresponsive during the graphical boot sequence. If this occurs, a reset is required. In this scenario, the boot loader menu is displayed successfully, but selecting any entry and attempting to boot the system results in a halt. This usually indicates that there is a problem with the graphical boot sequence. To resolve the issue, you must disable the graphical boot by temporarily altering the setting at boot time before changing it permanently.</simpara>
<orderedlist numeration="arabic">
<title>Procedure: Disabling the graphical boot temporarily</title>
<listitem>
<simpara>Start your system and wait until the boot loader menu is displayed. If you set your boot timeout period to <literal>0</literal>, press the <keycap>Esc</keycap> key to access it.</simpara>
</listitem>
<listitem>
<simpara>From the boot loader menu, use your cursor keys to highlight the entry you want to boot. Press the <keycap>Tab</keycap> key on BIOS-based systems or the <keycap>e</keycap> key on UEFI-based systems to edit the selected entry options.</simpara>
</listitem>
<listitem>
<simpara>In the list of options, find the kernel line - that is, the line beginning with the keyword <emphasis role="strong">linux</emphasis>. On this line, locate and delete <literal>rhgb</literal>.</simpara>
</listitem>
<listitem>
<simpara>Press <keycap>F10</keycap> or <keycap>Ctrl</keycap>+<keycap>X</keycap> to boot your system with the edited options.</simpara>
</listitem>
</orderedlist>
<simpara>If the system started successfully, you can log in normally. However, if you do not disable graphical boot permanently, you must perform this procedure every time the system boots.</simpara>
<orderedlist numeration="arabic">
<title>Procedure: Disabling the graphical boot permanently</title>
<listitem>
<simpara>Log in to the root account on your system.</simpara>
</listitem>
<listitem>
<simpara>Use the grubby tool to find the default GRUB2 kernel:</simpara>
<screen># grubby --default-kernel
/boot/vmlinuz-4.18.0-94.el8.x86_64</screen>
</listitem>
<listitem>
<simpara>Use the grubby tool to remove the <literal>rhgb</literal> boot option from the default kernel in your GRUB2 configuration. For example:</simpara>
<screen># grubby --remove-args="rhgb" --update-kernel /boot/vmlinuz-4.18.0-94.el8.x86_64</screen>
</listitem>
<listitem>
<simpara>Reboot the system. The graphical boot sequence is no longer used. If you want to enable the graphical boot sequence, follow the same procedure, replacing the <literal>--remove-args="rhgb"</literal> parameter with the <literal>--args="rhgb"</literal> parameter. This restores the <literal>rhgb</literal> boot option to the default kernel in your GRUB2 configuration.</simpara>
</listitem>
</orderedlist>
</section>
<section xml:id="x-server-fails-after-log-in_troubleshooting-after-installation">
<title>X server fails after log in</title>
<simpara role="_abstract">An X server is a program in the X Window System that runs on local machines, that is, the computers used directly by users. X server handles all access to the graphics cards, display screens and input devices, typically a keyboard and mouse on those computers. The X Window System, often referred to as X, is a complete, cross-platform and free client-server system for managing GUIs on single computers and on networks of computers. The client-server model is an architecture that divides the work between two separate but linked applications, referred to as clients and servers.*</simpara>
<simpara>If X server crashes after login, one or more of the file systems might be full. To troubleshoot the issue, execute the following command:</simpara>
<screen>$ df -h</screen>
<simpara>The output verifies which partition is full - in most cases, the problem is on the <literal>/home</literal> partition. The following is a sample output of the <literal>df</literal> command:</simpara>
<screen>Filesystem                                  Size  Used Avail Use% Mounted on
devtmpfs                                    396M     0  396M   0%  /dev
tmpfs                                       411M     0  411M   0%  /dev/shm
tmpfs                                       411M  6.7M  405M   2%  /run
tmpfs                                       411M     0  411M   0%  /sys/fs/cgroup
/dev/mapper/rhel-root                       17G    4.1G  13G   25% /
/dev/sda1                                   1014M  173M 842M  17% /boot
tmpfs                                       83M    20K   83M   1%  /run/user/42
tmpfs                                       83M    84K  83M    1%  /run/user/1000
/dev/dm-4                                   90G    90G    0  100% /home</screen>
<simpara>In the example, you can see that the <literal>/home</literal> partition is full, which causes the failure. Remove any unwanted files. After you free up some disk space, start X using the <literal>startx</literal> command.
For additional information about <literal>df</literal> and an explanation of the options available, such as the <literal>-h</literal> option used in this example, see the <literal>df(1)</literal> man page.</simpara>
<simpara>*Source: <link xl:href="http://www.linfo.org/x_server.html">http://www.linfo.org/x_server.html</link></simpara>
</section>
<section xml:id="ram-is-not-being-recognized_troubleshooting-after-installation">
<title>RAM is not recognized</title>
<simpara role="_abstract">In some scenarios, the kernel does not recognize all memory (RAM), which causes the system to use less memory than is installed. If the total amount of memory that your system reports does not match your expectations, it is likely that at least one of your memory modules is faulty. On BIOS-based systems, you can use the <literal>Memtest86+</literal> utility to test your system&#8217;s memory.</simpara>
<simpara>Some hardware configurations have part of the system&#8217;s RAM reserved, and as a result, it is unavailable to the system. Some laptop computers with integrated graphics cards reserve a portion of memory for the GPU. For example, a laptop with 4 GiB of RAM and an integrated Intel graphics card shows roughly 3.7 GiB of available memory.
Additionally, the <literal>kdump</literal> crash kernel dumping mechanism, which is enabled by default on most Red Hat Enterprise Linux systems, reserves some memory for the secondary kernel used in case of a primary kernel failure. This reserved memory is not displayed as available.</simpara>
<simpara>Use this procedure to manually set the amount of memory.</simpara>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>Check the amount of memory that your system currently reports in MiB:</simpara>
<screen>$ free -m</screen>
</listitem>
<listitem>
<simpara>Reboot your system and wait until the boot loader menu is displayed.</simpara>
<simpara>If your boot timeout period is set to <literal>0</literal>, press the <keycap>Esc</keycap> key to access the menu.</simpara>
</listitem>
<listitem>
<simpara>From the boot loader menu, use your cursor keys to highlight the entry you want to boot, and press the <keycap>Tab</keycap> key on BIOS-based systems or the <keycap>e</keycap> key on UEFI-based systems to edit the selected entry options.</simpara>
</listitem>
<listitem>
<simpara>In the list of options, find the kernel line: that is, the line beginning with the keyword <literal>linux</literal>. Append the following option to the end of this line:</simpara>
<screen>mem=<emphasis>xx</emphasis>M</screen>
</listitem>
<listitem>
<simpara>Replace <literal><emphasis>xx</emphasis></literal> with the amount of RAM you have in MiB.</simpara>
</listitem>
<listitem>
<simpara>Press <keycap>F10</keycap> or <keycombo><keycap>Ctrl</keycap><keycap>X</keycap></keycombo> to boot your system with the edited options.</simpara>
</listitem>
<listitem>
<simpara>Wait for the system to boot, log in, and open a command line.</simpara>
</listitem>
<listitem>
<simpara>Check the amount of memory that your system reports in MiB:</simpara>
<screen>$ free -m</screen>
</listitem>
<listitem>
<simpara>If the total amount of RAM displayed by the command now matches your expectations, make the change permanent:</simpara>
<screen># grubby --update-kernel=ALL --args="mem=<emphasis>xx</emphasis>M"</screen>
</listitem>
</orderedlist>
</section>
<section xml:id="system-is-displaying-signal-11-errors_troubleshooting-after-installation">
<title>System is displaying signal 11 errors</title>
<simpara role="_abstract">A signal 11 error, commonly known as a segmentation fault means that a program accessed a memory location that it was not assigned. A signal 11 error can occur due to a bug in one of the software programs that are installed, or faulty hardware. If you receive a signal 11 error during the installation process, verify that you are using the most recent installation images and prompt the installation program to verify them to ensure they are not corrupt.</simpara>
<simpara>For more information, see <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_a_standard_rhel_9_installation/index#verifying-boot-media_troubleshooting-at-the-start-of-the-installation">Verifying Boot media</link>.</simpara>
<simpara>Faulty installation media (such as an improperly burned or scratched optical disk) are a common cause of signal 11 errors. Verifying the integrity of the installation media is recommended before every installation. For information about obtaining the most recent installation media, see <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_a_standard_rhel_9_installation/index#downloading-beta-installation-images_preparing-for-your-installation">Downloading the installation ISO image</link>.</simpara>
<simpara>To perform a media check before the installation starts, append the <literal>rd.live.check</literal> boot option at the boot menu. If you performed a media check without any errors and you still have issues with segmentation faults, it usually indicates that your system encountered a hardware error. In this scenario, the problem is most likely in the system&#8217;s memory (RAM). This can be a problem even if you previously used a different operating system on the same computer without any errors.</simpara>
<note>
<simpara>For AMD and Intel 64-bit and 64-bit ARM architectures: On BIOS-based systems, you can use the <literal>Memtest86+</literal> memory testing module included on the installation media to perform a thorough test of your system&#8217;s memory.</simpara>
<simpara>For more information, see <link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html-single/performing_a_standard_rhel_9_installation/index#memtest86_troubleshooting-at-the-start-of-the-installation">Detecting memory faults using the Memtest86 application</link>.</simpara>
</note>
<simpara>Other possible causes are beyond this document&#8217;s scope. Consult your hardware manufacturer&#8217;s documentation and also see the Red Hat Hardware Compatibility List, available online at <link xl:href="https://access.redhat.com/ecosystem/search/#/category/Server">https://access.redhat.com/ecosystem/search/#/category/Server</link>.</simpara>
</section>
<section xml:id="unable-to-ipl-from-network-storage-space_troubleshooting-after-installation">
<title>Unable to IPL from network storage space</title>
<note>
<itemizedlist>
<listitem>
<simpara>This issue is for IBM Power Systems.</simpara>
</listitem>
</itemizedlist>
</note>
<simpara>If you experience difficulties when trying to IPL from Network Storage Space (*NWSSTG), it is most likely due to a missing PReP partition. In this scenario, you must reinstall the system and  create this partition during the partitioning phase or in the Kickstart file.</simpara>
</section>
<section xml:id="using-xdmcp_troubleshooting-after-installation">
<title>Using XDMCP</title>
<simpara role="_abstract">There are scenarios where you have installed the X Window System and want to log in to your Red Hat Enterprise Linux system using a graphical login manager.
Use this procedure to enable the X Display Manager Control Protocol (XDMCP) and remotely log in to a desktop environment from any X-compatible client, such as a network-connected workstation or X11 terminal.</simpara>
<note>
<simpara>XDMCP is not supported by the Wayland protocol.</simpara>
</note>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>Open the <literal>/etc/gdm/custom.conf</literal> configuration file in a plain text editor such as <emphasis role="strong">vi</emphasis> or <emphasis role="strong">nano</emphasis>.</simpara>
</listitem>
<listitem>
<simpara>In the <literal>custom.conf</literal> file, locate the section starting with <literal>[xdmcp]</literal>. In this section, add the following line:</simpara>
<screen>Enable=true</screen>
</listitem>
<listitem>
<simpara>If you are using XDMCP, ensure that <literal>WaylandEnable=false</literal> is present in the <literal>/etc/gdm/custom.conf</literal> file.</simpara>
</listitem>
<listitem>
<simpara>Save the file and exit the text editor.</simpara>
</listitem>
<listitem>
<simpara>Restart the X Window System. To do this, either reboot the system, or restart the GNOME Display Manager using the following command as root:</simpara>
<screen># systemctl restart gdm.service</screen>
<warning>
<simpara>Restarting the <literal>gdm</literal> service terminates all currently running GNOME sessions of all desktop users who are logged in. This might result in users losing unsaved data.</simpara>
</warning>
</listitem>
</orderedlist>
<orderedlist numeration="arabic">
<listitem>
<simpara>Wait for the login prompt and log in using your user name and password.
The X Window System is now configured for XDMCP. You can connect to it from another workstation (client) by starting a remote X session using the X command on the client workstation. For example:</simpara>
<screen>$ X :1 -query address</screen>
</listitem>
<listitem>
<simpara>Replace <literal>address</literal> with the host name of the remote X11 server. The command connects to the remote X11 server using XDMCP and displays the remote graphical login screen on display :1 of the X11 server system (usually accessible by pressing <literal>Ctrl-Alt-F8</literal>). You can also access remote desktop sessions using a nested X11 server, which opens the remote desktop as a window in your current X11 session. You can use Xnest to open a remote desktop nested in a local X11 session. For example, run Xnest using the following command, replacing address with the host name of the remote X11 server:</simpara>
<screen>$ Xnest :1 -query address</screen>
</listitem>
</orderedlist>
<itemizedlist role="_additional-resources">
<title>Additional resources</title>
<listitem>
<simpara><link xl:href="http://www.x.org/releases/X11R7.6/doc/libXdmcp/xdmcp.html">X Window System documentation</link></simpara>
</listitem>
</itemizedlist>
</section>
<section xml:id="using-rescue-mode_troubleshooting-after-installation">
<title>Using rescue mode</title>
<simpara role="_abstract">The installation program&#8217;s rescue mode is a minimal Linux environment that can be booted from the Red Hat Enterprise Linux DVD or other boot media. It contains command-line utilities for repairing a wide variety of issues. Rescue mode can be accessed from the <emphasis role="strong">Troubleshooting</emphasis> menu of the boot menu. In this mode, you can mount file systems as read-only, blacklist or add a driver provided on a driver disc, install or upgrade system packages, or manage partitions.</simpara>
<note>
<simpara>The installation program&#8217;s rescue mode is different from rescue mode (an equivalent to single-user mode) and emergency mode, which are provided as parts of the <literal>systemd</literal> system and service manager.</simpara>
</note>
<simpara>To boot into rescue mode, you must be able to boot the system using one of the Red Hat Enterprise Linux boot media, such as a minimal boot disc or USB drive, or a full installation DVD.</simpara>
<important>
<simpara>Advanced storage, such as iSCSI or zFCP devices, must be configured either using <literal>dracut</literal> boot options such as <literal>rd.zfcp=</literal> or <literal>root=iscsi:</literal> <emphasis>options</emphasis>, or in the CMS configuration file on 64-bit IBM Z. It is not possible to configure these storage devices interactively after booting into rescue mode. For information about <literal>dracut</literal> boot options, see the <literal>dracut.cmdline(7)</literal> man page.</simpara>
</important>
<section xml:id="booting-into-rescue-mode_using-rescue-mode">
<title>Booting into rescue mode</title>
<simpara role="_abstract">This procedure describes how to boot into rescue mode.</simpara>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>Boot the system from either minimal boot media, or a full installation DVD or USB drive, and wait for the boot menu to be displayed.</simpara>
</listitem>
<listitem>
<simpara>From the boot menu, either select <emphasis role="strong">Troubleshooting</emphasis> &gt; <emphasis role="strong">Rescue a Red Hat Enterprise Linux system</emphasis> option, or append the <literal>inst.rescue</literal> option to the boot command line. To enter the boot command line, press the <keycap>Tab</keycap> key on BIOS-based systems or the <keycap>e</keycap> key on UEFI-based systems.</simpara>
</listitem>
<listitem>
<simpara>Optional: If your system requires a third-party driver provided on a driver disc to boot, append the <literal>inst.dd=driver_name</literal> to the boot command line:</simpara>
<screen>inst.rescue inst.dd=driver_name</screen>
</listitem>
<listitem>
<simpara>Optional: If a driver that is part of the Red Hat Enterprise Linux distribution prevents the system from booting, append the <literal>modprobe.blacklist=</literal> option to the boot command line:</simpara>
<screen>inst.rescue modprobe.blacklist=driver_name</screen>
</listitem>
<listitem>
<simpara>Press <keycap>Enter</keycap> (BIOS-based systems) or <keycap>Ctrl</keycap>+<keycap>X</keycap> (UEFI-based systems) to boot the modified option. Wait until the following message is displayed:</simpara>
<screen>The rescue environment will now attempt to find your Linux installation and mount it under the directory: /mnt/sysroot/. You can then make any changes required to your system. Choose <emphasis role="strong">1</emphasis> to proceed with this step. You can choose to mount your file systems read-only instead of read-write by choosing <emphasis role="strong">2</emphasis>. If for some reason this process does not work choose <emphasis role="strong">3</emphasis> to skip directly to a shell.

1) Continue
2) Read-only mount
3) Skip to shell
4) Quit (Reboot)</screen>
<simpara>If you select <emphasis role="strong">1</emphasis>, the installation program attempts to mount your file system under the directory <literal>/mnt/sysroot/</literal>. You are notified if it fails to mount a partition. If you select <emphasis role="strong">2</emphasis>, it attempts to mount your file system under the directory <literal>/mnt/sysroot/</literal>, but in read-only mode. If you select <emphasis role="strong">3</emphasis>, your file system is not mounted.</simpara>
<simpara>For the system root, the installer supports two mount points <literal>/mnt/sysimage</literal> and <literal>/mnt/sysroot</literal>. The <literal>/mnt/sysroot</literal> path is used to mount <literal>/</literal> of the target system. Usually, the physical root and the system root are the same, so <literal>/mnt/sysroot</literal> is attached to the same file system as <literal>/mnt/sysimage</literal>. The only exceptions are rpm-ostree systems, where the system root changes based on the deployment. Then, <literal>/mnt/sysroot</literal> is attached to a subdirectory of <literal>/mnt/sysimage</literal>. It is recommended to use <literal>/mnt/sysroot</literal> for chroot.</simpara>
</listitem>
<listitem>
<simpara>Select <emphasis role="strong">1</emphasis> to continue. Once your system is in rescue mode, a prompt appears on VC (virtual console) 1 and VC 2. Use the <literal>Ctrl+Alt+F1</literal> key combination to access VC 1 and <literal>Ctrl+Alt+F2</literal> to access VC 2:</simpara>
<screen>sh-4.2#</screen>
</listitem>
<listitem>
<simpara>Even if your file system is mounted, the default root partition while in rescue mode is a temporary root partition, not the root partition of the file system used during normal user mode (<literal>multi-user.target</literal> or <literal>graphical.target</literal>). If you selected to mount your file system and it mounted successfully, you can change the root partition of the rescue mode environment to the root partition of your file system by executing the following command:</simpara>
<screen>sh-4.2# chroot /mnt/sysroot</screen>
<simpara>This is useful if you need to run commands, such as <literal>rpm</literal>, that require your root partition to be mounted as <literal>/</literal>. To exit the chroot environment, type <emphasis role="strong">exit</emphasis> to return to the prompt.</simpara>
</listitem>
<listitem>
<simpara>If you selected <emphasis role="strong">3</emphasis>, you can still try to mount a partition or LVM2 logical volume manually inside rescue mode by creating a directory, such as <literal>/directory/</literal>, and typing the following command:</simpara>
<screen>sh-4.2# mount -t xfs /dev/mapper/VolGroup00-LogVol02 /directory</screen>
<simpara>In the above command, <literal>/directory/</literal> is the directory that you created and <literal>/dev/mapper/VolGroup00-LogVol02</literal> is the LVM2 logical volume you want to mount. If the partition is a different type than XFS, replace the xfs string with the correct type (such as ext4).</simpara>
</listitem>
<listitem>
<simpara>If you do not know the names of all physical partitions, use the following command to list them:</simpara>
<screen>sh-4.2# fdisk -l</screen>
<simpara>If you do not know the names of all LVM2 physical volumes, volume groups, or logical volumes, use the <literal>pvdisplay</literal>, <literal>vgdisplay</literal> or <literal>lvdisplay</literal> commands.</simpara>
</listitem>
</orderedlist>
</section>
<section xml:id="using-an-sos-report-in-rescue-mode_using-rescue-mode">
<title>Using an SOS report in rescue mode</title>
<simpara role="_abstract">The <literal>sosreport</literal> command-line utility collects configuration and diagnostic information, such as the running kernel version, loaded modules, and system and service configuration files from the system. The utility output is stored in a tar archive in the <literal>/var/tmp/</literal> directory. The <literal>sosreport</literal> utility is useful for analyzing system errors and troubleshooting.
Use this procedure to capture an <literal>sosreport</literal> output in rescue mode.</simpara>
<itemizedlist>
<title>Prerequisites</title>
<listitem>
<simpara>You have booted into rescue mode.</simpara>
</listitem>
<listitem>
<simpara>You have mounted the installed system <literal>/ (root)</literal> partition in read-write mode.</simpara>
</listitem>
<listitem>
<simpara>You have contacted Red Hat Support about your case and received a case number.</simpara>
</listitem>
</itemizedlist>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>Change the root directory to the <literal>/mnt/sysroot/</literal> directory:</simpara>
<screen>sh-4.2# chroot /mnt/sysroot/</screen>
</listitem>
<listitem>
<simpara>Execute <literal>sosreport</literal> to generate an archive with system configuration and diagnostic information:</simpara>
<screen>sh-4.2# sosreport</screen>
<important>
<simpara><literal>sosreport</literal> prompts you to enter your name and the case number you received from Red Hat Support. Use only letters and numbers because adding any of the following characters or spaces could render the report unusable:</simpara>
<simpara><literal># % &amp; { } \ &lt; &gt; &gt; * ? / $ ~ ' " : @ + ` | =</literal></simpara>
</important>
</listitem>
<listitem>
<simpara>Optional: If you want to transfer the generated archive to a new location using the network, it is necessary to have a network interface configured. In this scenario, use the dynamic IP addressing as no other steps required. However, when using static addressing, enter the following command to assign an IP address (for example 10.13.153.64/23) to a network interface, for example dev eth0:</simpara>
<screen>bash-4.2# ip addr add 10.13.153.64/23 dev eth0</screen>
</listitem>
<listitem>
<simpara>Exit the chroot environment:</simpara>
<screen>sh-4.2# exit</screen>
</listitem>
<listitem>
<simpara>Store the generated archive in a new location, from where it can be easily accessible:</simpara>
<screen>sh-4.2# cp /mnt/sysroot/var/tmp/sosreport new_location</screen>
</listitem>
<listitem>
<simpara>For transferring the archive through the network, use the <literal>scp</literal> utility:</simpara>
<screen>sh-4.2# scp /mnt/sysroot/var/tmp/sosreport username@hostname:sosreport</screen>
<itemizedlist role="_additional-resources">
<title>Additional resources</title>
<listitem>
<simpara><link xl:href="https://access.redhat.com/solutions/3592">What is an sosreport and how to create one in Red Hat Enterprise Linux?</link></simpara>
</listitem>
<listitem>
<simpara><link xl:href="https://access.redhat.com/solutions/2872">How to generate sosreport from the rescue environment</link></simpara>
</listitem>
<listitem>
<simpara><link xl:href="https://access.redhat.com/solutions/1847">How do I make sosreport write to an alternative location?</link></simpara>
</listitem>
<listitem>
<simpara><link xl:href="https://access.redhat.com/solutions/68996">Sosreport fails. What data should I provide in its place?</link></simpara>
</listitem>
</itemizedlist>
</listitem>
</orderedlist>
</section>
<section xml:id="reinstalling-the-grub2-boot-loader_using-rescue-mode">
<title>Reinstalling the GRUB2 boot loader</title>
<simpara role="_abstract">In some scenarios, the GRUB2 boot loader is mistakenly deleted, corrupted, or replaced by other operating systems.
Use this procedure to reinstall GRUB2 on the master boot record (MBR) on AMD64 and Intel 64 systems with BIOS.</simpara>
<itemizedlist>
<title>Prerequisites</title>
<listitem>
<simpara>You have booted into rescue mode.</simpara>
</listitem>
<listitem>
<simpara>You have mounted the installed system <literal>/ (root)</literal> partition in read-write mode.</simpara>
</listitem>
<listitem>
<simpara>You have mounted the <literal>/boot</literal> mount point in read-write mode.</simpara>
</listitem>
</itemizedlist>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>Change the root partition:</simpara>
<screen>sh-4.2# chroot /mnt/sysroot/</screen>
</listitem>
<listitem>
<simpara>Reinstall the GRUB2 boot loader, where the <literal>install_device</literal> block device was installed:</simpara>
<screen>sh-4.2# /sbin/grub2-install install_device</screen>
<important>
<simpara>Running the <literal>grub2-install</literal> command could lead to the machine being unbootable if all the following conditions apply:</simpara>
<itemizedlist>
<listitem>
<simpara>The system is an AMD64 or Intel 64 with Extensible Firmware Interface (EFI).</simpara>
</listitem>
<listitem>
<simpara>Secure Boot is enabled.</simpara>
</listitem>
</itemizedlist>
<simpara>After you run the <literal>grub2-install</literal> command, you cannot boot the AMD64 or Intel 64 systems that have Extensible Firmware Interface (EFI) and Secure Boot enabled. This issue occurs because the <literal>grub2-install</literal> command installs an unsigned GRUB2 image that boots directly instead of using the shim application. When the system boots, the shim application validates the image signature, which when not found fails to boot the system.</simpara>
</important>
</listitem>
<listitem>
<simpara>Reboot the system.</simpara>
</listitem>
</orderedlist>
</section>
<section xml:id="using-rpm-to-add-or-remove-a-driver_using-rescue-mode">
<title>Using RPM to add or remove a driver</title>
<simpara role="_abstract">Missing or malfunctioning drivers cause problems when booting the system. Rescue mode provides an environment in which you can add or remove a driver even when the system fails to boot. Wherever possible, it is recommended that you use the RPM package manager to remove malfunctioning drivers or to add updated or missing drivers.
Use the following procedures to add or remove a driver.</simpara>
<important>
<simpara>When you install a driver from a driver disc, the driver disc updates all <literal>initramfs</literal> images on the system to use this driver. If a problem with a driver prevents a system from booting, you cannot rely on booting the system from another <literal>initramfs</literal> image.</simpara>
</important>
<section xml:id="_adding_a_driver_using_rpm">
<title>Adding a driver using RPM</title>
<simpara>Use this procedure to add a driver.</simpara>
<itemizedlist>
<title>Prerequisites</title>
<listitem>
<simpara>You have booted into rescue mode.</simpara>
</listitem>
<listitem>
<simpara>You have mounted the installed system in read-write mode.</simpara>
</listitem>
</itemizedlist>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>Make the RPM package that contains the driver available. For example, mount a CD or USB flash drive and copy the RPM package to a location of your choice under <literal>/mnt/sysroot/</literal>, for example: <literal>/mnt/sysroot/root/drivers/</literal>.</simpara>
</listitem>
<listitem>
<simpara>Change the root directory to <literal>/mnt/sysroot/</literal>:</simpara>
<screen>sh-4.2# chroot /mnt/sysroot/</screen>
</listitem>
<listitem>
<simpara>Use the <literal>rpm -ivh</literal> command to install the driver package. For example, run the following command to install the <literal>xorg-x11-drv-wacom</literal> driver package from <literal>/root/drivers/</literal>:</simpara>
<screen>sh-4.2# rpm -ivh /root/drivers/xorg-x11-drv-wacom-0.23.0-6.el7.x86_64.rpm</screen>
<note>
<simpara>The <literal>/root/drivers/</literal> directory in this chroot environment is the <literal>/mnt/sysroot/root/drivers/</literal> directory in the original rescue environment.</simpara>
</note>
</listitem>
<listitem>
<simpara>Exit the chroot environment:</simpara>
<screen>sh-4.2# exit</screen>
</listitem>
</orderedlist>
</section>
<section xml:id="_removing_a_driver_using_rpm">
<title>Removing a driver using RPM</title>
<simpara>Use this procedure to remove a driver.</simpara>
<itemizedlist>
<title>Prerequisites</title>
<listitem>
<simpara>You have booted into rescue mode.</simpara>
</listitem>
<listitem>
<simpara>You have mounted the installed system in read-write mode.</simpara>
</listitem>
</itemizedlist>
<orderedlist numeration="arabic">
<title>Procedure</title>
<listitem>
<simpara>Change the root directory to the <literal>/mnt/sysroot/</literal> directory:</simpara>
<screen>sh-4.2# chroot /mnt/sysroot/</screen>
</listitem>
<listitem>
<simpara>Use the <literal>rpm -e</literal> command to remove the driver package. For example, to remove the <literal>xorg-x11-drv-wacom</literal> driver package, run:</simpara>
<screen>sh-4.2# rpm -e xorg-x11-drv-wacom</screen>
</listitem>
<listitem>
<simpara>Exit the chroot environment:</simpara>
<screen>sh-4.2# exit</screen>
<simpara>If you cannot remove a malfunctioning driver for some reason, you can instead blocklist the driver so that it does not load at boot time.</simpara>
</listitem>
<listitem>
<simpara>When you have finished adding and removing drivers, reboot the system.</simpara>
</listitem>
</orderedlist>
</section>
</section>
</section>
<section xml:id="ip-boot-option-format-error_troubleshooting-after-installation">
<title>ip= boot option returns an error</title>
<simpara role="_abstract">Using the <literal>ip=</literal> boot option format <literal>ip=[ip address]</literal> for example, <literal>ip=192.168.1.1</literal> returns the error message <literal>Fatal for argument 'ip=[insert ip here]'\n sorry, unknown value [ip address] refusing to continue</literal>.</simpara>
<simpara>In previous releases of Red Hat Enterprise Linux, the boot option format was:</simpara>
<screen>ip=192.168.1.15 netmask=255.255.255.0 gateway=192.168.1.254 nameserver=192.168.1.250 hostname=myhost1</screen>
<simpara>However, in Red Hat Enterprise Linux 9, the boot option format is:</simpara>
<screen>ip=192.168.1.15::192.168.1.254:255.255.255.0:myhost1::none: nameserver=192.168.1.250</screen>
<simpara>To resolve the issue, use the format: <literal>ip=ip::gateway:netmask:hostname:interface:none</literal> where:</simpara>
<itemizedlist>
<listitem>
<simpara><literal>ip</literal> specifies the client ip address. You can specify IPv6 addresses in square brackets, for example, <literal>[2001:DB8::1]</literal>.</simpara>
</listitem>
<listitem>
<simpara><literal>gateway</literal> is the default gateway. IPv6 addresses are also accepted.</simpara>
</listitem>
<listitem>
<simpara><literal>netmask</literal> is the netmask to be used. This can be either a full netmask, for example, 255.255.255.0, or a prefix, for example, <literal>64</literal>.</simpara>
</listitem>
<listitem>
<simpara><literal>hostname</literal> is the host name of the client system. This parameter is optional.</simpara>
</listitem>
</itemizedlist>
<itemizedlist role="_additional-resources">
<title>Additional resources</title>
<listitem>
<simpara><link xl:href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/boot_options_for_rhel_installer#network-boot-options_kickstart-and-advanced-boot-options">Installation source boot options</link></simpara>
</listitem>
</itemizedlist>
</section>
<section xml:id="cannot-boot-into-the-graphical-installation-on-ilo-or-idrac-devices_troubleshooting-after-installation">
<title>Cannot boot into the graphical installation on iLO or iDRAC devices</title>
<simpara role="_abstract">The graphical installer for a remote ISO installation on iLO or iDRAC devices may not be available due to a slow internet connection. To proceed with the installation in this case, you can choose one of the following methods:</simpara>
<orderedlist numeration="arabic">
<listitem>
<simpara>Avoid the timeout. To do so:</simpara>
<orderedlist numeration="loweralpha">
<listitem>
<simpara>Press the <guibutton>Tab</guibutton> key in case of BIOS usage, or the <guibutton>e</guibutton> key in case of UEFI usage when booting from an installation media. That will allow you to modify the kernel command line arguments.</simpara>
</listitem>
<listitem>
<simpara>To proceed with the installation, append the <literal>rd.live.ram=1</literal> and press <guibutton>Enter</guibutton> in case of BIOS usage, or <guibutton>Ctrl+x</guibutton> in case of UEFI usage.</simpara>
<simpara>This might take longer time to load the installation program.</simpara>
</listitem>
</orderedlist>
</listitem>
<listitem>
<simpara>Another option to extend the loading time for the graphical installer is to set the <literal>inst.xtimeout</literal> kernel argument in seconds.</simpara>
<literallayout class="monospaced">inst.xtimeout=<emphasis>N</emphasis></literallayout>
</listitem>
<listitem>
<simpara>You can install the system in text mode. For more details, see <link xl:href="https://access.redhat.com/articles/4323781">Installing RHEL8 in text mode</link>.</simpara>
</listitem>
<listitem>
<simpara>In the remote management console, such as iLO or iDRAC, instead of a local media source, use the direct URL to the installation ISO file from the <link xl:href="https://access.redhat.com/downloads">Download center</link> on the Red Hat Customer Portal. You must be logged in to access this section.</simpara>
</listitem>
</orderedlist>
</section>
<section xml:id="ref_rootfs-image-is-not-initramfs_troubleshooting-after-installation">
<title>Rootfs image is not initramfs</title>
<simpara role="_abstract">If you get the following message on the console during booting the installer, the transfer of the installer <literal>initrd.img</literal> might have had errors:</simpara>
<literallayout class="monospaced">[ ...] rootfs image is not initramfs</literallayout>
<simpara>To resolve this issue, download <literal>initrd</literal> again or run the <literal>sha256sum</literal> with <literal>initrd.img</literal> and compare it with the checksum stored in the <literal>.treeinfo</literal> file on the installation medium, for example,</simpara>
<literallayout class="monospaced">$ sha256sum dvd/images/pxeboot/initrd.img
fdb1a70321c06e25a1ed6bf3d8779371b768d5972078eb72b2c78c925067b5d8 dvd/images/pxeboot/initrd.img</literallayout>
<simpara>To view the checksum in <literal>.treeinfo</literal>:</simpara>
<literallayout class="monospaced">$ grep sha256 dvd/.treeinfo
images/efiboot.img = sha256:<emphasis>d357d5063b96226d643c41c9025529554a422acb43a4394e4ebcaa779cc7a917</emphasis>
images/install.img = sha256:<emphasis>8c0323572f7fc04e34dd81c97d008a2ddfc2cfc525aef8c31459e21bf3397514</emphasis>
images/pxeboot/initrd.img = sha256:<emphasis>fdb1a70321c06e25a1ed6bf3d8779371b768d5972078eb72b2c78c925067b5d8</emphasis>
images/pxeboot/vmlinuz = sha256:<emphasis>b9510ea4212220e85351cbb7f2ebc2b1b0804a6d40ccb93307c165e16d1095db</emphasis></literallayout>
<simpara>Despite having correct <literal>initrd.img</literal>, if you get the following kernel messages during booting the installer, often a boot parameter is missing or mis-spelled, and the installer could not load <literal>stage2</literal>, typically referred to by the <literal>inst.repo=</literal> parameter, providing the full installer initial ramdisk for its in-memory root file system:</simpara>
<literallayout class="monospaced">[ ...] No filesystem could mount root, tried:
[ ...] Kernel panic - not syncing: VFS: Unable to mount root fs on unknown-block(1,0)
[ ...] CPU: 0 PID: 1 Comm: swapper/0 Not tainted 5.14.0-55.el9.s390x #1
[ ...] ...
[ ...] Call Trace:
[ ...] ([&lt;...&gt;] show_trace+0x.../0x...)
[ ...]  [&lt;...&gt;] show_stack+0x.../0x...
[ ...]  [&lt;...&gt;] panic+0x.../0x...
[ ...]  [&lt;...&gt;] mount_block_root+0x.../0x...
[ ...]  [&lt;...&gt;] prepare_namespace+0x.../0x...
[ ...]  [&lt;...&gt;] kernel_init_freeable+0x.../0x...
[ ...]  [&lt;...&gt;] kernel_init+0x.../0x...
[ ...]  [&lt;...&gt;] kernel_thread_starter+0x.../0x...
[ ...]  [&lt;...&gt;] kernel_thread_starter+0x.../0x</literallayout>
<simpara>To resolve this issue, check</simpara>
<itemizedlist>
<listitem>
<simpara>if the installation source specified is correct on the kernel command line (<literal>inst.repo=</literal>) or in the kickstart file</simpara>
</listitem>
<listitem>
<simpara>the network configuration is specified on the kernel command line (if the installation source is specified as network)</simpara>
</listitem>
<listitem>
<simpara>the network installation source is accessible from another system</simpara>
</listitem>
</itemizedlist>
</section>
</appendix>
</article>